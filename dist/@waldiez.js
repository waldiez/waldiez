/**
 * SPDX-License-Identifier: Apache-2.0
 * Copyright 2024 - 2026 Waldiez & contributors
 */

import*as e from"react";import t,{useMemo as n,useReducer as a,useRef as o,useCallback as r,useState as i,useEffect as s,createContext as l,useContext as c,Component as d,createElement as u,useLayoutEffect as p,memo as g,forwardRef as m,Fragment as h,useImperativeHandle as f,Children as b,isValidElement as y}from"react";import v from"jszip";import{jsx as C,jsxs as w,Fragment as x}from"react/jsx-runtime";import{MarkerType as A,applyEdgeChanges as I,applyNodeChanges as N,useReactFlow as k,Panel as S,getSimpleBezierPath as T,Position as E,BaseEdge as M,EdgeLabelRenderer as R,Handle as D,NodeResizer as O,ReactFlow as P,Controls as L,Background as B,BackgroundVariant as G,ReactFlowProvider as z}from"@xyflow/react";import{Editor as _,loader as V}from"@monaco-editor/react";import{motion as H}from"framer-motion";import*as W from"react-dom";import F,{createPortal as j}from"react-dom";import{temporal as U}from"zundo";import{createStore as X}from"zustand";import{offset as Z,shift as J,flip as Y,size as q,hide as $,limitShift as Q,computePosition as K,arrow as ee,autoUpdate as te}from"@floating-ui/dom";import{FaInfoCircle as ne,FaEyeSlash as ae,FaEye as oe,FaTrash as re,FaSave as ie,FaPlus as se,FaCloudUploadAlt as le,FaStepForward as ce,FaStop as de,FaPlusCircle as ue,FaHourglassHalf as pe,FaCog as ge,FaCommentDots as me,FaCircle as he,FaFileImport as fe,FaFileExport as be,FaCopy as ye,FaEdit as ve,FaTools as Ce}from"react-icons/fa";import{FaX as we,FaRegUser as xe,FaChevronUp as Ae,FaChevronDown as Ie,FaCompress as Ne,FaExpand as ke,FaCircleXmark as Se,FaPlay as Te,FaStop as Ee,FaCaretLeft as Me,FaInfo as Re,FaXmark as De,FaBug as Oe,FaCirclePlay as Pe,FaPython as Le,FaFileImport as Be,FaGithub as Ge,FaSun as ze,FaMoon as _e,FaTrashCan as Ve,FaRegFileCode as He,FaCode as We,FaLock as Fe,FaTrash as je,FaGear as Ue,FaCopy as Xe,FaBars as Ze,FaRobot as Je}from"react-icons/fa6";import{Marked as Ye}from"marked";import{ResponsiveContainer as qe}from"recharts";import{MdTimeline as $e,MdIosShare as Qe,MdMessage as Ke}from"react-icons/md";import{GiNestEggs as et,GiShakingHands as tt}from"react-icons/gi";import{GoAlert as nt,GoChevronDown as at,GoChevronUp as ot}from"react-icons/go";class rt{systemMessage;humanInputMode;codeExecutionConfig;agentDefaultAutoReply;maxConsecutiveAutoReply;termination;modelIds;tools;parentId;nestedChats;contextVariables;updateAgentStateBeforeReply;afterWork;handoffs;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[]}){this.systemMessage=e.systemMessage,this.humanInputMode=e.humanInputMode,this.codeExecutionConfig=e.codeExecutionConfig,this.agentDefaultAutoReply=e.agentDefaultAutoReply,this.maxConsecutiveAutoReply=e.maxConsecutiveAutoReply,this.termination=e.termination,this.modelIds=e.modelIds,this.tools=e.tools,this.parentId=e.parentId,this.nestedChats=e.nestedChats,this.contextVariables=e.contextVariables,this.updateAgentStateBeforeReply=e.updateAgentStateBeforeReply,this.afterWork=e.afterWork||null,this.handoffs=e.handoffs||[]}}const it="<Waldiez> - Done running the flow.",st=[it,"<Waldiez> - Workflow finished","<Waldiez> - Workflow stopped by user","<Waldiez> - Workflow execution failed:"],lt={DEFAULT_PROMPT:"Enter your message to start the conversation:",GENERIC_PROMPTS:[">","> "],WORKFLOW_END_MARKERS:st,PARTICIPANTS_KEY:"participants",SYSTEM_MESSAGES:{GROUP_CHAT_RUN:"Group chat run",CODE_EXECUTION_REPLY:"Generate code execution reply",SPEAKER_SELECTION_HEADER:"## Select a speaker",SPEAKER_SELECTION_PROMPT:"Please select a speaker from the following list:",SPEAKER_SELECTION_NOTE:"**Note:** You can select a speaker by entering the corresponding number."}};const ct=function({onlyFirst:e=!1}={}){return new RegExp("(?:\\u001B\\][\\s\\S]*?(?:\\u0007|\\u001B\\u005C|\\u009C))|[\\u001B\\u009B][[\\]()#;?]*(?:\\d{1,4}(?:[;:]\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]",e?void 0:"g")}();function dt(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(ct,"")}let ut=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};class pt{canHandle(e){return"using_auto_reply"===e}handle(e){if(!e||"object"!=typeof e||"using_auto_reply"!==e.type)return;return{message:{id:e.content?.uuid||ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"using_auto_reply",content:[{type:"text",text:"Using auto reply"}],sender:e.content?.sender,recipient:e.content?.recipient}}}}class gt{canHandle(e){return"run_completion"===e}handle(e){if(e&&"object"==typeof e&&e.content&&"object"==typeof e.content)return{isWorkflowEnd:!0,runCompletion:e.content}}}class mt{canHandle(e){return"generate_code_execution_reply"===e}static isValidCodeExecutionReply(e){return!(!e||"object"!=typeof e)&&("generate_code_execution_reply"===e.type&&(!(!e.content||"object"!=typeof e.content)&&Boolean("string"==typeof e.content.uuid&&"string"==typeof e.content.sender&&"string"==typeof e.content.recipient)))}handle(e){if(!mt.isValidCodeExecutionReply(e))return;return{message:{id:ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"generate_code_execution_reply",content:[{type:"text",text:lt.SYSTEM_MESSAGES.CODE_EXECUTION_REPLY}],sender:e.content.sender,recipient:e.content.recipient}}}}class ht{canHandle(e){return"error"===e}static isValidError(e){return Boolean(e&&"object"==typeof e&&"error"===e.type&&(e.content&&"object"==typeof e.content||e.error&&("object"==typeof e.error||"string"==typeof e.error)))}handle(e){if(!ht.isValidError(e))return;const t=e.content?.error||e.error?.error||e.error;if("string"!=typeof t)return;const n=`Error: ${t}`;return{message:{id:e.content?.uuid??ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"error",content:[{type:"text",text:n}],sender:e.content?.sender,recipient:e.content?.recipient,error:t}}}}class ft{canHandle(e){return"execute_function"===e}handle(e){if(!e||"object"!=typeof e||"execute_function"!==e.type)return;return{message:{id:e.content.uuid??ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"execute_function",content:[{type:"text",text:`Execute function: ${e.content.func_name}`},{type:"text",text:`Arguments: ${e.content.arguments}`}],sender:e.content.sender,recipient:e.content.recipient}}}}class bt{canHandle(e){return"executed_function"===e}handle(e){if(!e||"object"!=typeof e||"executed_function"!==e.type)return;return{message:{id:e.content.uuid??ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"executed_function",content:[{type:"text",text:`Executed function: ${e.content.func_name}`}],sender:e.content.sender,recipient:e.content.recipient}}}}const yt=["system","post_carryover_processing","group_chat_run_chat","using_auto_reply","tool_call","execute_function","executed_function","tool_response","termination","run_completion","generate_code_execution_reply","group_chat_resume","error","info"];class vt{static isPasswordPrompt(e){return!(!e.password||"string"!=typeof e.password&&"boolean"!=typeof e.password)&&("boolean"==typeof e.password?e.password:"true"===e.password.toLowerCase())}static isSystemMessage(e){return!e||"object"!=typeof e||!e.type||"string"!=typeof e.type||(!!e.type.startsWith("debug_")||yt.includes(e.type))}static normalizePrompt(e){return lt.GENERIC_PROMPTS.includes(e)?lt.DEFAULT_PROMPT:e}static generateMessageId(e){return e.id||e.uuid||ut()}static generateTimestamp(e){return e.timestamp||/* @__PURE__ */(new Date).toISOString()}static replaceImageUrls(e,t){const n=/<img\s+(?!.*src=)([^"'>\s]+)\s*\/?>/g,a=e=>{const a=e.match(n);if(a&&1===a.length){return{type:"image_url",image_url:{url:a[0].replace(n,`<img alt="Image" src="${t}" />`),alt:"Image"}}}return null},o=e=>({...e,image_url:{...e.image_url,url:t}});if(Array.isArray(e))return e.map(e=>{if("string"==typeof e){const t=a(e);return t||{type:"text",text:e}}if("object"!=typeof e||null===e||!("type"in e))return null;if("image_url"===e.type&&e.image_url?.url)return o(e);if("text"===e.type&&e.text){return a(e.text)||e}return e}).filter(Boolean);if("object"==typeof e&&null!==e&&"type"in e){if("image_url"===e.type&&"image_url"in e&&e.image_url&&"object"==typeof e.image_url&&"url"in e.image_url&&e.image_url?.url)return o(e);if("text"===e.type&&"text"in e&&"string"==typeof e.text){return a(e.text)||e}}if("string"==typeof e){const t=a(e);return t||[{type:"text",text:e}]}return e}static normalizeContent(e,t){if("string"==typeof e){if(t){const n=/<img\s+(?!.*src=)([^"'>\s]+)\s*\/?>/g,a=e.match(n);if(a&&1===a.length){return[{type:"image_url",image_url:{url:a[0].replace(n,`<img alt="Image" src="${t}" />`),alt:"Image"}}]}}return[{type:"text",text:e}]}if(Array.isArray(e))return e.map(e=>{const n=vt.normalizeContent(e,t);return Array.isArray(n)&&1===n.length?n[0]:n});if("object"==typeof e&&null!==e&&"type"in e){if("text"===e.type&&"string"==typeof e.text)return[{type:"text",text:e.text}];if("image_url"===e.type&&e.image_url?.url)return[{type:"image_url",image_url:{url:e.image_url.url,alt:e.image_url.alt||"Image"}}]}return[e]}static generateSpeakerSelectionMarkdown(e){const t=e.map((e,t)=>`- [${t+1}] ${e}`).join("\n");return[lt.SYSTEM_MESSAGES.SPEAKER_SELECTION_HEADER,"",lt.SYSTEM_MESSAGES.SPEAKER_SELECTION_PROMPT,"",t,"",lt.SYSTEM_MESSAGES.SPEAKER_SELECTION_NOTE].join("\n")}}class Ct{canHandle(e){return"group_chat_run_chat"===e}static isValidGroupChatRun(e){return Boolean(e&&"object"==typeof e&&"group_chat_run_chat"===e.type&&e.content&&"object"==typeof e.content&&"string"==typeof e.content.uuid&&"string"==typeof e.content.speaker)}handle(e){if(!Ct.isValidGroupChatRun(e))return;return{message:{id:e.content.uuid,timestamp:/* @__PURE__ */(new Date).toISOString(),type:"group_chat_run_chat",content:[{type:"text",text:lt.SYSTEM_MESSAGES.GROUP_CHAT_RUN}],sender:e.content.speaker}}}}class wt{canHandle(e){return"select_speaker"===e||"select_speaker_invalid_input"===e}static isValidSpeakerSelection(e){return Boolean(e&&"object"==typeof e&&("select_speaker"===e.type||"select_speaker_invalid_input"===e.type)&&e.content&&"object"==typeof e.content&&"string"==typeof e.content.uuid&&Array.isArray(e.content.agents)&&e.content.agents.every(e=>"string"==typeof e))}handle(e){if(!wt.isValidSpeakerSelection(e))return;return{message:{id:e.content.uuid,timestamp:/* @__PURE__ */(new Date).toISOString(),type:"select_speaker",content:[{type:"text",text:vt.generateSpeakerSelectionMarkdown(e.content.agents)}]}}}}class xt{canHandle(e){return"group_chat_resume"===e}handle(e,t){return{message:{type:"group_chat_resume",id:e.content?.uuid??ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),content:"Resume chat",sender:e.content?.sender,recipient:e.content?.recipient}}}}class At{canHandle(e){return"input_request"===e}static isValidInputRequest(e){return!(!e||"object"!=typeof e)&&("input_request"===e.type&&("string"==typeof e.request_id&&""!==e.request_id.trim()&&"string"==typeof e.prompt))}handle(e,t){if(!At.isValidInputRequest(e))return;const n=vt.normalizePrompt(e.prompt);return{message:{id:e.request_id,timestamp:vt.generateTimestamp(e),request_id:t.requestId||e.request_id,type:"input_request",content:[{type:"text",text:n}],prompt:n,password:vt.isPasswordPrompt(e)},requestId:e.request_id}}}class It{canHandle(e){return"participants"===e}static isValidParticipantsData(e){if(e&&"object"==typeof e&&Array.isArray(e.participants)&&e.participants.length>0&&e.participants.every(e=>e&&"string"==typeof e.name))return!0;if(e&&"string"==typeof e)try{const t=JSON.parse(e);return It.isValidParticipantsData(t)}catch{return!1}return!1}static extractParticipants(e){try{const n="string"==typeof e?JSON.parse(e):e;if(It.isValidParticipantsData(n)){if("string"==typeof n)try{const e=JSON.parse(n);return this.extractParticipants(e)}catch(t){return}return{isWorkflowEnd:!1,participants:n.participants.map(e=>({name:e.name,id:e.id||e.name,isUser:"ALWAYS"===e.humanInputMode?.toUpperCase()})).filter(Boolean)}}}catch(n){}}handle(e,t){return It.isValidParticipantsData(e)?It.extractParticipants(e):e.data&&It.isValidParticipantsData(e.data)?It.extractParticipants(e.data):void 0}}class Nt{canHandle(e){return"print"===e}isEndOfWorkflow(e){if("string"==typeof e)return lt.WORKFLOW_END_MARKERS.some(t=>e.includes(t));if("object"!=typeof e&&!e.content&&!e.data)return!1;const t="data"in e?e.data:e.content,n="string"==typeof t?t:JSON.stringify(t);return!!n&&lt.WORKFLOW_END_MARKERS.some(e=>n.includes(e))}static isValidPrintMessage(e){return!(!e||"object"!=typeof e)&&("string"==typeof e.type&&"print"===e.type&&(!("data"in e)||"string"!=typeof e.data&&"object"!=typeof e.data?!(!e.content||"object"!=typeof e.content)&&(!!e.content.data&&Boolean("string"==typeof e.content.data||Array.isArray(e.content.data)||"object"==typeof e.content.data)):(e.content={data:e.data},!0)))}handle(e){if(!Nt.isValidPrintMessage(e))return this.isEndOfWorkflow(e)?{isWorkflowEnd:!0,message:e}:void 0;if(this.isEndOfWorkflow(e.content))return{isWorkflowEnd:!0};const t=e.content.data;return"string"==typeof t&&t.includes(lt.PARTICIPANTS_KEY)||"object"==typeof t&&null!==t?It.extractParticipants(t):void 0}}class kt{canHandle(e){return"termination"===e}static isValidTerminationMessage(e){return Boolean(e&&"object"==typeof e&&"termination"===e.type&&e.content&&"object"==typeof e.content&&"string"==typeof e.content.termination_reason||e.termination_reason&&"string"==typeof e.termination_reason)}handle(e){if(!kt.isValidTerminationMessage(e))return;return{message:{id:ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"termination",content:[{type:"text",text:e.content?.termination_reason||e.termination_reason||"Chat terminated"}]}}}}class St{canHandle(e){return"termination_and_human_reply_no_input"===e}handle(e){if(!e||"object"!=typeof e||"termination_and_human_reply_no_input"!==e.type)return;return{message:{id:e.content?.uuid||ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"termination",content:[{type:"text",text:"Chat ended without user input"}],sender:e.content?.sender,recipient:e.content?.recipient}}}}class Tt{canHandle(e){return"text"===e}static isValidTextMessage(e){if(!e||"object"!=typeof e)return!1;if("text"!==e.type)return!1;if(Array.isArray(e.content))return e.content.every(Et);const t=e.content;if(!t||"object"!=typeof t||"string"!=typeof t.sender||"string"!=typeof t.recipient)return!1;const n=t.content;return"string"==typeof n||(Array.isArray(n)?n.every(Et):Et(n))}handle(e,t){if(!Tt.isValidTextMessage(e))return;let n=vt.normalizeContent(e.content.content,t.imageUrl);t.imageUrl&&(n=vt.replaceImageUrls(n,t.imageUrl));return{message:{id:vt.generateMessageId(e),timestamp:vt.generateTimestamp(e),type:e.type,content:n,sender:e.content.sender,recipient:e.content.recipient},requestId:null}}}function Et(e){return"string"==typeof e||e&&"object"==typeof e&&"string"==typeof e.type&&("text"===e.type&&"string"==typeof e.text||"image_url"===e.type&&e.image_url&&"string"==typeof e.image_url.url)}class Mt{canHandle(e){return"timeline"===e}static isTimelineMessage(e){return Boolean(e&&"timeline"===e.type||e&&"print"===e.type&&"data"in e&&e.data&&"object"==typeof e.data&&"type"in e.data&&"timeline"===e.data.type&&"content"in e.data&&e.data.content&&"object"==typeof e.data.content)}handle(e){if(!e||"object"!=typeof e)return;if("print"===e.type&&e.data&&"timeline"===e.data.type)return this.handle(e.data);if(!e.content||"object"!=typeof e.content)return;const t=Array.isArray(e.content.timeline)?e.content.timeline:[],n=Array.isArray(e.content.cost_timeline)?e.content.cost_timeline:[],a="object"==typeof e.content.summary&&null!==e.content.summary?e.content.summary:void 0,o="object"==typeof e.content.metadata&&null!==e.content.metadata?e.content.metadata:void 0,r=Array.isArray(e.content.agents)?e.content.agents:[];if(!(a&&o&&Array.isArray(t)&&0!==t.length&&Array.isArray(n)&&0!==n.length&&Array.isArray(r)&&0!==r.length))return;return{timeline:{timeline:t,cost_timeline:n,summary:a,metadata:o,agents:r}}}}class Rt{canHandle(e){return"tool_call"===e}static isValidToolCall(e){return!(!e||"object"!=typeof e)&&("tool_call"===e.type&&!(!e.content||"object"!=typeof e.content))}static extractToolFunctionNames(e){return e.content.tool_calls&&Array.isArray(e.content.tool_calls)?e.content.tool_calls.filter(e=>e.function&&"string"==typeof e.function.name).map(e=>e.function.name):[]}handle(e){if(!Rt.isValidToolCall(e))return;let t="Tool call";const n=Rt.extractToolFunctionNames(e);n.length>0&&(t+=`: ${n.join(", ")}`);return{message:{id:e.content.uuid??ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"tool_call",content:[{type:"text",text:t}],sender:e.content.sender,recipient:e.content.recipient}}}}class Dt{canHandle(e){return"tool_response"===e}static isValidToolResponse(e){return!(!e||"object"!=typeof e)&&("tool_response"===e.type&&(!(!e.content||"object"!=typeof e.content)&&Array.isArray(e.content.tool_responses)))}handle(e){if(!Dt.isValidToolResponse(e))return;const t=e.content.tool_responses.map(e=>({tool_call_id:e.tool_call_id,role:e.role,content:e.content}));return{message:{id:e.content.uuid??ut(),timestamp:/* @__PURE__ */(new Date).toISOString(),type:"tool_response",content:e.content.content,sender:e.content.sender,recipient:e.content.recipient,tool_responses:t}}}}class Ot{static _handlers=null;static get handlers(){return this._handlers||(this._handlers=[new At,new It,new Nt,new Tt,new kt,new Ct,new xt,new wt,new mt,new Rt,new St,new pt,new gt,new Dt,new ft,new bt,new Mt,new ht]),this._handlers}static process(e,t,n){if(!e)return;let a=e;"string"==typeof e&&(a=dt(e.replace("\n","")).trim());const o=Ot.parseMessage(a);if(!o)return Ot.findHandler("print",o)?.handle(a,{requestId:t,imageUrl:n});const r=Ot.findHandler(o.type,o);if(!r)return;const i={requestId:t,imageUrl:n};return r.handle(o,i)}static parseMessage(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch{return null}}static findHandler(e,t){const n=this.handlers.find(t=>t.canHandle(e));if(t&&"print"===t.type||"print"===e){if(Mt.isTimelineMessage(t))return Ot.handlers.find(e=>e instanceof Mt);if(t&&t.participants&&It.isValidParticipantsData(t))return Ot.handlers.find(e=>e instanceof It);if(t&&t.data&&t.data.participants&&It.isValidParticipantsData(t.data))return Ot.handlers.find(e=>e instanceof It)}return t&&t.participants&&It.isValidParticipantsData(t)?Ot.handlers.find(e=>e instanceof It):n}}const Pt=(e,t)=>{if("string"==typeof e)return e;if(!e.type)return"object"==typeof e?JSON.stringify(e):String(e);switch(e.type){case"text":return e.text;case"image":return e.image.url?t?.("image",e.image.url)||e.image.url:e.image.alt||e.image.file?.name||"<image>";case"image_url":return e.image_url.url?t?.("image",e.image_url.url)||e.image_url.url:e.image_url.alt||e.image_url.file?.name||"<image_url>";case"video":return e.video.url?t?.("video",e.video.url)||e.video.url:e.video.file?.name||e.video.thumbnailUrl||"<video>";case"audio":return e.audio.url?t?.("audio",e.audio.url)||e.audio.url:e.audio.file?.name||e.audio.transcript||"<audio>";case"file":return e.file.previewUrl?t?.("file",e.file.previewUrl)||e.file.previewUrl:e.file.url?t?.("file",e.file.url)||e.file.url:e.file.name}},Lt=(e,t)=>{switch(t.type){case"RESET":return t.config?{...t.config}:{show:!1,active:!1,messages:[],userParticipants:[],activeRequest:void 0,error:void 0,timeline:void 0,mediaConfig:void 0,handlers:e.handlers};case"SET_ACTIVE":return{...e,active:t.active};case"SET_SHOW":return{...e,show:t.show};case"SET_ERROR":return{...e,error:t.error};case"ADD_MESSAGE":return"error"===t.message.type?{...e,error:{message:(n=t.message,"string"==typeof n?n:"string"==typeof n.content?n.content:Array.isArray(n.content)?n.content.map(e=>Pt(e,a)).join(" "):"content"in n.content?"string"==typeof n.content.content?n.content.content:Array.isArray(n.content.content)?n.content.content.map(e=>Pt(e,a)).join(" "):Pt(n.content.content):Pt(n.content))},messages:[...e.messages,t.message]}:{...e,active:!0!==t.isEndOfWorkflow,messages:[...e.messages,t.message]};case"REMOVE_MESSAGE":return{...e,messages:[...e.messages].filter(e=>e.id!==t.id)};case"CLEAR_MESSAGES":return{...e,messages:[]};case"SET_ACTIVE_REQUEST":return{...e,activeRequest:t.request,messages:t.message?[...e.messages,t.message]:e.messages};case"SET_PARTICIPANTS":return{...e,show:!0,active:!0,activeRequest:void 0,userParticipants:t.participants.filter(e=>e.isUser)};case"SET_TIMELINE":return{...e,show:!0,active:!1,activeRequest:void 0,timeline:t.timeline};case"SET_CHAT_HANDLERS":return{...e,handlers:{...e.handlers,...t.handlers}};case"SET_STATE":return{...e,...t.state};case"DONE":return{...e,active:!1,activeRequest:void 0};default:return e}var n,a},Bt={show:!1,active:!1,messages:[],userParticipants:[],activeRequest:void 0,error:void 0,handlers:void 0,timeline:void 0,mediaConfig:void 0},Gt={enabled:!0,keyGenerator:e=>{if(e.id)return e.id;if(e.timestamp)return e.timestamp.toString();const t="string"==typeof e.content?e.content:JSON.stringify(e.content);return`${e.type}-${e.sender}-${e.timestamp}-${t.slice(0,30)}`},maxCacheSize:1e3},zt=e=>{const{initialConfig:t,handlers:i,preprocess:s,onPreview:l,deduplicationOptions:c}=e,d=n(()=>({...Bt,...t,handlers:{...t?.handlers??{},...i??{}}}),[t,i]),[u,p]=a(Lt,d),g=o(d),m=o(/* @__PURE__ */new Set),h=n(()=>({...Gt,...c}),[c]),f=r(e=>{if(!h.enabled)return!1;const t=h.keyGenerator(e);if(m.current.has(t))return!0;if(m.current.add(t),m.current.size>h.maxCacheSize){const e=Array.from(m.current).slice(-Math.floor(.8*h.maxCacheSize));m.current.clear();for(const t of e)m.current.add(t)}return!1},[h]),b=r(()=>{m.current.clear()},[]),y=r((e,t)=>{p({type:"SET_ACTIVE_REQUEST",request:e,message:t})},[]),v=r(e=>{p({type:"SET_ERROR",error:e})},[]),C=r(e=>{p({type:"SET_ACTIVE",active:e})},[]),w=r(e=>{p({type:"SET_SHOW",show:e})},[]),x=r(e=>{p({type:"SET_TIMELINE",timeline:e})},[]),A=r(e=>{p({type:"SET_PARTICIPANTS",participants:e})},[]),I=r((e,t)=>{f(e)||p({type:"ADD_MESSAGE",message:e,isEndOfWorkflow:t})},[f]),N=r(e=>{const t=u.messages.find(t=>t.id===e);if(t&&h.enabled){const e=h.keyGenerator(t);m.current.delete(e)}p({type:"REMOVE_MESSAGE",id:e})},[h]),k=r(()=>{p({type:"CLEAR_MESSAGES"}),b()},[b]),S=r(()=>{p({type:"RESET",config:g.current}),b()},[b]),T=r(e=>{if(e.timeline)x(e.timeline);else if(e.participants)A(e.participants);else{if(e.message&&"input_request"===e.message.type){const t=e.message.prompt||"Enter your message:",n=Boolean(e.message.password)||!1;return void y({request_id:e.requestId||e.message?.request_id||u.activeRequest?.request_id||"<unknown>",prompt:t,password:n},e.message)}e.message&&I(e.message,e.isWorkflowEnd)}},[I,u.activeRequest?.request_id,y,A,x]),E=r(e=>{const t=u.activeRequest?.request_id,n=t?l?.(t):void 0;let a=e;if("function"==typeof s){const{handled:t,updated:n}=s(e);if(t||!n)return;a=n}if("string"==typeof a&&a.includes(it))p({type:"SET_ACTIVE",active:!1});else try{const e=Ot.process(a,t,n);if(!e)return;T(e)}catch(o){const e=o.message;v({message:e,code:"PROCESSING_ERROR"})}},[u.activeRequest?.request_id,T,s,l,v]);return{chat:u,dispatch:p,process:E,reset:S,setActive:C,setShow:w,setActiveRequest:y,setError:v,setTimeline:x,setParticipants:A,addMessage:I,removeMessage:N,clearMessages:k}},_t=e=>{const{wsUrl:t,protocols:n,onWsMessage:a,onError:l,autoPingMs:c}=e,d=o(void 0),u=o(null),p=o(0),g=o(!0),m=o(!1),h=o(t),f=o(!1),[b,y]=i(!1),v=o(a),C=r(e=>{v.current=e},[]);s(()=>{v.current=a},[a]);const w=r(()=>{if(d.current){try{d.current.readyState!==WebSocket.CLOSING&&d.current.readyState!==WebSocket.CLOSED&&d.current.close(1e3,"client disconnect")}catch{}d.current=void 0}u.current&&(clearTimeout(u.current),u.current=null)},[]),x=r(()=>{if(g.current){if(f.current){const t=setTimeout(()=>{g.current&&(f.current=!1,e())},500);return()=>clearTimeout(t)}e()}function e(){w();try{const a=new WebSocket(t,n);a.onopen=()=>{g.current&&(y(!0),p.current=0)},a.onclose=t=>{if(g.current&&(y(!1),d.current===a&&1e3!==t.code&&p.current<5)){const t=Math.min(1e3*Math.pow(2,p.current),3e4);p.current+=1,u.current=setTimeout(()=>{g.current&&e()},t)}},a.onerror=e=>{g.current&&l?.(e)},a.onmessage=e=>{try{v.current?.(e)}catch(t){l?.(t)}},d.current=a}catch(a){l?.(a)}}},[t]),A=r(e=>d.current?.readyState===WebSocket.OPEN&&(d.current.send(e),!0),[]),I=r(e=>{try{return A("string"==typeof e?e:JSON.stringify(e))}catch(t){return l?.(t),!1}},[A,l]);s(()=>{if(!c)return;const e=setInterval(()=>{I({type:"ping",echo_data:{t:Date.now()}})},c);return()=>clearInterval(e)},[c,I]),s(()=>{g.current=!0;const e=m.current&&t!==h.current;h.current=t,m.current=!0;const n=e?300:f.current?500:200,a=setTimeout(()=>{g.current&&x()},n);return()=>{clearTimeout(a),m.current?(g.current=!1,w()):f.current=!0}},[t,x,w]);const N=r(()=>d.current?.readyState??WebSocket.CLOSED,[]),k=r(()=>{p.current=0,x()},[x]),S=r(()=>{p.current=0,y(!1),w()},[w]);return{wsRef:d,send:I,connected:b,setMessageHandler:C,getConnectionState:N,reconnect:k,disconnect:S}},Vt=({ws:e,chat:t})=>{const n=zt({...t}),a=r(e=>{try{const t="string"==typeof e.data?JSON.parse(e.data):e.data;n.process(t)}catch(t){n.process(e.data)}},[n]),o=_t({wsUrl:e.url,protocols:e.protocols,autoPingMs:e.autoPingMs,onWsMessage:a,onError:t=>{e?.onError?.(t),n.setError({message:"Connection error occurred",code:"CONNECTION_ERROR"})}});return{chat:n.chat,dispatch:n.dispatch,connected:o.connected,reset:n.reset,getConnectionState:o.getConnectionState,send:o.send,reconnect:o.reconnect}},Ht=()=>{if(window.crypto&&window.crypto.subtle)return window.crypto;if(globalThis.crypto&&globalThis.crypto.subtle)return globalThis.crypto;throw new Error("Web Crypto API not supported in this browser.")},Wt=async e=>{try{const t=Ht(),n=(new TextEncoder).encode(e),a=await t.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join("")}catch(t){throw new Error("Failed to compute SHA-256 hash. Ensure you are using a supported environment.")}},Ft=async(e,t,n="")=>{try{const a=Ht(),o=(e=>{if("string"==typeof e)return(new TextEncoder).encode(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e)){if(e.buffer instanceof SharedArrayBuffer){const t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=new ArrayBuffer(e.byteLength);return new Uint8Array(n).set(t),new Uint8Array(n)}return e}throw new TypeError("Input must be string, ArrayBuffer, or ArrayBufferView")})(e),r=(new TextEncoder).encode(t),i=await a.subtle.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),s=await a.subtle.sign("HMAC",i,r);return"hex"===n?Array.from(new Uint8Array(s)).map(e=>e.toString(16).padStart(2,"0")).join(""):new Uint8Array(s)}catch(a){throw new Error(`Error computing HMAC SHA-256: ${a instanceof Error?a.message:String(a)}`)}},jt=e=>{let t=".waldiez";return"flow"!==e&&(t+=e.charAt(0).toUpperCase()+e.slice(1)),(()=>{if("userAgentData"in navigator&&"object"==typeof navigator.userAgentData){const e=navigator.userAgentData;if(e&&"platform"in e&&"string"==typeof e.platform){const t=e.platform.toLowerCase();return t.includes("mac")||t.includes("ios")}}const e=navigator.userAgent;return/Macintosh|Mac OS X|iPhone|iPad|iPod/i.test(e)})()&&(t+=".zip"),t},Ut=(e,t)=>{const n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=t,a.click(),URL.revokeObjectURL(n)},Xt=async(e,t,n,a=()=>{})=>{const o=n();if(o){const n=JSON.stringify(o,null,2),r=((e,t)=>{const n=jt(t);let a=e||"flow";return a.length<3&&(a="flow"),a.length>100&&(a=a.slice(0,100)),`${a}${n}`})(e,t);if(r.endsWith(".zip"))await(async(e,t,n)=>{try{const n=e.replace(/\.zip$/,""),a=new v;a.file(n,t);const o=await a.generateAsync({type:"blob"});Ut(o,e)}catch{n()}})(r,n,a);else{const e=new Blob([n],{type:"application/json; charset=utf-8"});Ut(e,r)}}else a()},Zt=()=>`${Date.now()}${ut()}`,Jt=(e,t,n)=>{const a=e.target.files?.[0];if(a){const e=new FileReader;e.onload=()=>{const a=t();if(a){const t=e.result;try{const e=JSON.parse(t);n(a,e)}catch(Tg){}}},e.readAsText(a)}},Yt=e=>Boolean(null!==e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then),qt=e=>{if("id"in e&&"string"==typeof e.id)return e.id;if("uuid"in e&&"string"==typeof e.uuid)return e.uuid;let t=`${"type"in e&&"string"==typeof e.type?`${e.type}-`:""}${"sender"in e&&"string"==typeof e.sender?`${e.sender}-`:""}${"recipient"in e&&"string"==typeof e.recipient?`${e.recipient}-`:""}`;return Object.entries(e).forEach(([e,n])=>{["type","sender","recipient"].includes(e)||(t+="string"==typeof n?n:"object"==typeof n&&n?JSON.stringify(n).slice(0,50):String(n))}),t},$t=e=>"string"==typeof e?e:null==e?"Unknown":Array.isArray(e)?e.map(e=>$t(e)).join(", "):"object"==typeof e?"type"in e&&"text"===e.type&&"text"in e?$t(e.text):"content"in e?$t(e.content):JSON.stringify(e):String(e);function Qt(e){if("string"==typeof e)return e;if("object"!=typeof e||null===e||!("kind"in e)||"string"!=typeof e.kind)return String(e);switch(e.kind){case"continue":return"c";case"step":return"s";case"run":return"r";case"quit":return"q";case"info":return"i";case"help":return"h";case"stats":return"st";case"add_breakpoint":return"ab";case"remove_breakpoint":return"rb";case"list_breakpoints":return"lb";case"clear_breakpoints":return"cb";case"raw":return e.value;default:return String(e)}}class Kt{canHandle(e){return["debug_breakpoints_list","debug_breakpoint_added","debug_breakpoint_removed","debug_breakpoint_cleared","breakpoints_list","breakpoint_added","breakpoint_removed","breakpoint_cleared"].includes(e)}handle(e,t){const n={debugMessage:e};if(a=e,Boolean(a&&("debug_breakpoints_list"===a.type||"breakpoints_list"===a.type)&&Array.isArray(a.breakpoints)))n.stateUpdate={breakpoints:e.breakpoints||[]},n.controlAction={type:"update_breakpoints",breakpoints:e.breakpoints||[]};else if((e=>Boolean(e&&("debug_breakpoint_added"===e.type||"breakpoint_added"===e.type)&&e.breakpoint&&("object"==typeof e.breakpoint||"string"==typeof e.breakpoint)))(e)){const a=[...t.currentState?.breakpoints||[],e.breakpoint];n.stateUpdate={breakpoints:a},n.controlAction={type:"show_notification",message:`Breakpoint added: ${e.breakpoint}`,severity:"success"}}else if((e=>Boolean(e&&("debug_breakpoint_removed"===e.type||"breakpoint_removed"===e.type)&&e.breakpoint&&("object"==typeof e.breakpoint||"string"==typeof e.breakpoint)))(e)){const a=(t.currentState?.breakpoints||[]).filter(t=>t!==e.breakpoint);n.stateUpdate={breakpoints:a},n.controlAction={type:"show_notification",message:`Breakpoint removed: ${e.breakpoint}`,severity:"info"}}else{if(!(e=>Boolean(e&&("debug_breakpoint_cleared"===e.type||"breakpoint_cleared"===e.type)&&"string"==typeof e.message))(e))return{error:{message:`Unknown breakpoint message type: ${e.type}`,originalData:e}};n.stateUpdate={breakpoints:[]},n.controlAction={type:"show_notification",message:e.message||"All breakpoints cleared",severity:"info"}}var a;return n}}class en{canHandle(e){return"debug_error"===e||"error"===e}handle(e,t){return n=e,Boolean(n&&("debug_error"===n.type||"error"===n.type)&&"string"==typeof n.error)?{debugMessage:e,stateUpdate:{lastError:e.error},controlAction:{type:"show_notification",message:e.error,severity:"error"}}:{error:{message:"Invalid debug_error structure",originalData:e}};var n}}class tn{canHandle(e){return"debug_event_info"===e||"event_info"===e}handle(e,t){if(n=e,!Boolean(n&&("debug_event_info"===n.type||"event_info"===n.type)&&n.event&&"object"==typeof n.event))return{error:{message:"Invalid debug_event_info structure",originalData:e}};var n;const a=e.event;return{debugMessage:e,stateUpdate:{currentEvent:a,eventHistory:[...t.currentState?.eventHistory||[],a]},controlAction:{type:"scroll_to_latest"}}}}class nn{canHandle(e){return"debug_help"===e||"help"===e}handle(e,t){return n=e,Boolean(n&&("debug_help"===n.type||"help"===n.type)&&Array.isArray(n.help))?{debugMessage:e,stateUpdate:{help:e.help}}:{error:{message:"Invalid debug_help structure",originalData:e}};var n}}const an=["<Waldiez step-by-step> - Starting workflow..."],on=["<Waldiez step-by-step> - Workflow finished","<Waldiez step-by-step> - Workflow stopped by user","<Waldiez step-by-step> - Workflow execution failed:"],rn=[...an,...on];class sn{canHandle(e){return"debug_input_request"===e||"input_request"===e}handle(e,t){return n=e,Boolean(n&&("debug_input_request"===n.type||"input_request"===n.type)&&"string"==typeof n.request_id&&"string"==typeof n.prompt)?"[Step] (c)ontinue, (r)un, (q)uit, (i)nfo, (h)elp, (st)ats:"===e.prompt.trim()||"debug_input_request"===e.type?{debugMessage:e,stateUpdate:{pendingControlInput:{request_id:e.request_id,prompt:e.prompt}},controlAction:{type:"debug_input_request_received",requestId:e.request_id,prompt:e.prompt}}:{debugMessage:e,stateUpdate:{activeRequest:{request_id:e.request_id,prompt:e.prompt}}}:{error:{message:"Invalid debug_input_request structure",originalData:e}};var n}}class ln{canHandle(e){return"debug_print"===e||"print"===e}handle(e,t){if("debug_print"!==e.type&&"print"!==e.type)return{error:{message:"Invalid debug_print structure",originalData:e}};const n=e;if("object"==typeof n&&"participants"in n&&"object"==typeof n.participants){const e=It.extractParticipants(n);if(e?.participants)return{stateUpdate:{participants:e.participants}}}let a=e.content;if("string"!=typeof n.content){if("string"!=typeof n.data)return{error:{message:"Invalid debug_print structure",originalData:e}};a=n.data}const o=this.isWorkflowEndMessage(a),r={debugMessage:e,isWorkflowEnd:o};return o&&(r.controlAction={type:"workflow_ended",reason:this.extractEndReason(a)},r.stateUpdate={pendingControlInput:null,activeRequest:null}),r}isWorkflowEndMessage(e){return!!e&&on.some(t=>e.includes(t))}extractEndReason(e){return e.includes("Workflow finished")?"completed":e.includes("stopped by user")?"user_stopped":e.includes("execution failed")?"error":void 0}}class cn{canHandle(e){return"debug_stats"===e||"stats"===e}handle(e,t){return n=e,Boolean(n&&("debug_stats"===n.type||"stats"===n.type)&&n.stats&&"object"==typeof n.stats)?{debugMessage:e,stateUpdate:{stats:e.stats,stepMode:e.stats.step_mode,autoContinue:e.stats.auto_continue,breakpoints:e.stats.breakpoints||[]}}:{error:{message:"Invalid debug_stats structure",originalData:e}};var n}}class dn{static _handlers=null;static get handlers(){return this._handlers||(this._handlers=[new sn,new tn,new cn,new en,new nn,new Kt,new ln]),this._handlers}static process(e,t={}){if(!e)return;let n=null;return"string"==typeof e?n=dn.parseMessage(e):"object"==typeof e&&dn.isValidDebugMessage(e)&&(n=e),n?this._doProcess(n,t):dn.earlyError(e)}static _doProcess(e,t){let n;const a=dn.findHandler(e.type);if(a||(n=Ot.findHandler(e.type,e)),!a&&!n)return{error:{message:`No handler found for message type: ${e.type}`,code:"UNKNOWN_MESSAGE_TYPE",originalData:e}};try{return a?.handle(e,t)}catch(o){if(n)try{const a=n.handle(e,t);if(a)return dn._chatResultToStepResult(a)}catch(r){return{error:{message:`Handler error: ${o instanceof Error?o.message:String(o)}`,code:"HANDLER_ERROR",originalData:e}}}return{error:{message:`Handler error: ${o instanceof Error?o.message:String(o)}`,code:"HANDLER_ERROR",originalData:e}}}}static _chatResultToStepResult(e){return e.participants?{debugMessage:{type:"print",content:e.participants},stateUpdate:{participants:e.participants}}:e.timeline?{debugMessage:{type:"print",content:e.timeline},stateUpdate:{timeline:e.timeline}}:e.isWorkflowEnd?{debugMessage:{type:"print",content:"Workflow has ended."},stateUpdate:{eventHistory:[{type:"workflow_end",...e.runCompletion||e.message||{}}]}}:e.message&&e.message.content?{debugMessage:{type:"print",content:e.message},stateUpdate:{eventHistory:[e]}}:void 0}static earlyError(e){try{const t=JSON.parse(e||"");return{error:{message:`No handler found for message type: ${t.type}`,originalData:e}}}catch{return{error:{message:"Failed to parse debug message as JSON",originalData:e}}}}static parseMessage(e){if(!e)return null;if("string"!=typeof e&&dn.isValidDebugMessage(e))return e;const t=dt(e).replace(/\r?\n/g," ").trim();if(!t)return null;const n=pn(t)??t,a=un(n);if(a&&dn.isValidDebugMessage(a))return a;const o=gn(n),r=un(o);return r&&dn.isValidDebugMessage(r)?r:null}static findHandler(e){return dn.handlers.find(t=>t.canHandle(e))}static isValidDebugMessage(e){return!(!e||"object"!=typeof e||!e.type||"string"!=typeof e.type)}}const un=e=>{try{return JSON.parse(e)}catch{return null}},pn=e=>{const t=/* @__PURE__ */new Set(["{","["]),n={"{":"}","[":"]"};let a=-1;const o=[];let r=null,i=!1;for(let s=0;s<e.length;s++){const l=e[s];if(void 0!==l)if(r){if(i){i=!1;continue}if("\\"===l){i=!0;continue}l===r&&(r=null)}else if('"'!==l&&"'"!==l){if(t.has(l))o.push(l),-1===a&&(a=s);else if(o.length){const t=o[o.length-1];if(void 0!==t&&l===n[t]&&(o.pop(),!o.length&&-1!==a))return e.slice(a,s+1)}}else r=l}return null},gn=e=>{let t="",n=0;const a=e.length;let o=null,r=!1;const i=e=>/[A-Za-z0-9_]/.test(e||"");for(;n<a;){const s=e[n];if(o){if(r){t+="\\"+s,r=!1,n++;continue}if("\\"===s){r=!0,n++;continue}if(s===o){t+='"',o=null,n++;continue}t+="'"===o&&'"'===s?'\\"':s,n++}else if("'"!==s&&'"'!==s){if(/[A-Za-z_]/.test(s||"")){let o=n+1;for(;o<a&&i(e[o]);)o++;const r=e.slice(n,o),s=n>0?e[n-1]:"",l=o<a?e[o]:"",c=!!s&&i(s),d=!!l&&i(l);if(!c&&!d){if("True"===r){t+="true",n=o;continue}if("False"===r){t+="false",n=o;continue}if("None"===r){t+="null",n=o;continue}}t+=r,n=o;continue}t+=s,n++}else o=s,t+='"',n++}return o?e:t},mn=(e,t)=>{switch(t.type){case"RESET":return t.config?{...t.config}:{show:!1,active:!1,stepMode:!0,autoContinue:!1,breakpoints:[],eventHistory:[],participants:[],currentEvent:void 0,activeRequest:void 0,pendingControlInput:void 0,timeline:void 0,lastError:void 0,stats:void 0,help:void 0,handlers:e.handlers};case"SET_ACTIVE":return{...e,active:t.active};case"SET_SHOW":return{...e,show:t.show};case"SET_ERROR":return!0===t.markInactive?{...e,lastError:t.error,active:!1}:{...e,lastError:t.error};case"SET_STEP_MODE":return{...e,stepMode:t.mode};case"SET_AUTO_CONTINUE":return{...e,autoContinue:t.autoContinue};case"SET_PARTICIPANTS":return{...e,show:!0,active:!0,participants:t.participants};case"SET_TIMELINE":return{...e,show:!0,active:!1,timeline:t.timeline};case"SET_BREAKPOINTS":return{...e,breakpoints:t.breakpoints};case"SET_CURRENT_EVENT":return{...e,currentEvent:t.event};case"SET_PENDING_CONTROL_INPUT":return{...e,pendingControlInput:t.controlInput};case"SET_ACTIVE_REQUEST":return{...e,activeRequest:t.request};case"SET_HELP":return{...e,help:t.help};case"SET_STATS":return{...e,stats:t.stats};case"SET_STEP_HANDLERS":return{...e,handlers:t.handlers};case"CLEAR_EVENTS":return{...e,eventHistory:[],currentEvent:void 0};case"ADD_EVENT":return!0===t.makeItCurrent?{...e,eventHistory:[t.event,...e.eventHistory],currentEvent:t.event}:{...e,eventHistory:[t.event,...e.eventHistory]};case"ADD_EVENTS":if(t.events.length<1)return e;if(!0===t.makeLastCurrent){const n=t.events[t.events.length-1];return{...e,eventHistory:[...t.events.reverse(),...e.eventHistory],currentEvent:n}}return{...e,eventHistory:[...t.events.reverse(),...e.eventHistory]};case"REMOVE_EVENT":return{...e,eventHistory:[...e.eventHistory].filter(e=>e.id||e.uuid!==t.id)};case"SET_STATE":return{...e,...t.state};case"DONE":return{...e,active:!1,activeRequest:void 0,pendingControlInput:void 0};default:return e}},hn={enabled:!0,keyGenerator:qt,maxCacheSize:1e3},fn={show:!1,active:!1,stepMode:!0,autoContinue:!1,currentEvent:void 0,pendingControlInput:void 0,activeRequest:void 0,eventHistory:[],participants:[],breakpoints:[],lastError:void 0,timeline:void 0,stats:void 0,help:void 0,handlers:void 0},bn=()=>{},yn=e=>{const{initialConfig:t,handlers:i,preprocess:s,deduplicationOptions:l}=e,c=n(()=>({onStart:i?.onStart||t?.handlers?.onStart||bn,close:i?.close||t?.handlers?.close||bn,sendControl:i?.sendControl||t?.handlers?.close||bn,respond:i?.respond||t?.handlers?.respond||bn}),[t,i]),d=n(()=>({...fn,...t,handlers:c}),[t,c]),[u,p]=a(mn,d),g=o(d),m=o(/* @__PURE__ */new Set),h=n(()=>({...hn,...l}),[l]),f=r(e=>{if(!h.enabled)return!1;const t=h.keyGenerator(e);if(m.current.has(t))return!0;if(m.current.add(t),m.current.size>h.maxCacheSize){const e=Array.from(m.current).slice(-Math.floor(.8*h.maxCacheSize));m.current.clear();for(const t of e)m.current.add(t)}return!1},[h]),b=r(()=>{m.current.clear()},[]),y=r(e=>{p({type:"SET_ACTIVE",active:e})},[]),v=r(e=>{p({type:"SET_SHOW",show:e})},[]),C=r(e=>{p({type:"SET_TIMELINE",timeline:e})},[]),w=r(e=>{p({type:"SET_PARTICIPANTS",participants:e})},[]),x=r(e=>{p({type:"SET_ACTIVE_REQUEST",request:e})},[]),A=r(e=>{p({type:"SET_PENDING_CONTROL_INPUT",controlInput:e})},[]),I=r((e,t)=>{p({type:"SET_ERROR",error:e,markInactive:t})},[]),N=r(e=>{p({type:"SET_AUTO_CONTINUE",autoContinue:e})},[]),k=r(e=>{p({type:"SET_BREAKPOINTS",breakpoints:e})},[]),S=r(e=>{f(e)||p({type:"ADD_EVENT",event:e,makeItCurrent:!0})},[f]),T=r(e=>{const t=[];for(const n of e)f(n)||t.push(n);p({type:"ADD_EVENTS",events:t,makeLastCurrent:!0})},[f]),E=r(e=>{const t=u.eventHistory.find(t=>qt(t)===e);if(t&&h.enabled){const e=h.keyGenerator(t);m.current.delete(e)}p({type:"REMOVE_EVENT",id:e})},[h]),M=r(()=>{p({type:"CLEAR_EVENTS"}),b()},[b]),R=r(()=>{p({type:"RESET",config:{...g.current,handlers:c}}),b()},[b,c]),D=r(e=>{e.stateUpdate?.participants?w(e.stateUpdate.participants):e.stateUpdate?.timeline?C(e.stateUpdate.timeline):e.stateUpdate?.pendingControlInput?A(e.stateUpdate.pendingControlInput):e.stateUpdate?.activeRequest?x(e.stateUpdate.activeRequest):e.stateUpdate?.autoContinue?N(e.stateUpdate.autoContinue):e.error||e.stateUpdate?.lastError?I(e.error?e.error.message:e.stateUpdate?.lastError,e.isWorkflowEnd):e.stateUpdate?.eventHistory&&T(e.stateUpdate?.eventHistory)},[I,w,x,C,A,N,T]),O=r(e=>{if(e.participants)w(e.participants);else if(e.timeline)C(e.timeline);else{if(e.message&&"input_request"===e.message.type){const t=e.message.prompt||"Enter your message:",n=Boolean(e.message.password)||!1;return void x({request_id:e.requestId||e.message?.request_id||u.activeRequest?.request_id||"<unknown>",prompt:t,password:n})}e.message&&S(e.message)}},[S,w,C,x,u.activeRequest?.request_id]),P=r(e=>{if("string"==typeof e&&it.includes(e))return!0;if("object"==typeof e&&e){if("data"in e&&"string"==typeof e.data&&it.includes(e.data))return!0;if("content"in e&&"string"==typeof e.content&&it.includes(e.content))return!0}return!1},[]),L=r(e=>{let t=e;if("function"==typeof s){const{handled:n,updated:a}=s(e);if(n||!a)return;t=a}if(P(t))p({type:"DONE"});else try{const e=dn.process(t);if(!e){const e=Ot.process(t);if(!e)return;return void O(e)}D(e)}catch(n){const e=n.message;I(e)}},[s,I,O,D,P]);return{stepByStep:u,dispatch:p,process:L,reset:R,setActive:y,setShow:v,setActiveRequest:x,setPendingControl:A,setBreakpoints:k,setError:I,setTimeline:C,setParticipants:w,addEvent:S,removeEvent:E,clearEvents:M}},vn=({onSave:e,onConvert:t,onRun:n,chat:a,stepByStep:i,preprocess:s,onStepRun:l})=>{const c=o(void 0),d=yn({...i}),u=zt({...a}),p=e=>{c.current=e};return{save:r(async(t,n,a)=>{if(e){const o=e(t,n,a);Yt(o)&&await o}},[e]),convert:r(async(e,n,a)=>{if(t){const o=t(e,n,a);Yt(o)&&await o}},[t]),run:r(async(e,t)=>{if(p("chat"),n){const a=n(e,t);Yt(a)&&await a}u.setShow(!0)},[n,u]),stepRun:r(async(e,t,n)=>{if(p("step"),l){const a=l(e,t,n);Yt(a)&&await a}d.setShow(!0)},[l,d]),reset:r(()=>{"chat"===c.current?u.reset():"step"===c.current&&d.reset(),p(void 0)},[u,d]),process:r(e=>{let t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch{}"chat"===c.current?u.process(t):"step"===c.current?d.process(t):s?.(t)},[]),getRunningMode:()=>c.current,setRunningMode:p,actions:{chat:{process:u.process,reset:u.reset,setActive:u.setActive,setShow:u.setShow,setActiveRequest:u.setActiveRequest,setError:u.setError,setTimeline:u.setTimeline,setParticipants:u.setParticipants,addMessage:u.addMessage,removeMessage:u.removeMessage,clearMessages:u.clearMessages},step:{process:d.process,reset:d.reset,setActive:d.setActive,setShow:d.setShow,setActiveRequest:d.setActiveRequest,setError:d.setError,setTimeline:d.setTimeline,setParticipants:d.setParticipants,setBreakpoints:d.setBreakpoints,addEvent:d.addEvent,removeEvent:d.removeEvent,clearEvents:d.clearEvents,setPendingControl:d.setPendingControl}},dispatch:{chat:u.dispatch,step:d.dispatch},chat:u.chat,stepByStep:d.stepByStep}},Cn=({flowId:e,onSave:t,onConvert:n,onRun:a,chat:i,stepByStep:s,onStepRun:l,preprocess:c,ws:d})=>{const{save:u,convert:p,run:g,stepRun:m,getRunningMode:h,setRunningMode:f,process:b,reset:y,dispatch:v,chat:C,stepByStep:w,actions:x}=vn({onSave:t,onConvert:n,onRun:a,onStepRun:l,preprocess:c,chat:i,stepByStep:s}),A=o(/* @__PURE__ */new Map),I=d.rpcTimeout??3e4,N=r(()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,[]),k=r(e=>{try{const t="string"==typeof e.data?JSON.parse(e.data):e.data;if("object"==typeof t&&"request_id"in t){const e=t;if(A.current.has(e.request_id)){const t=A.current.get(e.request_id);return clearTimeout(t.timeout),A.current.delete(e.request_id),void(e.error?t.reject(new Error(e.error)):t.resolve(e.payload))}}b(t)}catch(t){b(e.data)}},[b]),{send:S,connected:T,getConnectionState:E,reconnect:M,disconnect:R}=_t({wsUrl:d.url,protocols:d.protocols,autoPingMs:d.autoPingMs,onWsMessage:k,onError:e=>{d?.onError?.(e)}}),D=r((e,t)=>new Promise((n,a)=>{if(E()!==WebSocket.OPEN)return void a(new Error("WebSocket is not connected"));const o=N(),r={request_id:o,type:e,payload:t},i=setTimeout(()=>{A.current.delete(o),a(new Error(`Request timeout after ${I}ms`))},I);A.current.set(o,{resolve:n,reject:a,timeout:i});S(r)||(clearTimeout(i),A.current.delete(o),a(new Error("Failed to send message")))}),[E,N,I,S]),O=r(e=>{A.current.forEach(({reject:t,timeout:n})=>{clearTimeout(n),t(new Error(e))}),A.current.clear()},[]),P=r(()=>{O("WebSocket disconnected"),R()},[R,O]),L=r(()=>{O("WebSocket reconnecting"),M()},[M,O]);return{save:u,convert:p,run:g,stepRun:m,getRunningMode:h,setRunningMode:f,process:b,reset:y,dispatch:v,chat:C,stepByStep:w,send:S,connected:T,getConnectionState:E,reconnect:L,disconnect:P,request:D,actions:x}},wn=(e,t=!1)=>{let n=document.getElementById(`rf-root-${e}`);return!n&&t&&(n=document.body),n};class xn{static fromString(e){if("all"===e)return{type:"all"};if(e.startsWith("event:")){return{type:"event",event_type:e.slice(6)}}if(e.startsWith("agent:")){return{type:"agent",agent:e.slice(6)}}if(e.includes(":")&&!e.startsWith("event:")&&!e.startsWith("agent:")){const[t,n]=e.split(":",2);return{type:"agent_event",agent:t,event_type:n}}return{type:"event",event_type:e}}static toString(e){switch(e.type){case"event":return`event:${e.event_type}`;case"agent":return`agent:${e.agent}`;case"agent_event":return`${e.agent}:${e.event_type}`;default:return"all"}}static matches(e,t){switch(e.type){case"all":return!0;case"event":return t.type===e.event_type;case"agent":return t.sender===e.agent||t.recipient===e.agent;case"agent_event":return t.type===e.event_type&&(t.sender===e.agent||t.recipient===e.agent);default:return!1}}static normalize(e){return"string"==typeof e?this.fromString(e):e}static getDisplayName(e){switch(e.type){case"event":return`Event: ${e.event_type}`;case"agent":return`Agent: ${e.agent}`;case"agent_event":return`${e.agent} â†’ ${e.event_type}`;case"all":return"All Events";default:return"Unknown"}}}const An=({ws:e,stepByStep:t})=>{const n=yn({...t}),a=r(e=>{try{const t="string"==typeof e.data?JSON.parse(e.data):e.data;n.process(t)}catch(t){n.process(e.data)}},[n]),o=_t({wsUrl:e.url,protocols:e.protocols,autoPingMs:e.autoPingMs,onWsMessage:a,onError:t=>{e?.onError?.(t)}});return{stepByStep:n.stepByStep,dispatch:n.dispatch,connected:o.connected,reset:n.reset,getConnectionState:o.getConnectionState,send:o.send,reconnect:o.reconnect}};class In{static extractEventParticipants(e){let t,n,a;if("string"==typeof e.sender&&(t=e.sender),"string"==typeof e.recipient&&(n=e.recipient),"string"==typeof e.type&&(a=e.type),e.event&&"object"==typeof e.event){const o=e.event;"string"==typeof o.sender&&(t=o.sender),"string"==typeof o.recipient&&(n=o.recipient),"string"==typeof o.type&&(a=o.type)}if(e.data&&"object"==typeof e.data){const o=e.data;"string"==typeof o.sender&&(t=o.sender),"string"==typeof o.recipient&&(n=o.recipient),"string"==typeof o.type&&(a=a||o.type)}if(e.content&&"object"==typeof e.content){const o=e.content;"string"==typeof o.sender&&(t=o.sender),"string"==typeof o.recipient&&(n=o.recipient),"string"==typeof o.type&&(a=a||o.type),"string"==typeof o.speaker&&(t=o.speaker)}if(e.message&&"object"==typeof e.message){const a=e.message;"string"==typeof a.sender&&(t=a.sender),"string"==typeof a.recipient&&(n=a.recipient)}return{sender:"string"==typeof t?t:void 0,recipient:"string"==typeof n?n:void 0,eventType:"string"==typeof a?a:void 0}}static formatEventContent(e,t=100){const n=e.content;if("string"==typeof n)return n.length>t?`${n.substring(0,t)}...`:n;if(n&&"object"==typeof n){const e=JSON.stringify(n);return e.length>t?`${e.substring(0,t)}...`:e}return""}static extractWorkflowEndReason(e){const t=e.toLowerCase();return t.includes("workflow finished")?"completed":t.includes("stopped by user")?"user_stopped":t.includes("execution failed")?"error":"unknown"}static createControlResponse(e,t){return{type:"debug_input_response",request_id:e,data:t}}}const Nn=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),kn=e=>{const t=(e=>{if(!e)return null;const t=Date.parse(e);if(!Number.isNaN)return new Date(t);const n=Number(e);if(Number.isNaN(n))return null;let a;return a=n>1e15?n/1e3:n>1e12?n:1e3*n,new Date(a)})(e);return t?t.toLocaleString():e};class Sn{id;type="agent";agentType;name;description;tags;requirements;createdAt;updatedAt;data;rest;constructor(e){this.id=e.id,this.agentType=e.agentType,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.data=e.data,this.rest=e.rest}static create(e){let t,n;"group_manager"===e?(t="Manager",n="The group manager agent"):(t=Nn(e.replace("_proxy","").replace("_"," ")),n=`A new ${t} agent`);const a=new Sn({id:`wa-${Zt()}`,agentType:e,name:t,description:n,tags:[],requirements:[],createdAt:/* @__PURE__ */(new Date).toISOString(),updatedAt:/* @__PURE__ */(new Date).toISOString(),data:new rt});return Tn(a,e),a}}const Tn=(e,t)=>{e.data.humanInputMode="NEVER",["user_proxy","rag_user_proxy"].includes(t)&&(e.data.humanInputMode="ALWAYS","rag_user_proxy"===t&&En(e.data)),"reasoning"===t&&Mn(e.data),"captain"===t&&Rn(e.data),"group_manager"===t&&Dn(e.data)},En=e=>{e.retrieveConfig={task:"default",vectorDb:"chroma",dbConfig:{model:"all-MiniLM-L6-v2",useMemory:!1,useLocalStorage:!1,localStoragePath:null,connectionUrl:null,waitUntilIndexReady:null,waitUntilDocumentReady:null,metadata:null},docsPath:[],newDocs:!0,model:null,chunkTokenSize:null,contextMaxTokens:null,chunkMode:"multi_lines",mustBreakAtEmptyLine:!0,useCustomEmbedding:!1,embeddingFunction:null,customizedPrompt:null,customizedAnswerPrefix:null,updateContext:!0,collectionName:"autogen-docs",getOrCreate:!0,overwrite:!1,useCustomTokenCount:!1,customTokenCountFunction:null,useCustomTextSplit:!1,customTextSplitFunction:null,customTextTypes:[],recursive:!0,distanceThreshold:-1,nResults:null}},Mn=e=>{e.verbose=!0,e.reasonConfig={method:"beam_search",maxDepth:3,forestSize:1,ratingScale:10,beamSize:3,answerApproach:"pool",nsim:3,explorationConstant:1.41}},Rn=e=>{e.agentLib=[],e.toolLib=null,e.maxRound=10,e.maxTurns=5},Dn=e=>{e.groupName="Group",e.maxRound=20,e.adminName=null,e.contextVariables={},e.enableClearHistory=!1,e.sendIntroductions=!1,e.initialAgentId=void 0,e.speakers={selectionMethod:"auto",selectionCustomMethod:"",maxRetriesForSelecting:null,selectionMode:"repeat",allowRepeat:!0,allowedOrDisallowedTransitions:{},transitionsType:"allowed"}},On=["AgentTarget","RandomAgentTarget","GroupChatTarget","NestedChatTarget","AskUserTarget","GroupManagerTarget","RevertToUserTarget","StayTarget","TerminateTarget"],Pn=["string_llm","context_str_llm","string_context","expression_context"];class Ln extends rt{isMultimodal;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[],isMultimodal:!1}){super(e),this.isMultimodal=e.isMultimodal}}class Bn extends Sn{data;agentType="assistant";constructor(e){super(e),this.agentType="assistant",this.data=e.data,this.rest=e.rest||{}}}class Gn extends rt{agentLib;toolLib;maxRound;maxTurns;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],handoffs:[],afterWork:null,agentLib:[],toolLib:null,maxRound:10,maxTurns:5}){super(e),this.agentLib=e.agentLib,this.toolLib=e.toolLib,this.maxRound=e.maxRound,this.maxTurns=e.maxTurns}}class zn extends Sn{data;agentType="captain";constructor(e){super(e),this.data=e.data,this.agentType="captain",this.rest=e.rest||{}}}class _n extends rt{collectionName;resetCollection;parsedDocsPath;queryEngine;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[],collectionName:null,resetCollection:!1,parsedDocsPath:null,queryEngine:null}){super(e),this.collectionName=e.collectionName??null,this.resetCollection=e.resetCollection??!1,this.parsedDocsPath=e.parsedDocsPath??null,this.queryEngine=e.queryEngine??null}}class Vn extends Sn{data;agentType="doc_agent";constructor(e){super(e),this.agentType="doc_agent",this.data=e.data,this.rest=e.rest||{}}}class Hn extends rt{maxRound;adminName;speakers;enableClearHistory;sendIntroductions;groupName;initialAgentId;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[],maxRound:20,adminName:null,speakers:{selectionMethod:"auto",selectionCustomMethod:"",maxRetriesForSelecting:null,selectionMode:"repeat",allowRepeat:!0,allowedOrDisallowedTransitions:{},transitionsType:"allowed",order:[]},enableClearHistory:void 0,sendIntroductions:void 0,groupName:void 0,initialAgentId:void 0}){e.parentId=void 0,super(e),this.maxRound=e.maxRound,this.adminName=e.adminName,this.speakers=e.speakers,this.enableClearHistory=e.enableClearHistory,this.sendIntroductions=e.sendIntroductions,this.groupName=e.groupName,this.initialAgentId=e.initialAgentId}}class Wn extends Sn{data;agentType="group_manager";constructor(e){super(e),this.agentType="group_manager",this.data=e.data,this.rest=e.rest||{}}}const Fn={task:"default",vectorDb:"chroma",dbConfig:{model:"all-MiniLM-L6-v2",useMemory:!1,useLocalStorage:!1,localStoragePath:null,connectionUrl:null,waitUntilIndexReady:null,waitUntilDocumentReady:null,metadata:null},docsPath:[],newDocs:!0,model:null,chunkTokenSize:null,contextMaxTokens:null,chunkMode:"multi_lines",mustBreakAtEmptyLine:!0,useCustomEmbedding:!1,embeddingFunction:null,customizedPrompt:null,customizedAnswerPrefix:null,updateContext:!0,collectionName:"autogen-docs",getOrCreate:!0,overwrite:!1,useCustomTokenCount:!1,customTokenCountFunction:null,useCustomTextSplit:!1,customTextSplitFunction:null,customTextTypes:[],recursive:!0,distanceThreshold:-1,nResults:null};class jn extends rt{retrieveConfig;constructor(e={humanInputMode:"ALWAYS",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],afterWork:null,handoffs:[],retrieveConfig:Fn}){super(e),this.retrieveConfig=e.retrieveConfig}}class Un extends Sn{data;agentType="rag_user_proxy";constructor(e){super(e),this.data=e.data,this.agentType="rag_user_proxy",this.rest=e.rest||{}}}const Xn={method:"beam_search",maxDepth:3,forestSize:1,ratingScale:10,beamSize:3,answerApproach:"pool",nsim:3,explorationConstant:1.41};class Zn extends rt{verbose;reasonConfig;constructor(e={humanInputMode:"NEVER",systemMessage:null,codeExecutionConfig:!1,agentDefaultAutoReply:null,maxConsecutiveAutoReply:null,termination:{type:"none",keywords:[],criterion:null,methodContent:null},modelIds:[],tools:[],parentId:void 0,nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}],contextVariables:{},updateAgentStateBeforeReply:[],handoffs:[],afterWork:null,verbose:!0,reasonConfig:Xn}){super(e),this.verbose=e.verbose,this.reasonConfig=e.reasonConfig}}let Jn=class extends Sn{data;agentType="reasoning";constructor(e){super(e),this.data=e.data,this.agentType="reasoning",this.rest=e.rest||{}}};class Yn extends Sn{data;agentType="user_proxy";constructor(e){super(e),this.agentType="user_proxy",this.data=e.data,this.rest=e.rest||{}}}const qn=["user_proxy","assistant","rag_user_proxy","reasoning","captain","group_manager","doc_agent"],$n=e=>{const t=[];if("agentLib"in e&&Array.isArray(e.agentLib))for(const n of e.agentLib)"object"==typeof n&&"name"in n&&"description"in n&&"systemMessage"in n&&t.push(n);return t},Qn=e=>!("toolLib"in e)||"default"!==e.toolLib&&null!==e.toolLib?null:e.toolLib,Kn=e=>{if("maxRound"in e&&"number"==typeof e.maxRound){const t=parseInt(e.maxRound.toString(),10);if(t>0)return t}return 10},ea=e=>{if("maxTurns"in e&&"number"==typeof e.maxTurns){const t=parseInt(e.maxTurns.toString(),10);if(t>0)return t}return 5},ta=e=>"type"in e&&"string"==typeof e.type&&["none","keyword","method"].includes(e.type)?e.type:"none",na=e=>{let t=[];return"keywords"in e&&Array.isArray(e.keywords)&&(t=e.keywords.filter(e=>"string"==typeof e)),t},aa=e=>"criterion"in e&&"string"==typeof e.criterion&&["found","ending","exact"].includes(e.criterion)?e.criterion:null,oa=e=>"methodContent"in e&&"string"==typeof e.methodContent?e.methodContent:null,ra=e=>{let t=`w-${Zt()}`;if("id"in e&&"string"==typeof e.id)t=e.id;else if("type"in e&&"string"==typeof e.type&&e.type.length>0){const n=e.type[0]?.toLowerCase();t=`w${n}-${Zt()}`}return t},ia=(e,t)=>{let n=t;return"name"in e&&"string"==typeof e.name?n=e.name:"label"in e&&"string"==typeof e.label&&(n=e.label),n},sa=(e,t)=>{let n=t;return"description"in e&&"string"==typeof e.description&&(n=e.description),n},la=e=>{let t=[];return"tags"in e&&Array.isArray(e.tags)&&(t=e.tags.filter(e=>"string"==typeof e)),t},ca=e=>{let t=[];return"requirements"in e&&Array.isArray(e.requirements)&&(t=e.requirements.filter(e=>"string"==typeof e)),t},da=e=>{let t=/* @__PURE__ */(new Date).toISOString();return"createdAt"in e&&"string"==typeof e.createdAt&&(t=e.createdAt),t},ua=e=>{let t=/* @__PURE__ */(new Date).toISOString();return"updatedAt"in e&&"string"==typeof e.updatedAt&&(t=e.updatedAt),t},pa=(e,t)=>{const n={};return Object.keys(e).forEach(a=>{t.includes(a)||(n[a]=e[a])}),n},ga=(e,t)=>{const n={x:20,y:20};return t&&(n.x=t.x,n.y=t.y),"rest"in e&&"object"==typeof e.rest&&e.rest&&"position"in e.rest&&e.rest.position?"object"==typeof e.rest.position&&"x"in e.rest.position&&"number"==typeof e.rest.position.x&&"y"in e.rest.position&&"number"==typeof e.rest.position.y&&(n.x=e.rest.position.x,n.y=e.rest.position.y):"position"in e&&"object"==typeof e.position&&e.position&&"x"in e.position&&"number"==typeof e.position.x&&"y"in e.position&&"number"==typeof e.position.y&&(n.x=e.position.x,n.y=e.position.y),n},ma=e=>{const t={type:"none",value:""};return"available"in e&&e.available&&"object"==typeof e.available&&("type"in e.available&&"string"==typeof e.available.type&&["string","expression","none"].includes(e.available.type)&&(t.type=e.available.type),"value"in e.available&&"string"==typeof e.available.value&&(t.value=e.available.value)),t},ha=(e,t="")=>{let n={conditionType:"string_llm",prompt:t};if("condition"in e&&e.condition&&"object"==typeof e.condition&&"conditionType"in e.condition&&e.condition.conditionType&&Pn.includes(e.condition.conditionType)){switch(e.condition.conditionType){case"string_llm":n=((e,t="")=>{let n={conditionType:"string_llm",prompt:t};return"conditionType"in e&&"string_llm"===e.conditionType&&"prompt"in e&&"string"==typeof e.prompt&&(n={conditionType:"string_llm",prompt:e.prompt}),n})(e.condition,t);break;case"context_str_llm":n=(e=>{let t={conditionType:"context_str_llm",context_str:""};return"conditionType"in e&&"context_str_llm"===e.conditionType&&"context_str"in e&&"string"==typeof e.context_str&&(t={conditionType:"context_str_llm",context_str:e.context_str}),t})(e.condition);break;case"string_context":n=(e=>{let t={conditionType:"string_context",variable_name:""};return"conditionType"in e&&"string_context"===e.conditionType&&"variable_name"in e&&"string"==typeof e.variable_name&&(t={conditionType:"string_context",variable_name:e.variable_name}),t})(e.condition);break;case"expression_context":n=(e=>{let t={conditionType:"expression_context",expression:""};return"conditionType"in e&&"expression_context"===e.conditionType&&"expression"in e&&"string"==typeof e.expression&&(t={conditionType:"expression_context",expression:e.expression}),t})(e.condition)}}return n},fa=e=>"afterWork"in e&&"object"==typeof e.afterWork&&e.afterWork&&(e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"targetType"in t&&"string"==typeof t.targetType&&!!On.includes(t.targetType)&&"value"in t&&Array.isArray(t.value)&&t.value.every(e=>"string"==typeof e)})(e.afterWork)?e.afterWork:null,ba=["user_proxy","assistant","captain","rag_user_proxy","reasoning","group_manager","doc_agent"],ya=(e,t)=>{const n=((e,t)=>{let n="Agent";return"user_proxy"===t?n="user_proxy":"assistant"===t?n="Assistant":"rag_user_proxy"===t?n="RAG User":"reasoning"===t?n="Reasoning Agent":"captain"===t?n="Captain":"group_manager"===t&&(n="Group Manager"),ia(e,n)})(e,t),a=(e=>{let t="An agent";return"user_proxy"===e?t="A user agent":"assistant"===e?t="An assistant agent":"rag_user_proxy"===e?t="A RAG user agent":"reasoning"===e?t="A reasoning agent":"captain"===e&&(t="A captain agent"),t})(t);return{name:n,description:sa(e,a),tags:la(e),requirements:ca(e),createdAt:da(e),updatedAt:ua(e)}},va=e=>"isMultimodal"in e&&"boolean"==typeof e.isMultimodal?e.isMultimodal:"is_multimodal"in e&&"boolean"==typeof e.is_multimodal&&e.is_multimodal,Ca=e=>{let t=[];return"messages"in e&&Array.isArray(e.messages)&&(t=e.messages.filter(e=>"object"==typeof e&&e&&"id"in e&&"string"==typeof e.id&&"isReply"in e&&"boolean"==typeof e.isReply)),t},wa=(e,t)=>{const n=(e=>"systemMessage"in e&&"string"==typeof e.systemMessage?e.systemMessage:null)(e),a=((e,t)=>{let n="NEVER";return["user_proxy","rag_user_proxy"].includes(t)&&(n="ALWAYS"),"humanInputMode"in e&&"string"==typeof e.humanInputMode&&["ALWAYS","NEVER","TERMINATE"].includes(e.humanInputMode)&&(n=e.humanInputMode),n})(e,t),o=(e=>!(!("codeExecutionConfig"in e)||"object"!=typeof e.codeExecutionConfig||!e.codeExecutionConfig)&&e.codeExecutionConfig)(e),r=(e=>"agentDefaultAutoReply"in e&&"string"==typeof e.agentDefaultAutoReply?e.agentDefaultAutoReply:null)(e),i=(e=>"maxConsecutiveAutoReply"in e&&"number"==typeof e.maxConsecutiveAutoReply?e.maxConsecutiveAutoReply:null)(e),s=(e=>{if("termination"in e&&"object"==typeof e.termination&&e.termination){const t=e.termination;return{type:ta(t),keywords:na(t),criterion:aa(t),methodContent:oa(t)}}return{type:"none",keywords:[],criterion:null,methodContent:null}})(e),l=(e=>{const t=[];if("modelIds"in e&&Array.isArray(e.modelIds))for(const n of e.modelIds)"string"==typeof n&&t.push(n);return t})(e),c=(e=>{let t=[];return"tools"in e&&Array.isArray(e.tools)&&(t=e.tools.filter(e=>"object"==typeof e&&e&&"id"in e&&"executorId"in e&&"string"==typeof e.id&&"string"==typeof e.executorId)),t})(e),d=(e=>{if("parentId"in e&&"string"==typeof e.parentId)return e.parentId})(e),u=(e=>{const t=[],n={conditionType:"string_llm",prompt:""};if("nestedChats"in e&&Array.isArray(e.nestedChats))for(const a of e.nestedChats){let e=[];"triggeredBy"in a&&Array.isArray(a.triggeredBy)&&(e=a.triggeredBy.filter(e=>"string"==typeof e));const n=Ca(a),o=ha(a,""),r=ma(a);t.push({triggeredBy:e,messages:n,condition:o,available:r})}return 0===t.length&&t.push({triggeredBy:[],messages:[],condition:n,available:{type:"none",value:""}}),t})(e),p=(e=>"contextVariables"in e&&"object"==typeof e.contextVariables?e.contextVariables:{})(e),g=(e=>{if("updateAgentStateBeforeReply"in e&&"object"==typeof e.updateAgentStateBeforeReply&&e.updateAgentStateBeforeReply)if("type"in e.updateAgentStateBeforeReply&&"content"in e.updateAgentStateBeforeReply){if("string"==typeof e.updateAgentStateBeforeReply.type&&"string"==typeof e.updateAgentStateBeforeReply.content){if("string"===e.updateAgentStateBeforeReply.type)return[{type:"string",content:e.updateAgentStateBeforeReply.content}];if("callable"===e.updateAgentStateBeforeReply.type)return[{type:"callable",content:e.updateAgentStateBeforeReply.content}]}}else if(Array.isArray(e.updateAgentStateBeforeReply))return e.updateAgentStateBeforeReply.filter(e=>"object"==typeof e&&e&&"type"in e&&"string"==typeof e.type&&"content"in e&&"string"==typeof e.content);return[]})(e),m=fa(e),h=(e=>"handoffs"in e&&Array.isArray(e.handoffs)?e.handoffs.filter(e=>"string"==typeof e):[])(e);return new rt({systemMessage:n,humanInputMode:a,codeExecutionConfig:o,agentDefaultAutoReply:r,maxConsecutiveAutoReply:i,termination:s,modelIds:l,tools:c,parentId:d,nestedChats:u,contextVariables:p,updateAgentStateBeforeReply:g,afterWork:m,handoffs:h})},xa=e=>e.collectionName?String(e.collectionName):null,Aa=e=>!0===e.resetCollection||"true"===String(e.resetCollection).toLowerCase(),Ia=e=>{if(!e.queryEngine)return null;let t="VectorChromaQueryEngine";e.queryEngine.type&&"string"==typeof e.queryEngine.type&&["VectorChromaQueryEngine","VectorChromaCitationQueryEngine","InMemoryQueryEngine"].includes(e.queryEngine.type)&&(t=e.queryEngine.type);let n=null;e.queryEngine.dbPath&&"string"==typeof e.queryEngine.dbPath&&(n=e.queryEngine.dbPath);let a,o=!1;return e.queryEngine.enableQueryCitations&&"boolean"==typeof e.queryEngine.enableQueryCitations&&(o=e.queryEngine.enableQueryCitations),e.queryEngine.citationChunkSize&&"number"==typeof e.queryEngine.citationChunkSize&&e.queryEngine.citationChunkSize>0&&(a=e.queryEngine.citationChunkSize),{type:t,dbPath:n,enableQueryCitations:o,citationChunkSize:a}},Na=e=>e.parsedDocsPath?String(e.parsedDocsPath):null,ka=e=>{let t={selectionMethod:"auto",selectionCustomMethod:"",maxRetriesForSelecting:null,selectionMode:"repeat",allowRepeat:!0,allowedOrDisallowedTransitions:{},transitionsType:"allowed",order:[]};if("speakers"in e&&"object"==typeof e.speakers){const n=e.speakers;t={selectionMethod:Oa(n),selectionCustomMethod:Pa(n),maxRetriesForSelecting:La(n),selectionMode:Ba(n),allowRepeat:Ga(n),allowedOrDisallowedTransitions:za(n),transitionsType:_a(n),order:Va(n)}}return t},Sa=e=>{let t=20;if("maxRound"in e&&"number"==typeof e.maxRound)try{t=parseInt(e.maxRound.toString(),10)}catch(n){}return t},Ta=e=>{let t=null;return"adminName"in e&&"string"==typeof e.adminName&&(t=e.adminName),t},Ea=e=>{let t=!1;return"enableClearHistory"in e&&"boolean"==typeof e.enableClearHistory&&(t=e.enableClearHistory),t},Ma=e=>{let t=!1;return"sendIntroductions"in e&&"boolean"==typeof e.sendIntroductions&&(t=e.sendIntroductions),t},Ra=e=>{let t;return"groupName"in e&&"string"==typeof e.groupName&&(t=e.groupName),t},Da=e=>{let t;return"initialAgentId"in e&&"string"==typeof e.initialAgentId&&(t=e.initialAgentId),t},Oa=e=>{let t="auto";return"selectionMethod"in e&&"string"==typeof e.selectionMethod&&["auto","manual","random","round_robin","default"].includes(e.selectionMethod)&&(t=e.selectionMethod),t},Pa=e=>{let t="";return"selectionCustomMethod"in e&&"string"==typeof e.selectionCustomMethod&&(t=e.selectionCustomMethod),t},La=e=>{let t=null;return"maxRetriesForSelecting"in e&&"number"==typeof e.maxRetriesForSelecting&&(t=e.maxRetriesForSelecting),t},Ba=e=>{let t="repeat";return"selectionMode"in e&&"string"==typeof e.selectionMode&&["repeat","transition"].includes(e.selectionMode)&&(t=e.selectionMode),t},Ga=e=>{let t=!0;return"allowRepeat"in e&&"boolean"==typeof e.allowRepeat&&(t=e.allowRepeat),t},za=e=>{let t={};if("allowedOrDisallowedTransitions"in e&&"object"==typeof e.allowedOrDisallowedTransitions&&e.allowedOrDisallowedTransitions){const n={};for(const[t,a]of Object.entries(e.allowedOrDisallowedTransitions))"string"==typeof t&&Array.isArray(a)&&(n[t]=a.filter(e=>"string"==typeof e));t=n}return t},_a=e=>{let t="allowed";return"transitionsType"in e&&"string"==typeof e.transitionsType&&["allowed","disallowed"].includes(e.transitionsType)&&(t=e.transitionsType),t},Va=e=>{let t=[];return"order"in e&&Array.isArray(e.order)&&(t=e.order.filter(e=>"string"==typeof e)),t},Ha=e=>"object"!=typeof e||("verbose"in e&&"boolean"==typeof e.verbose?e.verbose:!("data"in e)||"object"!=typeof e.data||!("verbose"in e.data)||"boolean"!=typeof e.data.verbose||e.data.verbose),Wa=e=>{if("object"!=typeof e)return Xn;let t=null;return"reasonConfig"in e&&"object"==typeof e.reasonConfig&&e.reasonConfig?t=e.reasonConfig:"data"in e&&"object"==typeof e.data&&e.data&&"reasonConfig"in e.data&&"object"==typeof e.data.reasonConfig&&e.data.reasonConfig&&(t=e.data.reasonConfig),t?{method:Fa(t),maxDepth:ja(t),forestSize:Ua(t),ratingScale:Xa(t),beamSize:Za(t),answerApproach:Ja(t),nsim:Ya(t),explorationConstant:qa(t)}:Xn},Fa=e=>"method"in e&&"string"==typeof e.method&&["beam_search","mcts","lats","dfs"].includes(e.method)?e.method:"beam_search",ja=e=>"maxDepth"in e&&"number"==typeof e.maxDepth?e.maxDepth:3,Ua=e=>"forestSize"in e&&"number"==typeof e.forestSize?e.forestSize:1,Xa=e=>"ratingScale"in e&&"number"==typeof e.ratingScale?e.ratingScale:10,Za=e=>"beamSize"in e&&"number"==typeof e.beamSize?e.beamSize:3,Ja=e=>"answerApproach"in e&&"string"==typeof e.answerApproach&&["pool","best"].includes(e.answerApproach)?e.answerApproach:"pool",Ya=e=>"nsim"in e&&"number"==typeof e.nsim?e.nsim:3,qa=e=>"explorationConstant"in e&&"number"==typeof e.explorationConstant?e.explorationConstant:1.41,$a=e=>{if("object"!=typeof e)return Fn;let t=null;return"retrieveConfig"in e&&"object"==typeof e.retrieveConfig&&e.retrieveConfig?t=e.retrieveConfig:"data"in e&&"object"==typeof e.data&&e.data&&"retrieveConfig"in e.data&&"object"==typeof e.data.retrieveConfig&&e.data.retrieveConfig&&(t=e.data.retrieveConfig),t?{task:Qa(t),vectorDb:Ka(t),dbConfig:lo(t),docsPath:co(t),newDocs:uo(t),model:po(t),chunkTokenSize:go(t),contextMaxTokens:mo(t),chunkMode:ho(t),mustBreakAtEmptyLine:fo(t),useCustomEmbedding:bo(t),embeddingFunction:yo(t),customizedPrompt:vo(t),customizedAnswerPrefix:Co(t),updateContext:wo(t),collectionName:xo(t),getOrCreate:Ao(t),overwrite:Io(t),useCustomTokenCount:No(t),customTokenCountFunction:ko(t),useCustomTextSplit:So(t),customTextSplitFunction:To(t),customTextTypes:Eo(t),recursive:Mo(t),distanceThreshold:Ro(t),nResults:Do(t)}:Fn},Qa=e=>{let t="default";return"task"in e&&"string"==typeof e.task&&["code","qa","default"].includes(e.task)&&(t=e.task),t},Ka=e=>{let t="chroma";return"vectorDb"in e&&"string"==typeof e.vectorDb&&["chroma","pgvector","mongodb","qdrant"].includes(e.vectorDb)&&(t=e.vectorDb),t},eo=e=>{let t="all-MiniLM-L6-v2";return"model"in e&&"string"==typeof e.model&&e.model.length>0&&(t=e.model),t},to=e=>{let t=!1;return"useMemory"in e&&"boolean"==typeof e.useMemory&&(t=e.useMemory),t},no=e=>{let t=!1;return"useLocalStorage"in e&&"boolean"==typeof e.useLocalStorage&&(t=e.useLocalStorage),t},ao=e=>{let t=null;return"localStoragePath"in e&&"string"==typeof e.localStoragePath&&e.localStoragePath.length>0&&(t=e.localStoragePath),t},oo=e=>{let t=null;return"connectionUrl"in e&&"string"==typeof e.connectionUrl&&e.connectionUrl.length>0&&(t=e.connectionUrl),t},ro=e=>{let t=null;return"waitUntilIndexReady"in e&&"boolean"==typeof e.waitUntilIndexReady&&(t=e.waitUntilIndexReady),t},io=e=>{let t=null;return"waitUntilDocumentReady"in e&&"boolean"==typeof e.waitUntilDocumentReady&&(t=e.waitUntilDocumentReady),t},so=e=>{let t=null;return"metadata"in e&&"object"==typeof e.metadata&&e.metadata&&(t=e.metadata),t},lo=e=>{let t={model:"all-MiniLM-L6-v2",useMemory:!1,useLocalStorage:!1,localStoragePath:null,connectionUrl:null,waitUntilIndexReady:null,waitUntilDocumentReady:null,metadata:null};return"dbConfig"in e&&"object"==typeof e.dbConfig&&(t={model:eo(e.dbConfig),useMemory:to(e.dbConfig),useLocalStorage:no(e.dbConfig),localStoragePath:ao(e.dbConfig),connectionUrl:oo(e.dbConfig),waitUntilIndexReady:ro(e.dbConfig),waitUntilDocumentReady:io(e.dbConfig),metadata:so(e.dbConfig)}),t},co=e=>{let t=[];return"docsPath"in e&&Array.isArray(e.docsPath)&&e.docsPath.length>0&&(t=e.docsPath.filter(e=>"string"==typeof e&&e.length>0)),t},uo=e=>{let t=!0;return"newDocs"in e&&"boolean"==typeof e.newDocs&&(t=e.newDocs),t},po=e=>{let t=null;return"model"in e&&"string"==typeof e.model&&(t=e.model),t},go=e=>{let t=null;return"chunkTokenSize"in e&&"number"==typeof e.chunkTokenSize&&(t=e.chunkTokenSize),t},mo=e=>{let t=null;return"contextMaxTokens"in e&&"number"==typeof e.contextMaxTokens&&(t=e.contextMaxTokens),t},ho=e=>{let t="multi_lines";return"chunkMode"in e&&"string"==typeof e.chunkMode&&["multi_lines","one_line"].includes(e.chunkMode)&&(t=e.chunkMode),t},fo=e=>{let t=!0;return"mustBreakAtEmptyLine"in e&&"boolean"==typeof e.mustBreakAtEmptyLine&&(t=e.mustBreakAtEmptyLine),t},bo=e=>{let t=!1;return"useCustomEmbedding"in e&&"boolean"==typeof e.useCustomEmbedding&&(t=e.useCustomEmbedding),t},yo=e=>{let t=null;return"embeddingFunction"in e&&"string"==typeof e.embeddingFunction&&(t=e.embeddingFunction),t},vo=e=>{let t=null;return"customizedPrompt"in e&&"string"==typeof e.customizedPrompt&&(t=e.customizedPrompt),t},Co=e=>{let t=null;return"customizedAnswerPrefix"in e&&"string"==typeof e.customizedAnswerPrefix&&(t=e.customizedAnswerPrefix),t},wo=e=>{let t=!0;return"updateContext"in e&&"boolean"==typeof e.updateContext&&(t=e.updateContext),t},xo=e=>{let t="autogen-docs";return"collectionName"in e&&"string"==typeof e.collectionName&&(t=e.collectionName),t},Ao=e=>{let t=!0;return"getOrCreate"in e&&"boolean"==typeof e.getOrCreate&&(t=e.getOrCreate),t},Io=e=>{let t=!1;return"overwrite"in e&&"boolean"==typeof e.overwrite&&(t=e.overwrite),t},No=e=>{let t=!1;return"useCustomTokenCount"in e&&"boolean"==typeof e.useCustomTokenCount&&(t=e.useCustomTokenCount),t},ko=e=>{let t=null;return"customTokenCountFunction"in e&&"string"==typeof e.customTokenCountFunction&&(t=e.customTokenCountFunction),t},So=e=>{let t=!1;return"useCustomTextSplit"in e&&"boolean"==typeof e.useCustomTextSplit&&(t=e.useCustomTextSplit),t},To=e=>{let t=null;return"customTextSplitFunction"in e&&"string"==typeof e.customTextSplitFunction&&(t=e.customTextSplitFunction),t},Eo=e=>{let t=[];return"customTextTypes"in e&&Array.isArray(e.customTextTypes)&&e.customTextTypes.length>0&&(t=e.customTextTypes.filter(e=>"string"==typeof e&&e.length>0)),t},Mo=e=>{let t=!0;return"recursive"in e&&"boolean"==typeof e.recursive&&(t=e.recursive),t},Ro=e=>{let t=-1;return"distanceThreshold"in e&&"number"==typeof e.distanceThreshold&&(t=e.distanceThreshold),t},Do=e=>{let t=null;return"nResults"in e&&"number"==typeof e.nResults&&(t=e.nResults),t},Oo={agent:"#005490",assistant:"#66bc57",captain:"#0e2766",user_proxy:"#bc76f5",rag_user_proxy:"#e34561",doc_agent:"#e34561",reasoning:"#63D0D4",group_manager:"#ed8a34"},Po={agent:"#005490",assistant:"#66bc57",captain:"#284ca4",user_proxy:"#bc76f5",rag_user_proxy:"#e34561",doc_agent:"#e34561",reasoning:"#63D0D4",group_manager:"#ed8a34"},Lo="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M16%208.016A8.522%208.522%200%20008.016%2016h-.032A8.521%208.521%200%20000%208.016v-.032A8.521%208.521%200%20007.984%200h.032A8.522%208.522%200%200016%207.984v.032z'%20fill='url(%23prefix__paint0_radial_980_20147)'/%3e%3cdefs%3e%3cradialGradient%20id='prefix__paint0_radial_980_20147'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(16.1326%205.4553%20-43.70045%20129.2322%201.588%206.503)'%3e%3cstop%20offset='.067'%20stop-color='%239168C0'/%3e%3cstop%20offset='.343'%20stop-color='%235684D1'/%3e%3cstop%20offset='.672'%20stop-color='%231BA1E3'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e",Bo="data:image/webp;base64,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",Go={openai:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='0%200%20320%20320'%20version='1.1'%20id='svg7'%20width='320'%20height='320'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs7'%20/%3e%3cpath%20d='M%20298.89867,130.97427%20C%20306.25636,109.18381%20303.72272,85.313302%20291.9565,65.492879%20274.26156,35.092232%20238.68927,19.451898%20203.94801,26.812055%20188.49281,9.6316894%20166.288,-0.13851872%20143.00893,0.00148426%20107.49744,-0.07851744%2075.989107,22.481963%2065.064056,55.822673%2042.25117,60.432772%2022.559727,74.523072%2011.036736,94.493497%20-6.7899476,124.81414%20-2.7259906,163.03495%2021.090216,189.03551%20c%20-7.357688,21.79046%20-4.824049,45.66097%206.942171,65.48139%2017.694935,30.40065%2053.267228,46.04098%2088.008483,38.68083%2015.44507,17.18036%2037.66001,26.95057%2060.93909,26.80057%2035.53175,0.09%2067.05022,-22.49048%2077.97527,-55.86119%2022.81289,-4.6101%2042.50433,-18.7004%2054.02732,-38.67083%2017.80642,-30.32064%2013.73233,-68.51146%20-10.07375,-94.51201%20z%20M%20177.00023,299.08785%20c%20-14.21879,0.02%20-27.99165,-4.8901%20-38.90656,-13.88029%200.49659,-0.26001%201.35803,-0.73002%201.91543,-1.07003%20l%2064.57739,-36.80078%20c%203.30386,-1.85004%205.33078,-5.32011%205.31051,-9.07019%20v%20-89.83192%20l%2027.29236,15.55033%20c%200.2939,0.14001%200.48646,0.42001%200.52699,0.74002%20v%2074.39158%20c%20-0.0405,33.08071%20-27.19101,59.90128%20-60.71612,59.97128%20z%20M%2046.426607,244.05668%20c%20-7.124593,-12.14026%20-9.688636,-26.37056%20-7.246208,-40.18086%200.476324,0.28001%201.317492,0.79002%201.915431,1.13003%20l%2064.57739,36.80078%20c%203.27346,1.89004%207.32728,1.89004%2010.61088,0%20l%2078.83671,-44.92096%20v%2031.10067%20c%200.0203,0.32%20-0.13175,0.63001%20-0.38511,0.83002%20l%20-65.27668,37.19079%20C%20100.38298,282.5275%2063.24997,272.70729%2046.436741,244.05668%20Z%20M%2029.430956,104.96372%20c%207.094189,-12.160259%2018.292874,-21.460457%2031.62995,-26.29056%200,0.550012%20-0.0304,1.520033%20-0.0304,2.200047%20v%2073.611563%20c%20-0.02027,3.74008%202.006642,7.21016%205.300373,9.06019%20l%2078.836711,44.91096%20-27.29236,15.55033%20c%20-0.27364,0.18001%20-0.61821,0.21001%20-0.92225,0.08%20L%2051.666172,186.86546%20C%2022.650938,170.28511%2012.698804,133.65433%2029.420821,104.97372%20Z%20m%20224.237184,51.49109%20-78.83671,-44.92095%2027.29236,-15.540331%20c%200.27363,-0.180004%200.61821,-0.210004%200.92225,-0.08%20l%2065.28681,37.190791%20c%2029.0659,16.57035%2039.02817,53.26113%2022.23521,81.94174%20-7.10432,12.14026%20-18.29287,21.44046%20-31.61981,26.28056%20v%20-75.81161%20c%200.0304,-3.74008%20-1.98637,-7.20016%20-5.26997,-9.0602%20z%20m%2027.16062,-40.34086%20c%20-0.47633,-0.29%20-1.3175,-0.79001%20-1.91544,-1.13002%20L%20214.33593,78.18315%20c%20-3.27346,-1.890041%20-7.32728,-1.890041%20-10.61088,0%20L%20124.88834,123.1041%20V%2092.003444%20c%20-0.0203,-0.320007%200.13175,-0.630013%200.38511,-0.830017%20l%2065.27668,-37.160792%20c%2029.07604,-16.550353%2066.24959,-6.700143%2083.01215,22.000469%207.08405,12.120258%209.6481,26.310556%207.24621,40.100846%20z%20M%20110.05135,171.54513%2082.748856,155.9948%20c%20-0.293902,-0.14%20-0.486458,-0.42001%20-0.526997,-0.74001%20V%2080.863207%20c%200.02027,-33.120706%2027.251821,-59.961278%2060.817471,-59.941277%2014.19851,0%2027.94097,4.920105%2038.85589,13.880295%20-0.4966,0.260006%20-1.3479,0.730016%20-1.91543,1.070023%20l%20-64.5774,36.800784%20c%20-3.30386,1.85004%20-5.33077,5.310113%20-5.3105,9.060193%20l%20-0.0405,89.791905%20z%20m%2014.82685,-31.54067%2035.11624,-20.01042%2035.11624,20.00042%20v%2040.01086%20l%20-35.11624,20.00042%20-35.11624,-20.00042%20z'%20id='path7'%20style='stroke-width:1.00672'%20/%3e%3c/svg%3e",azure:"data:image/svg+xml,%3csvg%20width='150'%20height='150'%20viewBox='0%200%2096%2096'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20id='e399c19f-b68f-429d-b176-18c2117ff73c'%20x1='-1032.172'%20x2='-1059.213'%20y1='145.312'%20y2='65.426'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23114a8b'/%3e%3cstop%20offset='1'%20stop-color='%230669bc'/%3e%3c/linearGradient%3e%3clinearGradient%20id='ac2a6fc2-ca48-4327-9a3c-d4dcc3256e15'%20x1='-1023.725'%20x2='-1029.98'%20y1='108.083'%20y2='105.968'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-opacity='.3'/%3e%3cstop%20offset='.071'%20stop-opacity='.2'/%3e%3cstop%20offset='.321'%20stop-opacity='.1'/%3e%3cstop%20offset='.623'%20stop-opacity='.05'/%3e%3cstop%20offset='1'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='a7fee970-a784-4bb1-af8d-63d18e5f7db9'%20x1='-1027.165'%20x2='-997.482'%20y1='147.642'%20y2='68.561'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%233ccbf4'/%3e%3cstop%20offset='1'%20stop-color='%232892df'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23e399c19f-b68f-429d-b176-18c2117ff73c)'%20d='M33.338%206.544h26.038l-27.03%2080.087a4.152%204.152%200%200%201-3.933%202.824H8.149a4.145%204.145%200%200%201-3.928-5.47L29.404%209.368a4.152%204.152%200%200%201%203.934-2.825z'/%3e%3cpath%20fill='%230078d4'%20d='M71.175%2060.261h-41.29a1.911%201.911%200%200%200-1.305%203.309l26.532%2024.764a4.171%204.171%200%200%200%202.846%201.121h23.38z'/%3e%3cpath%20fill='url(%23ac2a6fc2-ca48-4327-9a3c-d4dcc3256e15)'%20d='M33.338%206.544a4.118%204.118%200%200%200-3.943%202.879L4.252%2083.917a4.14%204.14%200%200%200%203.908%205.538h20.787a4.443%204.443%200%200%200%203.41-2.9l5.014-14.777%2017.91%2016.705a4.237%204.237%200%200%200%202.666.972H81.24L71.024%2060.261l-29.781.007L59.47%206.544z'/%3e%3cpath%20fill='url(%23a7fee970-a784-4bb1-af8d-63d18e5f7db9)'%20d='M66.595%209.364a4.145%204.145%200%200%200-3.928-2.82H33.648a4.146%204.146%200%200%201%203.928%202.82l25.184%2074.62a4.146%204.146%200%200%201-3.928%205.472h29.02a4.146%204.146%200%200%200%203.927-5.472z'/%3e%3c/svg%3e",bedrock:"data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eBedrock%3c/title%3e%3cpath%20d='M13.05%2015.513h3.08c.214%200%20.389.177.389.394v1.82a1.704%201.704%200%20011.296%201.661c0%20.943-.755%201.708-1.685%201.708-.931%200-1.686-.765-1.686-1.708%200-.807.554-1.484%201.297-1.662v-1.425h-2.69v4.663a.395.395%200%2001-.188.338l-2.69%201.641a.385.385%200%2001-.405-.002l-4.926-3.086a.395.395%200%2001-.185-.336V16.3L2.196%2014.87A.395.395%200%20012%2014.555L2%2014.528V9.406c0-.14.073-.27.192-.34l2.465-1.462V4.448c0-.129.062-.249.165-.322l.021-.014L9.77%201.058a.385.385%200%2001.407%200l2.69%201.675a.395.395%200%2001.185.336V7.6h3.856V5.683a1.704%201.704%200%2001-1.296-1.662c0-.943.755-1.708%201.685-1.708.931%200%201.685.765%201.685%201.708%200%20.807-.553%201.484-1.296%201.662v2.311a.391.391%200%2001-.389.394h-4.245v1.806h6.624a1.69%201.69%200%20011.64-1.313c.93%200%201.685.764%201.685%201.707%200%20.943-.754%201.708-1.685%201.708a1.69%201.69%200%2001-1.64-1.314H13.05v1.937h4.953l.915%201.18a1.66%201.66%200%2001.84-.227c.931%200%201.685.764%201.685%201.707%200%20.943-.754%201.708-1.685%201.708-.93%200-1.685-.765-1.685-1.708%200-.346.102-.668.276-.937l-.724-.935H13.05v1.806zM9.973%201.856L7.93%203.122V6.09h-.778V3.604L5.435%204.669v2.945l2.11%201.36L9.712%207.61V5.334h.778V7.83c0%20.136-.07.263-.184.335L7.963%209.638v2.081l1.422%201.009-.446.646-1.406-.998-1.53%201.005-.423-.66%201.605-1.055v-1.99L5.038%208.29l-2.26%201.34v1.676l1.972-1.189.398.677-2.37%201.429V14.3l2.166%201.258%202.27-1.368.397.677-2.176%201.311V19.3l1.876%201.175%202.365-1.426.398.678-2.017%201.216%201.918%201.201%202.298-1.403v-5.78l-4.758%202.893-.4-.675%205.158-3.136V3.289L9.972%201.856zM16.13%2018.47a.913.913%200%2000-.908.92c0%20.507.406.918.908.918a.913.913%200%2000.907-.919.913.913%200%2000-.907-.92zm3.63-3.81a.913.913%200%2000-.908.92c0%20.508.406.92.907.92a.913.913%200%2000.908-.92.913.913%200%2000-.908-.92zm1.555-4.99a.913.913%200%2000-.908.92c0%20.507.407.918.908.918a.913.913%200%2000.907-.919.913.913%200%2000-.907-.92zM17.296%203.1a.913.913%200%2000-.907.92c0%20.508.406.92.907.92a.913.913%200%2000.908-.92.913.913%200%2000-.908-.92z'%3e%3c/path%3e%3c/svg%3e",deepseek:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg:svg%20width='64'%20height='64'%20viewBox='0%200%2064%2064.000039'%20fill='none'%20version='1.1'%20id='svg7'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csvg:path%20id='path7'%20d='m%2059.511568,14.791492%20c%20-0.5953,-0.29175%20-0.8517,0.26416%20-1.1998,0.54663%20-0.1191,0.09107%20-0.2198,0.20947%20-0.3206,0.31885%20-0.8701,0.9292%20-1.8867,1.53979%20-3.2148,1.4668%20-1.9417,-0.10938%20-3.5995,0.50122%20-5.065,1.98632%20-0.3114,-1.83129%20-1.3463,-2.9248%20-2.9217,-3.62622%20-0.8242,-0.3645%20-1.6577,-0.729%20-2.2348,-1.52172%20-0.4029,-0.5647%20-0.5129,-1.19336%20-0.7143,-1.812993%20-0.1283,-0.373535%20-0.2565,-0.756347%20-0.687,-0.820068%20-0.4671,-0.07275%20-0.6503,0.318848%20-0.8335,0.646973%20-0.7327,1.339358%20-1.0166,2.815428%20-0.9892,4.309568%200.0641,3.36206%201.4838,6.04057%204.3048,7.94487%200.3206,0.2187%200.403,0.4372%200.3023,0.7563%20-0.1924,0.656%20-0.4214,1.2937%20-0.6228,1.9497%20-0.1283,0.4192%20-0.3207,0.5103%20-0.7694,0.3279%20-1.5479,-0.6467%20-2.8852,-1.6035%20-4.0667,-2.7605%20-2.0058,-1.9407%20-3.8193,-4.08179%20-6.0815,-5.75831%20-0.5313,-0.39184%20-1.0625,-0.7561%20-1.6121,-1.10254%20-2.3081,-2.24121%200.3023,-4.08178%200.9068,-4.30029%200.6319,-0.22778%200.2198,-1.01147%20-1.8227,-1.0022%20-2.0425,0.009%20-3.9109,0.69239%20-6.2922,1.60352%20-0.348,0.13672%20-0.7145,0.23682%20-1.09,0.31885%20-2.1615,-0.40992%20-4.4055,-0.50122%20-6.7502,-0.23682%20-4.414689,0.49194%20-7.9408194,2.57837%20-10.5328594,6.14087%20-3.1141341,4.28222%20-3.8468001,9.14742%20-2.9492171,14.22242%200.9433571,5.3481%203.6727271,9.7761%207.8675575,13.2385%204.350619,3.5896%209.360619,5.3482%2015.075819,5.011%203.4713,-0.2004%207.3364,-0.665%2011.6961,-4.355%201.099,0.5467%202.2531,0.7652%204.1674,0.9292%201.4746,0.1367%202.8943,-0.0727%203.9933,-0.3005%201.7219,-0.3645%201.6029,-1.959%200.9801,-2.2505%20-5.0466,-2.3506%20-3.9385,-1.394%20-4.9459,-2.1685%202.5645,-3.0339%206.4297,-6.1865%207.9409,-16.4001%200.119,-0.8108%200.0183,-1.3211%200,-1.9771%20-0.0092,-0.4008%200.0824,-0.5556%200.5404,-0.6013%201.2639,-0.1457%202.4912,-0.4919%203.6178,-1.1115%203.2698,-1.7857%204.5886,-4.71953%204.9,-8.23638%200.0459,-0.53759%20-0.0091,-1.0935%20-0.577,-1.37573%20z%20m%20-28.4938,31.65181%20c%20-4.8909,-3.8447%20-7.263,-5.1113%20-8.2431,-5.0566%20-0.9159,0.0547%20-0.751,1.1025%20-0.5496,1.7859%200.2107,0.6741%200.4855,1.1389%200.8701,1.731%200.2656,0.3918%200.4489,0.9748%20-0.2655,1.4123%20-1.5754,0.9749%20-4.314,-0.3281%20-4.4423,-0.3918%20-3.1872,-1.877%20-5.852489,-4.3553%20-7.730179,-7.7444%20-1.8134704,-3.262%20-2.8667004,-6.7605%20-3.0407704,-10.4961%20-0.04577,-0.9019%200.21985,-1.221%201.11743,-1.3848%201.18152,-0.2187%202.3996604,-0.2644%203.5811804,-0.0913%204.991739,0.729%209.241439,2.9612%2012.804339,6.4963%202.0333,2.0135%203.572,4.419%205.1566,6.7696%201.6852,2.4963%203.4987,4.8745%205.8068,6.8242%200.8151,0.6833%201.4654,1.2026%202.0882,1.5854%20-1.8775,0.2095%20-5.01,0.2552%20-7.1532,-1.4397%20z%20m%202.3447,-15.0788%20c%200,-0.4009%200.3206,-0.7197%200.7237,-0.7197%200.0915,0%200.1739,0.018%200.2472,0.0454%200.1008,0.0366%200.1924,0.0913%200.2656,0.1731%200.1283,0.1277%200.2015,0.3098%200.2015,0.5012%200,0.4009%20-0.3205,0.7197%20-0.7235,0.7197%20-0.4031,0%20-0.7145,-0.3188%20-0.7145,-0.7197%20z%20m%207.2815,3.7356%20c%20-0.4671,0.1914%20-0.9342,0.3552%20-1.383,0.3735%20-0.6961,0.0364%20-1.4563,-0.2461%20-1.8684,-0.5923%20-0.6411,-0.5376%20-1.0991,-0.8381%20-1.2915,-1.7766%20-0.0824,-0.4009%20-0.0367,-1.0205%200.0367,-1.3757%200.1648,-0.7654%20-0.0184,-1.2573%20-0.5587,-1.7039%20-0.4397,-0.3645%20-0.9984,-0.4646%20-1.6121,-0.4646%20-0.229,0%20-0.4395,-0.1003%20-0.5953,-0.1823%20-0.2565,-0.1275%20-0.467,-0.4463%20-0.2656,-0.8382%200.0641,-0.1274%200.3756,-0.4372%200.4488,-0.4919%200.8335,-0.4739%201.7952,-0.3189%202.6836,0.0364%200.8244,0.3371%201.4472,0.9567%202.3447,1.8313%200.9159,1.0568%201.0807,1.3486%201.6028,2.1411%200.4123,0.6196%200.7878,1.2573%201.0442,1.9863%200.1557,0.4556%20-0.0458,0.8291%20-0.5862,1.0569%20z'%20fill-rule='nonzero'%20fill='%234d6bfe'%20/%3e%3cscript%20/%3e%3c/svg:svg%3e",google:Lo,gemini:Lo,anthropic:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20version='1.1'%20viewBox='0%200%20149.99999%20150'%20width='150'%20height='150'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%3e%3cstyle%20id='style1'%3e%20.cls-1%20{%20fill:%20%230f0f0d;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23d97757;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-2'%20d='m%2030.005,99.45%2029.14,-16.35%200.49,-1.42%20-0.49,-0.79%20h%20-1.42%20l%20-4.87,-0.3%20-16.65,-0.45%20-14.44,-0.6%20-13.99,-0.75%20-3.52,-0.75%20-3.3,-4.35%200.34,-2.17%202.96,-1.99%204.24,0.37%209.37,0.64%2014.06,0.97%2010.2,0.6%2015.11,1.57%20h%202.4%20l%200.34,-0.97%20-0.82,-0.6%20-0.64,-0.6%20-14.55,-9.86%20-15.75,-10.42%20-8.25,-6%20-4.46,-3.04%20-2.25,-2.85%20-0.97,-6.22%204.05,-4.46%205.44,0.37%201.39,0.37%205.51,4.24%2011.77,9.11%2015.37,11.32%202.25,1.87%200.9,-0.64%200.11,-0.45%20-1.01,-1.69%20-8.36,-15.11%20-8.92,-15.37%20-3.97,-6.37%20-1.05,-3.82%20c%20-0.37,-1.57%20-0.64,-2.89%20-0.64,-4.5%20l%204.61,-6.26%202.55,-0.82%206.15,0.82%202.59,2.25%203.82,8.74%206.19,13.76%209.6,18.71%202.81,5.55%201.5,5.14%200.56,1.57%20h%200.97%20v%20-0.9%20l%200.79,-10.54%201.46,-12.94%201.42,-16.65%200.49,-4.69%202.32,-5.62%204.61,-3.04%203.6,1.72%202.96,4.24%20-0.41,2.74%20-1.76,11.44%20-3.45,17.92%20-2.25,12%20h%201.31%20l%201.5,-1.5%206.07,-8.06%2010.2,-12.75%204.5,-5.06%205.25,-5.59%203.37,-2.66%20h%206.37%20l%204.69,6.97%20-2.1,7.2%20-6.56,8.32%20-5.44,7.05%20-7.8,10.5%20-4.87,8.4%200.45,0.67%201.16,-0.11%2017.62,-3.75%209.52,-1.72%2011.36,-1.95%205.14,2.4%200.56,2.44%20-2.02,4.99%20-12.15,3%20-14.25,2.85%20-21.22,5.02%20-0.26,0.19%200.3,0.37%209.56,0.9%204.09,0.22%20h%2010.01%20l%2018.64,1.39%204.87,3.22%202.92,3.94%20-0.49,3%20-7.5,3.82%20-10.12,-2.4%20-23.62,-5.62%20-8.1,-2.02%20h%20-1.12%20v%200.67%20l%206.75,6.6%2012.37,11.17%2015.49,14.4%200.79,3.56%20-1.99,2.81%20-2.1,-0.3%20-13.61,-10.24%20-5.25,-4.61%20-11.89,-10.01%20h%20-0.79%20v%201.05%20l%202.74,4.01%2014.47,21.75%200.75,6.67%20-1.05,2.17%20-3.75,1.31%20-4.12,-0.75%20-8.47,-11.89%20-8.74,-13.39%20-7.05,-12%20-0.86,0.49%20-4.16,44.81%20-1.95,2.29%20-4.5,1.72%20-3.75,-2.85%20-1.99,-4.61%201.99,-9.11%202.4,-11.89%201.95,-9.45%201.76,-11.74%201.05,-3.9%20-0.07,-0.26%20-0.86,0.11%20-8.85,12.15%20-13.46,18.19%20-10.65,11.4%20-2.55,1.01%20-4.42,-2.29%200.41,-4.09%202.47,-3.64%2014.74,-18.75%208.89,-11.62%205.74,-6.71%20-0.04,-0.97%20h%20-0.34%20l%20-39.15,25.42%20-6.97,0.9%20-3,-2.81%200.37,-4.61%201.42,-1.5%2011.77,-8.1%20-0.04,0.04%20z'%20shape-rendering='optimizeQuality'%20id='path1'%20/%3e%3c/svg%3e",cohere:"data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eCohere%3c/title%3e%3cpath%20clip-rule='evenodd'%20d='M8.128%2014.099c.592%200%201.77-.033%203.398-.703%201.897-.781%205.672-2.2%208.395-3.656%201.905-1.018%202.74-2.366%202.74-4.18A4.56%204.56%200%200018.1%201H7.549A6.55%206.55%200%20001%207.55c0%203.617%202.745%206.549%207.128%206.549z'%20fill='%2339594D'%20fill-rule='evenodd'%3e%3c/path%3e%3cpath%20clip-rule='evenodd'%20d='M9.912%2018.61a4.387%204.387%200%20012.705-4.052l3.323-1.38c3.361-1.394%207.06%201.076%207.06%204.715a5.104%205.104%200%2001-5.105%205.104l-3.597-.001a4.386%204.386%200%2001-4.386-4.387z'%20fill='%23D18EE2'%20fill-rule='evenodd'%3e%3c/path%3e%3cpath%20d='M4.776%2014.962A3.775%203.775%200%20001%2018.738v.489a3.776%203.776%200%20007.551%200v-.49a3.775%203.775%200%2000-3.775-3.775z'%20fill='%23FF7759'%3e%3c/path%3e%3c/svg%3e",mistral:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20version='1.1'%20id='Layer_1'%20x='0px'%20y='0px'%20viewBox='0%200%20500%20500'%20style='enable-background:new%200%200%20500%20500;'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs119'%20/%3e%3cg%20id='g94'%3e%3c/g%3e%3cg%20id='g119'%3e%3crect%20x='352.273'%20y='45.455'%20width='81.818'%20height='81.818'%20id='rect94'%20/%3e%3crect%20x='393.182'%20y='45.455'%20style='fill:%23F7D046;'%20width='81.818'%20height='81.818'%20id='rect95'%20/%3e%3crect%20x='25'%20y='45.455'%20width='81.818'%20height='81.818'%20id='rect96'%20/%3e%3crect%20x='25'%20y='127.273'%20width='81.818'%20height='81.818'%20id='rect97'%20/%3e%3crect%20x='25'%20y='209.091'%20width='81.818'%20height='81.818'%20id='rect98'%20/%3e%3crect%20x='25'%20y='290.909'%20width='81.818'%20height='81.818'%20id='rect99'%20/%3e%3crect%20x='25'%20y='372.727'%20width='81.818'%20height='81.818'%20id='rect100'%20/%3e%3crect%20x='65.909'%20y='45.455'%20style='fill:%23F7D046;'%20width='81.818'%20height='81.818'%20id='rect101'%20/%3e%3crect%20x='393.182'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect102'%20/%3e%3crect%20x='65.909'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect103'%20/%3e%3crect%20x='270.455'%20y='127.273'%20width='81.818'%20height='81.818'%20id='rect104'%20/%3e%3crect%20x='311.364'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect105'%20/%3e%3crect%20x='147.727'%20y='127.273'%20style='fill:%23F2A73B;'%20width='81.818'%20height='81.818'%20id='rect106'%20/%3e%3crect%20x='229.545'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect107'%20/%3e%3crect%20x='311.364'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect108'%20/%3e%3crect%20x='147.727'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect109'%20/%3e%3crect%20x='188.636'%20y='290.909'%20width='81.818'%20height='81.818'%20id='rect110'%20/%3e%3crect%20x='229.545'%20y='290.909'%20style='fill:%23EB5829;'%20width='81.818'%20height='81.818'%20id='rect111'%20/%3e%3crect%20x='393.182'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect112'%20/%3e%3crect%20x='65.909'%20y='209.091'%20style='fill:%23EE792F;'%20width='81.818'%20height='81.818'%20id='rect113'%20/%3e%3crect%20x='352.273'%20y='290.909'%20width='81.818'%20height='81.818'%20id='rect114'%20/%3e%3crect%20x='393.182'%20y='290.909'%20style='fill:%23EB5829;'%20width='81.818'%20height='81.818'%20id='rect115'%20/%3e%3crect%20x='352.273'%20y='372.727'%20width='81.818'%20height='81.818'%20id='rect116'%20/%3e%3crect%20x='65.909'%20y='290.909'%20style='fill:%23EB5829;'%20width='81.818'%20height='81.818'%20id='rect117'%20/%3e%3crect%20x='393.182'%20y='372.727'%20style='fill:%23EA3326;'%20width='81.818'%20height='81.818'%20id='rect118'%20/%3e%3crect%20x='65.909'%20y='372.727'%20style='fill:%23EA3326;'%20width='81.818'%20height='81.818'%20id='rect119'%20/%3e%3c/g%3e%3c/svg%3e",groq:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='120'%20height='120'%20viewBox='0%200%2031.749999%2031.75'%20version='1.1'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3cg%20id='layer1'%20transform='translate(-1.0583336,-1.0583335)'%3e%3cg%20id='g1'%20transform='matrix(0.0839389,0,0,0.0839389,5.9375622,2.6051197)'%20style='fill:%23f55036;fill-opacity:1'%3e%3cpath%20d='M%20131.6,6.5%20C%2069.5,6%2018.7,55.8%2018.1,117.9%2017.5,180%2067.4,230.8%20129.5,231.4%20c%200.7,0%201.4,0%202.1,0%20h%2037%20v%20-42.1%20h%20-37%20C%2092.8,189.8%2061,158.7%2060.5,119.9%2060,81.1%2091.1,49.3%20129.9,48.8%20c%200.5,0%201.1,0%201.6,0%2038.7,0%2070.4,31.5%2070.4,70.3%20v%200%20103.5%200%20c%200,38.5%20-31.3,69.8%20-69.7,70.3%20-18.4,-0.2%20-35.9,-7.5%20-48.9,-20.6%20L%2053.5,302%20c%2020.7,20.8%2048.7,32.6%2078,32.9%20v%200%20h%201.5%20v%200%20C%20194.3,334%20243.6,284.3%20243.9,223%20V%20116.2%20C%20242.4,55.2%20192.5,6.6%20131.6,6.5%20Z'%20id='path2'%20style='fill:%23f55036;fill-opacity:1'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",together:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='74'%20height='74'%20viewBox='0%200%2019.579168%2019.579168'%20version='1.1'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3cg%20id='layer1'%3e%3cg%20id='g1'%20transform='translate(-0.147916,-0.147916)'%3e%3ccircle%20style='fill:%230f6eff;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1'%20cx='9.9375'%20cy='4.1166668'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6'%20cx='4.1166668'%20cy='9.9375'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2'%20cx='9.9375'%20cy='9.9375'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-7'%20cx='15.758333'%20cy='9.9375'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-9'%20cx='4.1166668'%20cy='15.758333'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-3'%20cx='9.9920893'%20cy='15.758333'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-7-1'%20cx='15.758333'%20cy='15.758333'%20r='2'%20/%3e%3ccircle%20style='fill:%23d3d3d3;fill-opacity:1;stroke:none;stroke-width:0.244828;stroke-opacity:1'%20id='path1-5-7-6-2-7-1-37'%20cx='15.758333'%20cy='4.1166668'%20r='2'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",nim:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg:svg%20version='1.1'%20x='0px'%20y='0px'%20width='196'%20height='196'%20viewBox='0%200%20196%20196'%20enable-background='new%200%200%20700%20550'%20xml:space='preserve'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csvg:defs%20id='defs1'%20/%3e%3csvg:path%20id='Eye_Mark_1_'%20fill='%2374b71b'%20d='M%2073.456372,72.194042%20V%2060.631527%20c%201.12198,-0.07937%202.255948,-0.139319%203.411415,-0.176111%2031.622563,-0.993824%2052.369263,27.171848%2052.369263,27.171848%200,0%20-22.40735,31.122346%20-46.43236,31.122346%20-3.460197,0%20-6.55701,-0.55769%20-9.348318,-1.49488%20V%2082.193886%20c%2012.310363,1.487017%2014.78583,6.924941%2022.189081,19.262174%20L%20112.10639,87.577242%20c%200,0%20-12.0156,-15.759812%20-32.271598,-15.759812%20-2.204274,4.13e-4%20-4.310571,0.155853%20-6.37842,0.376612%20m%200,-38.194042%20v%2017.270393%20c%201.134795,-0.09013%202.271245,-0.161642%203.411415,-0.203395%2043.975923,-1.481642%2072.626093,36.065421%2072.626093,36.065421%200,0%20-32.90865,40.016331%20-67.191477,40.016331%20-3.141461,0%20-6.082834,-0.29021%20-8.846445,-0.77927%20v%2010.67535%20c%202.363435,0.30054%204.811617,0.47748%207.366457,0.47748%2031.904925,0%2054.977025,-16.29186%2077.319065,-35.57636%203.70121,2.96618%2018.86737,10.18133%2021.9861,13.34346%20-21.24446,17.78301%20-70.74883,32.11575%20-98.81404,32.11575%20-2.704906,0%20-5.306049,-0.16329%20-7.857582,-0.40844%20V%20162%20H%20194.71746%20V%2034%20Z%20m%200,83.25473%20v%209.11475%20c%20-29.508411,-5.26099%20-37.69837,-35.934786%20-37.69837,-35.934786%200,0%2014.167377,-15.697388%2037.69837,-18.241066%20v%2010.000258%20c%20-0.0182,0%20-0.03018,-0.0045%20-0.0463,-0.0045%20-12.347156,-1.482881%20-21.995608,10.054415%20-21.995608,10.054415%200,0%205.40568,19.421749%2022.04191,25.010979%20M%2021.046171,89.105598%20c%200,0%2017.48867,-25.805957%2052.409787,-28.474484%20v%20-9.360721%20c%20-38.678551,3.103842%20-72.173423,35.86244%20-72.173423,35.86244%200,0%2018.969486,54.843917%2072.173423,59.864297%20v%20-9.95189%20C%2034.414436,132.13317%2021.046171,89.105598%2021.046171,89.105598%20Z'%20style='stroke-width:0.413405'%20/%3e%3cscript%20/%3e%3c/svg:svg%3e",other:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%20stroke-width='3'%20stroke='%23000000'%20fill='none'%3e%3ccircle%20cx='34.52'%20cy='11.43'%20r='5.82'/%3e%3ccircle%20cx='53.63'%20cy='31.6'%20r='5.82'/%3e%3ccircle%20cx='34.52'%20cy='50.57'%20r='5.82'/%3e%3ccircle%20cx='15.16'%20cy='42.03'%20r='5.82'/%3e%3ccircle%20cx='15.16'%20cy='19.27'%20r='5.82'/%3e%3ccircle%20cx='34.51'%20cy='29.27'%20r='4.7'/%3e%3cline%20x1='20.17'%20y1='16.3'%20x2='28.9'%20y2='12.93'/%3e%3cline%20x1='38.6'%20y1='15.59'%20x2='49.48'%20y2='27.52'/%3e%3cline%20x1='50.07'%20y1='36.2'%20x2='38.67'%20y2='46.49'/%3e%3cline%20x1='18.36'%20y1='24.13'%20x2='30.91'%20y2='46.01'/%3e%3cline%20x1='20.31'%20y1='44.74'%20x2='28.7'%20y2='48.63'/%3e%3cline%20x1='17.34'%20y1='36.63'%20x2='31.37'%20y2='16.32'/%3e%3cline%20x1='20.52'%20y1='21.55'%20x2='30.34'%20y2='27.1'/%3e%3cline%20x1='39.22'%20y1='29.8'%20x2='47.81'%20y2='30.45'/%3e%3cline%20x1='34.51'%20y1='33.98'%20x2='34.52'%20y2='44.74'/%3e%3c/svg%3e"},zo={user_proxy:"data:image/webp;base64,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",rag_user_proxy:Bo,doc_agent:Bo,captain:"data:image/webp;base64,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",assistant:"data:image/webp;base64,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",reasoning:"data:image/webp;base64,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",group_manager:"data:image/webp;base64,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"},_o="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3c/svg%3e",Vo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23767676'%20d='M9.691,14.851c0,0,3.766,0.83,5.777-0.128c0.798-0.383-0.223-0.67-0.191-1.085%20s0.255-0.638,1.021-0.957c0.766-0.319,1.691-0.383,1.628,0.255c-0.064,0.638-0.064,0.989,0.734,0.862s4.628-1.628,5.266-2.234%20c0.638-0.606,2.33,3.862,2.33,3.862l-3.734,5.394l-8.649,2.138l-6.702-3.16L9.691,14.851z'/%3e%3cpath%20fill='%23767676'%20d='M31.638,17.404c0-3.607-1.495-6.861-3.893-9.19c-0.601,0.115-1.104,0.162-1.306,0.174%20c-0.407,0.024-0.862-0.407-0.814-0.694s-0.455-0.622-1.34-0.407c-0.886,0.215-0.942,0.576-0.942,0.576l-0.04,0.075%20c-0.053,0.099-0.032,0.096-0.032,0.096s0.546,0.367,0.535,0.665c-0.054,0.072-0.132,0.15-0.262,0.24%20c-0.648,0.443-1.721,0.607-2.285,0.665c-0.209,0.021-0.36,0.177-0.403,0.375c-0.051,0.075-0.087,0.162-0.09,0.26%20c-0.013,0.403,0.048,1.031,0.437,1.637c0.15,0.234,0.477,0.295,0.698,0.126c0.741-0.569,1.412-0.914,1.906-0.091%20c0.183,0.305,0.242,0.607,0.183,0.857c-0.196,0.352-0.709,0.534-1.602,0.308c-0.272-0.069-0.545,0.103-0.604,0.368%20c-0.047,0.066-0.083,0.141-0.091,0.228c-0.084,0.95,0.081,2.359,0.416,3.284c-1.208,0.236-3.985,0.631-5.188,1.265%20c-0.099,0.052-0.153,0.15-0.163,0.253c-0.1,0.123-0.105,0.311,0.017,0.427c0.26,0.249,0.483,0.608,0.419,0.947%20c-0.149,0.285-0.536,0.54-1.359,0.676c-1.287,0.212-1.485-0.246-1.307-0.752c0.076-0.151,0.172-0.3,0.283-0.431%20c0.043-0.051,0.064-0.11,0.07-0.169c0.001-0.001,0.001-0.001,0.002-0.002c0.164-0.194,0.041-0.494-0.21-0.528%20c-1.273-0.174-3.487-0.145-4.655,0.112c0,0-0.087-1.288,0.393-2.56c0.166-0.394,0.328-0.656,0.63-0.997%20c0.234-0.234,0.581,0.133,0.793,0.416c0.132,0.175,0.427,0.082,0.608-0.04c0.234-0.158,0.516-0.429,0.666-0.841%20c0.184-0.367,0.265-0.868,0.049-1.55c-0.066-0.207-0.729-0.525-0.939-0.47c-0.529,0.138-0.811,0.302-0.646-0.28%20c0.029-0.06,0.051-0.116,0.097-0.185c0.498-0.755,0.957-1.424,1.224-2.101c0.111-0.251,0.204-0.503,0.255-0.759%20c0.039-0.195-0.506-0.577-0.822-0.532c-0.153,0.045-0.135-0.054-0.12-0.123c0.033-0.059,0.076-0.124,0.132-0.196%20c0.47-0.596,0.913-0.62,1.122-0.451c0.111,0.089,0.27,0.085,0.379-0.006c0.431-0.36,0.651-0.709,0.751-0.995%20c0.234-0.475,0.142-0.823-0.015-0.815l-0.638-0.223c0,0-2.076,1.529-3.225,2.127C10.48,8.274,10.139,8.322,9.82,8.346%20C9.422,8.742,9.043,9.157,8.678,9.584c-0.711,0.921-1.299,1.942-1.743,3.036c-0.763,1.804-1.129,3.816-0.97,5.934%20c0.48,6.413,5.86,11.589,12.286,11.832c5.519,0.208,10.294-3.077,12.301-7.818C31.249,20.987,31.638,19.242,31.638,17.404z'/%3e%3cpath%20fill='%23bebebe'%20d='M44.895,20.915h-0.01c-0.031-0.306-0.079-0.606-0.122-0.908c-0.034-0.237-0.066-0.474-0.108-0.707%20c-0.066-0.366-0.14-0.729-0.224-1.089c-0.038-0.162-0.082-0.32-0.124-0.481c-0.206-0.792-0.45-1.569-0.744-2.322%20c-0.006-0.016-0.012-0.033-0.018-0.05c-0.163-0.416-0.341-0.824-0.529-1.227c-0.022-0.047-0.045-0.093-0.067-0.14%20c-0.589-1.234-1.293-2.403-2.101-3.491l-0.733,0.273c-0.39-0.526-0.906-1.126-1.46-1.724c0.099-0.39-0.14-0.931-0.648-1.334%20c-0.365-0.289-0.764-0.418-1.099-0.41c-0.822-0.756-1.564-1.348-1.963-1.509c-0.219,0.027-0.698,0.123-1.298,0.259%20c1.258,0.754,0.609,1.473,0.412,1.52c-0.232,0.055-1.053,0.112-1.695-1.211c-1.295,0.328-2.698,0.732-3.331,1.036%20c-0.827,0.397-1.851,0.597-2.545,0.692C27.441,9.672,28,11.519,28,13.5C28,19.299,23.299,24,17.5,24S7,19.299,7,13.5%20c0-1.3,0.247-2.54,0.68-3.69c-0.087,0.113-0.175,0.225-0.263,0.338c-0.228,0.293-0.455,0.587-0.667,0.892%20c-0.163,0.235-0.314,0.478-0.468,0.72c-0.188,0.295-0.372,0.592-0.545,0.897c-0.147,0.258-0.285,0.522-0.421,0.787%20C5.16,13.748,5.011,14.057,4.87,14.37c-0.125,0.276-0.246,0.555-0.359,0.837c-0.127,0.318-0.242,0.642-0.354,0.968%20c-0.099,0.288-0.2,0.576-0.287,0.87c-0.1,0.34-0.182,0.687-0.266,1.034c-0.07,0.29-0.148,0.578-0.205,0.872%20c-0.079,0.403-0.132,0.815-0.187,1.226c-0.033,0.246-0.081,0.488-0.106,0.737l0,0C3.038,21.601,3,22.296,3,23%20c0,11.598,9.402,21,21,21s21-9.402,21-21C45,22.296,44.962,21.601,44.895,20.915z'/%3e%3cpath%20fill='%23e1e1e1'%20d='M33.811,6.018c-0.056,0.012-0.106,0.023-0.164,0.036c1.258,0.754,0.609,1.473,0.412,1.52%20c-0.232,0.055-1.053,0.112-1.695-1.211c-1.295,0.328-2.698,0.732-3.331,1.036c-0.827,0.397-1.851,0.597-2.545,0.692%20C27.441,9.672,28,11.519,28,13.5C28,19.299,23.299,24,17.5,24S7,19.299,7,13.5c0-1.294,0.245-2.529,0.674-3.674%20c-3.017,3.808-4.637,8.773-4.04,14.13c0.984,8.827,8.123,15.959,16.953,16.924C32.186,42.149,42,33.098,42,21.755%20C42,15.245,38.758,9.501,33.811,6.018z'/%3e%3cpath%20fill='%23efefef'%20d='M30.713,6.812c-0.166,0.049-0.327,0.098-0.482,0.146c-0.015,0.005-0.03,0.009-0.045,0.014%20c-0.135,0.043-0.263,0.085-0.386,0.127c-0.026,0.009-0.053,0.018-0.079,0.027c-0.11,0.038-0.211,0.076-0.307,0.112%20c-0.026,0.01-0.055,0.02-0.079,0.03c-0.114,0.045-0.217,0.089-0.304,0.13c-0.827,0.397-1.851,0.597-2.545,0.692%20C27.441,9.672,28,11.519,28,13.5C28,19.299,23.299,24,17.5,24S7,19.299,7,13.5c0-1.289,0.243-2.518,0.668-3.658%20C7.604,9.92,7.544,9.993,7.492,10.056c-2.327,3.183-3.549,7.223-3.036,11.575c0.88,7.465,6.938,13.472,14.411,14.273%20C28.694,36.956,37,29.283,37,19.67C37,14.443,34.534,9.801,30.713,6.812z'/%3e%3cpath%20fill='%23f5f5f5'%20d='M27.107,7.991c-0.601,0.115-1.104,0.162-1.306,0.174c-0.407,0.024-0.862-0.407-0.814-0.694%20s-0.455-0.622-1.34-0.407c-0.886,0.215-1.029,0.838-1.029,0.838s1.197,0.192,0.287,0.814c-0.648,0.443-1.721,0.607-2.285,0.665%20c-0.24,0.025-0.413,0.223-0.421,0.464c-0.013,0.403,0.048,1.031,0.437,1.637c0.15,0.234,0.477,0.295,0.698,0.126%20c0.741-0.569,1.412-0.914,1.906-0.091c0.522,0.869,0.096,1.738-1.491,1.336c-0.292-0.074-0.596,0.125-0.622,0.425%20c-0.088,0.998,0.092,2.517,0.462,3.433c-1.143,0.233-4.067,0.634-5.306,1.287c-0.187,0.098-0.226,0.363-0.073,0.509%20c0.531,0.508,0.923,1.475-1.012,1.794c-1.813,0.299-1.481-0.73-0.952-1.355c0.164-0.194,0.041-0.494-0.21-0.528%20c-1.273-0.174-3.487-0.145-4.655,0.112c0,0-0.168-2.37,1.149-3.854c0.234-0.234,0.58,0.133,0.793,0.416%20c0.132,0.175,0.373,0.208,0.554,0.086c0.432-0.291,1.045-0.95,0.643-2.219c-0.066-0.207-0.294-0.301-0.504-0.246%20c-0.622,0.163-1.519,0.059-0.912-0.861c0.641-0.972,1.229-1.801,1.408-2.688c0.039-0.195-0.148-0.355-0.346-0.33%20c-0.465,0.058-0.874-0.079-0.392-0.692c0.47-0.597,0.913-0.62,1.122-0.451c0.111,0.089,0.27,0.085,0.379-0.007%20c1.004-0.84,0.903-1.65,0.662-1.638l-1.589,0.181c0,0-1.125,1.125-2.274,1.723c-0.232,0.1-0.573,0.149-0.892,0.173%20C8.784,8.519,8.405,8.933,8.039,9.36c-1.856,2.403-2.89,5.473-2.641,8.798c0.48,6.413,5.86,11.589,12.287,11.832%20C24.991,30.266,31,24.425,31,17.181C31,13.574,29.505,10.32,27.107,7.991z'/%3e%3cpath%20fill='%23404040'%20d='M32.814,34.471c0,0-0.335,0.646-0.144,0.934c0.622,0,1.436,0,1.436,0s0.311,1.293-0.191,2.705%20c0.311-0.239,0.551-0.574,0.551-0.574s0.359-1.915,0.263-2.992C34.178,34.566,32.814,34.471,32.814,34.471z'/%3e%3cpath%20fill='%23767676'%20d='M42.652,30.306c-0.455,0.383-1.077,1.34-1.077,1.34l1.34-0.886%20C42.915,30.761,43.106,29.923,42.652,30.306z'/%3e%3cpath%20fill='%23767676'%20d='M41.359,32.699c0,0,0.407-0.287,0.694-0.431c-0.168,0.933-0.886,1.316-0.886,1.316%20s0,0.144,0.024,0.742c1.317-0.957,1.46-2.992,1.46-2.992l-1.364,0.91L41.359,32.699z'/%3e%3cpath%20fill='%23404040'%20d='M35.579,28.748l-0.578,0.12c-0.117-0.603-0.519-2.628-0.781-3.488l0.581-0.401l-0.048-0.215%20l-2.035,0.79l0.036,0.156l0.771-0.093c0.027,0.102,0.06,0.226,0.097,0.372c-0.238,0.567-0.985,2.331-1.403,3.152%20c-0.176-0.866-0.441-2.115-0.633-2.743l0.581-0.401l-0.048-0.215l-2.035,0.79l0.036,0.156l0.771-0.093%20c0.171,0.647,0.596,2.294,0.793,3.469L31.119,30.4l0.064,0.202l1.852-0.677l-0.075-0.154l-0.595,0.103%20c-0.018-0.093-0.042-0.215-0.072-0.364c0.519-0.962,1.147-2.396,1.422-3.156c0.202,0.799,0.466,1.911,0.608,2.765l-0.564,0.319%20l0.071,0.2l1.828-0.738L35.579,28.748z'/%3e%3cpath%20fill='%23404040'%20d='M18.5,31.638l-0.638-0.447c0,0,0.048,0.941-0.782,1.867C17.638,32.755,18.5,31.638,18.5,31.638z'/%3e%3cpath%20fill='%23404040'%20d='M20.72,34.769l-1.124-0.012l-0.18-0.662l0.537-0.067c0.068-0.009,0.117-0.071,0.108-0.14%20s-0.063-0.127-0.14-0.108l-0.572,0.073l-0.158-0.578l0.613-0.06c0.069-0.006,0.119-0.067,0.112-0.136%20c-0.006-0.069-0.069-0.128-0.136-0.112l-0.656,0.064l-0.114-0.419l0.067-0.172l0.693-0.054c0.068-0.006,0.12-0.065,0.115-0.135%20c-0.007-0.068-0.074-0.122-0.135-0.115l-0.572,0.045l0.23-0.59l-0.223-0.239l-0.339,0.88l-1.017,0.425%20c-0.057,0.023-0.088,0.084-0.074,0.144l0.341,1.467c-0.001,0.013-0.008,0.025-0.005,0.039c0.002,0.007,0.013,0.006,0.016,0.012%20l0.189,0.811c0.014,0.058,0.065,0.097,0.122,0.097c0.008,0,0.017-0.001,0.025-0.003l1.058-0.22l1.213,0.016%20c0.001,0,0.001,0,0.002,0c0.068,0,0.124-0.055,0.125-0.123C20.844,34.826,20.788,34.77,20.72,34.769z%20M18.023,32.846l0.699-0.292%20l-0.047,0.122l0.124,0.448l-0.633,0.339L18.023,32.846z%20M18.318,34.112l-0.092-0.396l0.642-0.345l0.15,0.542L18.318,34.112z%20M18.374,34.355l0.71-0.202l0.179,0.647l-0.75,0.154L18.374,34.355z'/%3e%3cpath%20fill='%23404040'%20d='M16.694,34.131l-0.232-0.418l0.411-0.226l0.516,0.272c0.063,0.033,0.137,0.009,0.169-0.052%20c0.032-0.062,0.009-0.137-0.052-0.169l-0.575-0.304c-0.037-0.02-0.08-0.021-0.119,0.001l-0.497,0.273%20c-0.035-0.016-0.074-0.021-0.109-0.001c-0.036,0.02-0.052,0.055-0.057,0.093l-0.288,0.158l-0.088-0.013l1.201-1.651%20c0.041-0.056,0.028-0.134-0.027-0.174c-0.054-0.041-0.133-0.029-0.174,0.027l-0.69,0.947l-0.588-0.259l0.78-1.186%20c0.038-0.058,0.021-0.135-0.036-0.173c-0.056-0.038-0.135-0.022-0.173,0.036l-0.861,1.309c-0.021,0.03-0.025,0.068-0.016,0.104%20c0.011,0.035,0.036,0.064,0.069,0.079l0.674,0.297l-0.484,0.665c-0.026,0.035-0.031,0.081-0.015,0.122%20c0.018,0.04,0.054,0.068,0.098,0.075l0.335,0.048c0.006,0.001,0.012,0.001,0.018,0.001c0.021,0,0.042-0.005,0.061-0.016l0.3-0.165%20l0.223,0.4l0.172,1.001c0.011,0.061,0.063,0.104,0.123,0.104c0.007,0,0.014-0.001,0.021-0.002c0.067-0.012,0.113-0.076,0.102-0.145%20l-0.176-1.021C16.706,34.156,16.701,34.143,16.694,34.131z'/%3e%3cpath%20fill='%23404040'%20d='M17.121,34.201c-0.058-0.04-0.135-0.029-0.175,0.028c-0.04,0.056-0.027,0.134,0.028,0.175%20l0.75,0.543c0.022,0.016,0.048,0.023,0.073,0.023c0.039,0,0.077-0.018,0.102-0.052c0.04-0.056,0.027-0.134-0.028-0.175%20L17.121,34.201z'/%3e%3cpath%20fill='%23404040'%20d='M16.006,34.402c-0.003-0.001-0.007-0.001-0.011-0.001c-0.064,0-0.119,0.049-0.124,0.114%20l-0.064,0.719c-0.007,0.068,0.044,0.129,0.113,0.135c0.003,0.001,0.007,0.001,0.011,0.001c0.064,0,0.119-0.049,0.124-0.114%20l0.064-0.719C16.126,34.469,16.075,34.408,16.006,34.402z'/%3e%3cpath%20fill='%23404040'%20d='M22.869,41.015c0,0,0.001,0.013,0.002,0.021c-0.069-0.162-0.224-0.358-0.529-0.592%20c-0.89-0.686-2.033-1.064-3.306-1.095l-0.038-0.001c-0.013,0-0.026-0.001-0.039-0.001c-0.342,0-0.625,0.153-0.668,0.365%20c-0.021,0.106,0,0.306,0.387,0.452c0.367,0.14,0.637,0.149,0.807,0.032c0.156-0.107,0.161-0.274,0.161-0.293%20c0-0.068-0.043-0.129-0.125-0.123c-0.066,0-0.122,0.054-0.125,0.12c0,0.006-0.004,0.059-0.056,0.092%20c-0.044,0.029-0.192,0.084-0.573-0.063c-0.179-0.067-0.236-0.139-0.23-0.168c0.012-0.061,0.186-0.16,0.453-0.164l0.04,0.001%20c1.202,0.028,2.324,0.398,3.16,1.042c0.372,0.286,0.542,0.539,0.455,0.676c-0.151,0.241-1.028,0.282-1.822-0.12%20c-0.042-0.021-0.091-0.017-0.13,0.01c-0.038,0.027-0.057,0.073-0.05,0.12c0.015,0.1-0.042,0.2-0.155,0.273%20c-0.242,0.158-0.761,0.194-1.428-0.223c-0.086-0.053-0.129-0.122-0.122-0.194c0.008-0.073,0.065-0.138,0.15-0.169%20c0.186-0.063,0.439,0.035,0.681,0.271c0.049,0.05,0.128,0.048,0.177-0.001c0.048-0.05,0.047-0.129-0.002-0.177%20c-0.451-0.442-0.808-0.378-0.94-0.328c-0.176,0.063-0.296,0.208-0.313,0.378c-0.015,0.147,0.063,0.282,0.19,0.383%20c-0.004-0.001-0.008-0.002-0.012-0.003c0.007,0.005,0.013,0.007,0.02,0.012c0.016,0.012,0.022,0.03,0.04,0.04%20c0.124,0.078,0.243,0.138,0.358,0.19c1.174,0.607,1.965,0.203,1.592-0.281c0.122,0.052,0.247,0.094,0.371,0.13%20C22.626,42.182,23.356,41.686,22.869,41.015z'/%3e%3cpath%20fill='%23404040'%20d='M17.607,24.522l-0.282,0.603l-1.038,0.205l-0.023-0.313c0.606-0.367,1.02-0.98,0.99-1.664%20c-0.045-1.044-1.006-1.754-2.169-1.704s-2.088,1.03-2.043,2.074c0.036,0.842,0.652,1.42,1.497,1.588l0.077,0.295l-1.048,0.143%20l-0.463-0.479l-0.112,0.128l0.399,0.941L15,26.111l-0.167-0.935c-0.678-0.098-1.191-0.648-1.226-1.465%20c-0.04-0.929,0.602-1.794,1.419-1.829c0.817-0.035,1.498,0.604,1.538,1.533c0.026,0.59-0.234,1.131-0.636,1.457l0.018,0.119h-0.001%20l0.145,0.939l1.594-0.304l0.072-1.02L17.607,24.522z'/%3e%3cpath%20fill='%23404040'%20d='M7.943,32.859c-0.174-0.253-0.333-0.581-0.471-0.923c0.002-0.012,0.012-0.019,0.013-0.032%20c0.005-0.053-0.029-0.093-0.075-0.115c-0.056-0.149-0.099-0.295-0.143-0.444c0.029-0.001,0.058-0.008,0.082-0.028%20c0.051-0.046,0.055-0.125,0.009-0.177c-0.047-0.052-0.113-0.11-0.19-0.166c-0.032-0.149-0.055-0.292-0.068-0.425%20c0.092,0.017,0.183,0.038,0.278,0.049c0.005,0.001,0.01,0.001,0.015,0.001c0.063,0,0.116-0.047,0.124-0.11%20c0.009-0.068-0.04-0.131-0.109-0.139c-0.12-0.014-0.236-0.039-0.353-0.063c-0.15-0.731-0.87-1.334-1.424-1.734%20c-0.304-0.219-0.476-0.162-0.566-0.077c-0.189,0.175-0.134,0.622,0.001,0.987c-0.044-0.028-0.074-0.048-0.076-0.049%20c-0.057-0.041-0.135-0.026-0.174,0.031c-0.039,0.057-0.025,0.135,0.031,0.174c0.016,0.011,0.169,0.114,0.408,0.247%20c0.292,0.594,0.75,2.561,0.754,2.583c0.017,0.066,0.078,0.108,0.15,0.094c0.067-0.016,0.109-0.083,0.094-0.15%20c-0.018-0.075-0.36-1.548-0.654-2.346c0.338,0.164,0.765,0.337,1.239,0.452c0.007,0.097,0.033,0.211,0.051,0.318%20c-0.18-0.079-0.37-0.116-0.511-0.039C6.262,30.842,6.144,31,6.25,31.386c0.015,0.056,0.065,0.092,0.12,0.092%20c0.011,0,0.021-0.001,0.033-0.005c0.066-0.018,0.105-0.087,0.087-0.153c-0.046-0.171-0.043-0.294,0.008-0.322%20c0.081-0.039,0.271,0.027,0.444,0.133c0.063,0.263,0.153,0.533,0.256,0.8c-0.004,0.001-0.003,0.009-0.008,0.01%20c-0.143,0.021-0.446-0.131-0.549-0.326c-0.031-0.062-0.107-0.084-0.168-0.053c-0.062,0.031-0.085,0.107-0.053,0.168%20c0.133,0.255,0.476,0.464,0.736,0.464c0.028,0,0.056-0.003,0.082-0.008c0.022-0.004,0.034-0.022,0.054-0.03%20c0.134,0.314,0.282,0.613,0.444,0.848c0.024,0.035,0.063,0.054,0.103,0.054c0.024,0,0.05-0.007,0.071-0.022%20C7.969,32.994,7.982,32.916,7.943,32.859z%20M5.426,29.642c-0.21-0.343-0.295-0.887-0.19-0.983c0.018-0.013,0.09-0.019,0.25,0.098%20c0.731,0.527,1.143,1.007,1.285,1.462c-0.531-0.145-1.002-0.361-1.325-0.535C5.439,29.672,5.432,29.652,5.426,29.642z'/%3e%3cpath%20fill='%23404040'%20d='M6.555,21.737v-0.299l-0.41-0.131c-0.018-0.175-0.116-0.903-0.549-1.052%20c-0.422-0.145-0.632,0.106-0.611-0.625c-0.058,0-0.16-0.015-0.16-0.015c-0.077,0.363-0.095,0.757,0.187,0.961%20c0.247,0.179,0.783-0.103,0.883,0.651l-1.181-0.376L4.569,20.66l-0.016,0.479l0.601,0.18c-0.077,0.436-0.183,1.278,0.06,1.652%20c0.144,0.112,0.179,0.159,0.371-0.108c0.215-0.299,0.245-0.191,0.261-0.032c0.016,0.16-0.016,0.878-0.463,0.782%20s-0.638-0.415-0.734-2.186c-0.048,1.612-0.016,2.505,0.702,2.697c0.718,0.192,0.83-0.846,0.638-1.771%20c-0.192-0.926-0.456,0.164-0.584,0.211c-0.107,0.04-0.106-0.69-0.075-1.192L6.555,21.737z'/%3e%3cpath%20fill='%23404040'%20d='M7.186,15.228c-0.072-0.153,0.342-0.514,0.342-0.514l0.009-0.82l-0.559,0.559%20c0,0-0.442,0.009-0.676,0.036c0.37-0.387,0.342-0.91-0.081-0.505c-0.424,0.406-0.55,0.946-0.55,0.946l1.162-0.099l0.568-0.604%20v0.261c0,0-0.18,0.207-0.351,0.397c-0.189,0.73,0.37,0.694,0.37,0.694l0.487-0.46l0.045-0.306L7.52,15.291%20C7.519,15.291,7.258,15.381,7.186,15.228z%20M5.96,14.507c0,0,0.171-0.351,0.315-0.378s0.162,0.117-0.099,0.36%20C6.095,14.498,5.96,14.507,5.96,14.507z'/%3e%3cpath%20fill='%23404040'%20d='M8.42,12.948l-0.73,1.874c0,0,0.892-0.577,1.09-1.28C8.979,12.84,8.42,12.948,8.42,12.948z%20M8.555,13.588C8.429,13.957,8.051,14.3,8.051,14.3l0.414-1.009C8.465,13.291,8.682,13.219,8.555,13.588z'/%3e%3cpath%20fill='%23404040'%20d='M11.34,7.185c-0.053-0.045-0.132-0.039-0.176,0.014c-0.041,0.047-0.648,0.76-1.148,1.411%20C9.939,8.626,9.795,8.656,9.643,8.691c0.11-0.15,0.245-0.296,0.308-0.359C10,8.283,10,8.204,9.952,8.155%20c-0.049-0.049-0.128-0.049-0.177,0C9.758,8.171,9.384,8.547,9.269,8.838C9.251,8.882,9.26,8.933,9.292,8.968%20C9.315,8.995,9.35,9.009,9.385,9.009c0.011,0,0.022-0.001,0.033-0.004c0.106-0.029,0.244-0.061,0.371-0.089%20C9.588,9.19,9.427,9.433,9.375,9.57C9.358,9.616,9.369,9.667,9.403,9.702c0.034,0.034,0.087,0.045,0.132,0.03%20C9.6,9.708,9.678,9.691,9.751,9.681l-0.195,0.34c-0.034,0.06-0.014,0.136,0.046,0.17c0.02,0.011,0.041,0.017,0.063,0.017%20c0.043,0,0.085-0.022,0.108-0.063l0.315-0.55c0.022-0.039,0.022-0.087-0.001-0.126c-0.023-0.039-0.068-0.07-0.111-0.061%20c-0.008,0-0.113,0.004-0.242,0.022c0.107-0.169,0.271-0.392,0.453-0.63c0.007-0.008,0.012-0.013,0.017-0.022%20c0.402-0.524,0.897-1.12,1.151-1.417C11.398,7.309,11.393,7.23,11.34,7.185z'/%3e%3cpath%20fill='%23404040'%20d='M30.723,16.252l-1.087,0.294l0.066,0.132l0.163-0.008c0.176,0.036,0.292,0.099,0.287,0.219%20l-0.219,2.669l-1.087-1.187l0.273-1.242c0.031-0.156,0.128-0.255,0.269-0.316l0.175-0.075l-0.072-0.156l-1.153,0.294l0.078,0.144%20l0.239-0.015c0.149,0.082,0.232,0.184,0.194,0.321l-0.17,0.862l-0.701-0.765c-0.081-0.095-0.061-0.177,0.016-0.251l0.235-0.115%20l-0.084-0.144l-1.305,0.323l0.108,0.144l0.304-0.016c0.052,0.021,0.104,0.051,0.155,0.101l1.157,1.307l-0.245,1.242l-1.88-2.242%20c-0.022-0.033-0.017-0.071-0.002-0.112l0.355-0.197L26.68,17.31l-1.503,0.406l0.072,0.108l0.283,0.004%20c0.156,0.021,0.291,0.071,0.389,0.176l2.316,2.761l0.09-0.03l0.393-1.786l1.199,1.354l0.096-0.054l0.402-3.418%20c0.013-0.175,0.124-0.293,0.283-0.384l0.083-0.042L30.723,16.252z'/%3e%3cpath%20fill='%23404040'%20d='M40.64,13.838c-0.455-0.539-0.73,0.012-0.634,0.718s1.065,1.58,1.065,1.58%20c-0.215,1.496-1.879,0.132-2.442-0.862c0.491,1.604,2.082,2.729,2.561,1.843C41.669,16.231,41.094,14.376,40.64,13.838z%20M40.4,14.747c-0.203-0.443,0.12-0.467,0.299-0.156s0.239,0.407,0.335,0.814C41.035,15.406,40.604,15.19,40.4,14.747z'/%3e%3cpath%20fill='%23404040'%20d='M37.6,8.895c-0.275-0.18-0.73-0.778-0.73-0.778l-0.44,0.377c-0.324-0.3-0.672-0.574-0.864-0.677%20c-0.215-0.096-0.778,0.12-0.73,0.12c0,0-0.694,0.227-0.371,1.089c0.323,0.862,1.017,1.484,1.017,1.484s0.706,0.694,1.221-0.335%20c0.467-0.251,0.658-0.491,0.395-0.934C37,9.076,36.811,8.862,36.595,8.649c0.048-0.054,0.113-0.127,0.18-0.21%20C37.085,8.955,37.384,9.063,37.6,8.895z%20M35.972,10.283c-0.347-0.299-1.041-1.424-1.245-1.699c-0.203-0.275,0.024-0.443,0.024-0.443%20s1.484,1.723,1.735,2.13C36.427,10.367,36.319,10.582,35.972,10.283z%20M36.81,9.457c0.168,0.287,0.156,0.395-0.072,0.503%20c-0.239-0.515-1.699-1.987-1.699-1.987s0.144-0.156,0.407,0.048C35.709,8.225,36.642,9.17,36.81,9.457z'/%3e%3cpath%20fill='%23404040'%20d='M25.911,9.389c-0.054,0.153-0.369,0.234-0.369,0.234l-0.394,0.112l-0.165-0.274l0.081-0.171%20l-0.523-0.045l-0.189,0.189l0.279,0.045l0.137,0.364l-0.746,0.212c-0.209-0.124-0.499,0.001-0.499,0.001s-0.018,0.108,0.054,0.099%20s0.216,0.126,0.216,0.126s0.144,0.261,0.297,0.595c0.153,0.333,0.523,0.189,0.523,0.189s-0.251-0.539-0.438-0.857l1.727-0.522%20c0.261,1.289-0.27,1.874-0.667,2.577c1.541-1.081,1.198-2.46,1.198-2.46s0.009-0.099,0.054-0.189%20C26.407,9.524,26.19,9.461,25.911,9.389z'/%3e%3cpath%20fill='%23404040'%20d='M28.056,11.461l-0.351-0.703l0.054-0.216l-0.138,0.008c0.124-0.178,0.23-0.377,0.282-0.62%20c-0.126-0.108-0.541-0.117-0.541-0.117l0.09,0.117c0,0-0.081,0.856-0.793,1.433c0.201-0.108,0.495-0.291,0.755-0.558l0.381,0.693%20c0,0-0.036-0.009-0.054,0.144c0.144,0.153,0.351,0.135,0.351,0.135L28.056,11.461z'/%3e%3cg%3e%3cpath%20fill='%23404040'%20d='M42.592,23.709c0.01,0.001,0.021,0.001,0.03,0.001c0.269,0,0.501-0.338,0.546-0.805l0,0%20c0.047-0.485-0.131-0.872-0.413-0.899c-0.009-0.001-0.02,0.007-0.03,0.008l-0.017-0.109l-0.18-0.09l0.048,0.239%20c-0.08,0.039-0.157,0.1-0.22,0.198c-0.094,0.147-0.156,0.346-0.176,0.559C42.132,23.295,42.31,23.682,42.592,23.709z%20M42.566,22.386c0.052-0.082,0.112-0.131,0.158-0.131c0.002,0,0.005,0,0.007,0c0.1,0.01,0.223,0.259,0.188,0.626%20c-0.035,0.36-0.197,0.579-0.298,0.579c-0.002,0-0.004,0-0.007,0c-0.1-0.01-0.223-0.258-0.188-0.626%20C42.444,22.663,42.495,22.499,42.566,22.386z'/%3e%3cpath%20fill='%23404040'%20d='M43.672,24.429c0,0-0.036-2.289-0.216-3.109c-0.18-0.009-0.424-0.045-0.424-0.045v0.189l0.27,0.225%20c0,0,0.099,0.825,0.168,1.772c-0.191,0.2-0.778,0.811-0.988,0.976c-0.252,0.198-0.667,0.144-0.667,0.144%20c0.144,0.261,0.442,0.288,0.442,0.288s0.153-0.18,0.252-0.234c0.069-0.042,0.147-0.106,0.227-0.176%20c0.007,0.233,0.043,1.359,0.043,1.545c0.081-0.234,0.18-0.55,0.162-0.865c-0.013-0.226-0.017-0.638-0.018-0.856%20c0.23-0.228,0.449-0.482,0.561-0.617c0.05,0.754,0.076,1.552,0.016,2.058C43.609,25.249,43.672,24.429,43.672,24.429z'/%3e%3c/g%3e%3cpath%20fill='%23404040'%20d='M10.085,37.953c0,0-0.443-0.263-0.586-0.527c-0.144-0.263,0.203-0.359,0.61,0.084%20s0.73,0.766,0.395,0.766c0.108,0.084,0.191,0.191,0.191,0.191s0.515,0.096,0.778,0.371c0.263,0.275,0.79,0.778,0.79,0.778%20s0.18,0.275-0.275,0.132c0.072,0.096,0.144,0.191,0.144,0.191s0.91,0.227,0.251-0.467c-0.658-0.694-1.185-0.934-1.532-1.065%20c0,0,0.096-0.335-0.156-0.586c-0.251-0.251-0.574-0.586-1.173-0.826c-0.598-0.239-0.215,0.323-0.108,0.467%20c0.108,0.144,0.658,0.563,0.658,0.563L10.085,37.953z'/%3e%3cpath%20fill='%23767676'%20d='M31.364,41.83c-0.11,0-0.228-0.03-0.275-0.13c-0.084-0.178,0.133-0.35,0.332-0.48%20c0.597-0.391,1.106-0.464,1.3-0.332c0.051,0.033,0.079,0.087,0.077,0.146c0,0.005,0,0.01-0.001,0.015l0.221-0.082l0.447-0.55%20c0.043-0.054,0.121-0.063,0.176-0.018c0.054,0.043,0.062,0.122,0.018,0.176l-0.469,0.576c-0.014,0.017-0.032,0.03-0.053,0.038%20l-0.847,0.315c-0.063,0.021-0.129-0.006-0.157-0.064c-0.027-0.059-0.005-0.129,0.052-0.161c0.115-0.065,0.229-0.145,0.301-0.203%20c-0.13-0.006-0.354,0.041-0.642,0.187c0.112,0.016,0.139,0.064,0.152,0.09c0.016,0.029,0.043,0.106-0.037,0.192%20c-0.125,0.137-0.227,0.2-0.414,0.26C31.5,41.818,31.434,41.83,31.364,41.83z%20M31.361,41.58c0.021,0.002,0.074-0.003,0.108-0.014%20c0.05-0.017,0.091-0.031,0.125-0.049c-0.033-0.008-0.063-0.029-0.08-0.06C31.437,41.512,31.39,41.552,31.361,41.58z'/%3e%3cpath%20fill='%23767676'%20d='M33.651,40.954c-0.025,0-0.051-0.008-0.073-0.023c-0.056-0.04-0.068-0.118-0.028-0.175%20c0.085-0.118,0.276-0.397,0.402-0.618c-0.204,0.055-0.438,0.146-0.514,0.27c-0.024,0.041-0.028,0.08-0.011,0.128%20c0.022,0.065-0.012,0.137-0.076,0.16c-0.066,0.024-0.137-0.012-0.16-0.076c-0.042-0.119-0.03-0.237,0.033-0.342%20c0.204-0.334,0.903-0.434,0.934-0.438c0.035-0.007,0.086,0.011,0.113,0.045c0.027,0.033,0.036,0.079,0.021,0.12%20c-0.096,0.275-0.521,0.872-0.54,0.897C33.729,40.936,33.69,40.954,33.651,40.954z'/%3e%3cg%3e%3cpath%20fill='%23bebebe'%20d='M3.875,26.167c0.139,0.09,0.395,0.255,0.606,0.104c0.233-0.167,0.163-0.498-0.005-1.172%20c-0.052-0.208-0.031-0.317,0.003-0.348c0.063-0.058,0.291-0.041,0.496,0.035c0.132,0.051,0.5,0.308,0.614,0.579%20c0.051,0.119,0.03,0.192,0.011,0.236c-0.26,0.595-0.117,1.41,0.333,1.898c0.46,0.499,1.972,0.875,3.159,0.777%20c0.029-0.003,0.071-0.006,0.103-0.009c-0.024,0.457-0.059,0.894-0.103,1.266c-0.116,0.974,0.383,2.159,1.091,2.59%20c0.351,0.214,0.713,0.216,1.021,0.009c0.421-0.286,0.764-0.386,1.008-0.305c0.252,0.084,0.462,0.369,0.626,0.849%20c0.23,0.675,0.112,0.896,0.051,0.96c-0.094,0.097-0.307,0.107-0.572,0.028l-0.146-0.045c-0.521-0.164-1.307-0.409-1.754-0.028%20c-0.244,0.206-0.335,0.548-0.271,1.017c0.054,0.392,0.248,0.839,0.507,1.297c-0.966-0.297-1.612-0.818-1.649-1.005%20c-0.117-0.585-0.517-0.913-1.314-1.387c-0.347-0.207-0.609-0.22-0.777-0.041c-0.143,0.15-0.144,0.378-0.086,0.608%20c-0.468-0.396-1.033-0.972-1.402-1.381l-0.028,0.025c0.283,0.54,0.593,1.063,0.92,1.574c0.382,0.338,0.767,0.629,1.036,0.701%20c0.1,0.026,0.207-0.011,0.268-0.096c0.061-0.084,0.063-0.198,0.005-0.284c-0.211-0.315-0.312-0.601-0.333-0.747%20c0.034,0.014,0.081,0.036,0.141,0.071c0.765,0.454,1.006,0.69,1.079,1.055c0.097,0.484,1.134,1.249,2.521,1.519%20c0.591,0.867,1.348,1.714,1.903,2.263c-0.2,0.048-0.341,0.152-0.407,0.311c-0.098,0.229-0.057,0.61,0.691,1.117%20c0.943,0.638,1.642,0.882,2.077,0.737c0.093-0.031,0.174-0.08,0.24-0.145c0.123,0.086,0.254,0.18,0.391,0.277%20c0.69,0.492,1.54,1.099,2.258,1.402c0.193,0.475,1.196,0.886,2.356,1.212C21.67,43.879,22.82,44,24,44%20c0.141,0,0.278-0.018,0.419-0.021c-3.9-0.583-5.683-1.371-5.766-1.654c0.013-0.113-0.053-0.221-0.159-0.261%20c-0.684-0.259-1.565-0.889-2.274-1.395c-0.22-0.157-0.426-0.304-0.61-0.43c-0.065-0.044-0.146-0.057-0.221-0.029%20c-0.074,0.024-0.133,0.083-0.157,0.157c-0.021,0.066-0.053,0.089-0.094,0.103c-0.196,0.071-0.738-0.069-1.635-0.678%20c-0.42-0.284-0.511-0.475-0.519-0.499c0.021-0.021,0.178-0.085,0.551-0.006c0.111,0.02,0.225-0.032,0.275-0.135%20c0.05-0.103,0.024-0.227-0.063-0.301c-0.458-0.391-1.328-1.297-2.035-2.249c0.205,0.013,0.413,0.02,0.627,0.007%20c1.916-0.12,3.958,0.082,4.203,0.176c0.091,0.035,0.15,0.085,0.176,0.148c0.037,0.095,0.012,0.244-0.072,0.421%20c-0.131,0.274-0.104,0.584,0.075,0.849c0.289,0.429,0.92,0.665,1.753,0.665c0.091,0,0.184-0.003,0.279-0.008%20c0.761-0.046,2.063-0.213,2.231-0.818c0.038-0.137,0.046-0.405-0.333-0.667c-0.283-0.195-0.443-0.389-0.43-0.518%20c0.014-0.127,0.211-0.279,0.526-0.409c0.737-0.302,2.497-0.82,4.258-1.076c0.516,0.929,1.364,1.495,1.902,1.845%20c0.151,0.099,0.323,0.251,0.284,0.42c-0.061,0.258-0.55,0.582-1.182,0.654c-0.164,0.019-0.341,0.032-0.523,0.046%20c-0.985,0.077-2.336,0.184-2.259,1.297c0.028,0.407,0.227,0.723,0.572,0.91c0.582,0.316,1.538,0.212,2.383-0.254%20c1.143-0.632,1.491-0.473,1.842,0.123c0.393,0.667,0.118,1.221-0.081,1.42c-0.057,0.057-0.083,0.138-0.07,0.217%20c0.014,0.079,0.063,0.147,0.136,0.184c0.054,0.028,0.557,0.255,1.517-0.11c0.324-0.122,0.449-0.105,0.465-0.114%20c0.001,0.031-0.015,0.134-0.119,0.298c-0.206,0.329-1.041,0.607-1.643,0.315c-0.063-0.029-0.134-0.032-0.199-0.008%20c-0.064,0.025-0.115,0.076-0.142,0.141c-0.14,0.35-0.512,0.748-0.756,0.985c0.264-0.04,0.531-0.071,0.792-0.121%20c0.118-0.144,0.232-0.299,0.321-0.456c0.78,0.238,1.734-0.088,2.051-0.589c0.226-0.358,0.258-0.669,0.09-0.874%20c-0.271-0.333-0.848-0.117-1.037-0.044c-0.349,0.132-0.614,0.169-0.799,0.171c0.198-0.396,0.301-0.998-0.093-1.668%20c-0.626-1.063-1.458-0.892-2.516-0.307c-0.692,0.381-1.475,0.484-1.902,0.253c-0.193-0.105-0.296-0.271-0.313-0.507%20c-0.039-0.574,0.722-0.679,1.8-0.763c0.188-0.015,0.371-0.029,0.541-0.049c0.698-0.079,1.476-0.461,1.611-1.035%20c0.048-0.205,0.047-0.601-0.498-0.955c-0.602-0.391-1.231-0.848-1.645-1.492c0.353-0.04,0.702-0.071,1.038-0.082%20c2.5-0.08,4.501-0.497,5.49-1.142c0.332-0.217,0.548-0.411,0.521-0.66c-0.026-0.255-0.278-0.353-0.502-0.438%20c-0.15-0.059-0.339-0.131-0.399-0.227c-0.033-0.054-0.033-0.146,0.001-0.259c0.114-0.381,0.606-0.942,1.23-1.222%20c0.753-0.337,1.953-0.518,2.279-0.245c0.032,0.026,0.105,0.088,0.057,0.293c-0.155,0.649-0.2,1.104,0.055,1.362%20c0.236,0.239,0.618,0.189,0.962,0.113c0.506-0.116,2.103-1.028,3.694-2.278c0.071,0.36,0.076,0.767-0.036,1.251%20c-0.266,1.145-0.611,1.553-0.854,1.694c-0.193,0.111-0.364,0.085-0.522,0.038c-0.19-0.059-0.444-0.008-0.714,0.139%20c-0.473,0.259-0.848,0.735-1.002,1.276c-0.146,0.514-0.016,0.98,0.333,1.189c0.134,0.078,0.414,0.184,0.839,0.029%20c-1.165,1.85-2.506,3.654-4.693,5.388c-0.334,0.265-0.638,0.501-0.919,0.716c0.746-0.326,1.463-0.702,2.161-1.109%20c2.065-1.853,3.309-3.769,4.489-5.729c0.065-0.107,0.04-0.247-0.059-0.325c-0.1-0.078-0.238-0.071-0.33,0.018%20c-0.618,0.604-1.048,0.694-1.231,0.583c-0.146-0.087-0.19-0.338-0.109-0.623c0.176-0.614,0.627-0.901,0.762-0.975%20c0.192-0.105,0.306-0.104,0.331-0.099c0.219,0.065,0.552,0.127,0.916-0.084c0.484-0.282,0.841-0.94,1.09-2.014%20c0.159-0.683,0.117-1.235-0.019-1.711c0.774-0.64,1.524-1.351,2.121-2.08c-0.003,0.459,0.098,0.736,0.304,0.828%20c0.315,0.14,0.616-0.18,0.846-0.477c0.908-1.178,0.659-2.127,0.501-2.494c0.147-0.195,0.44-0.591,0.738-1.024%20c0.03-0.327,0.035-0.661,0.05-0.992c-0.48,0.79-1.269,1.823-1.279,1.836c-0.063,0.083-0.067,0.197-0.013,0.286%20c0.021,0.035,0.529,0.887-0.394,2.083c-0.106,0.138-0.184,0.217-0.234,0.261c-0.035-0.217-0.005-0.703,0.08-1.164%20c0.021-0.116-0.067-0.193-0.178-0.238c-0.108-0.045-0.262,0.033-0.327,0.132c-0.587,0.884-1.469,1.764-2.397,2.544%20c-0.145-0.318-0.322-0.604-0.493-0.875c-0.291-0.461-0.542-0.859-0.575-1.33c-0.032-0.472,0.079-0.819,0.333-1.035%20c0.26-0.22,0.619-0.26,0.86-0.204c0.254,0.059,0.489-0.001,0.672-0.169c0.309-0.283,0.434-0.85,0.335-1.516%20c-0.095-0.636-0.359-1.383-0.819-1.572c-0.206-0.085-0.431-0.049-0.631,0.1c-0.173,0.13-0.31,0.35-0.455,0.581%20c-0.18,0.289-0.384,0.615-0.59,0.627c-0.004,0-0.009,0-0.013,0c-0.153,0-0.368-0.163-0.607-0.462%20c-0.387-0.483-0.676-1.249-0.912-2.061c1.691-0.964,2.641-1.893,3.2-2.444c0.115-0.114,0.215-0.212,0.303-0.293%20c0.116-0.106,0.333-0.276,0.491-0.213c0.154,0.062,0.328,0.366,0.367,0.908c0.046,0.646,0.232,1.05,0.555,1.202%20c0.269,0.125,0.577,0.062,0.925-0.186c0.278-0.199,0.446-0.482,0.485-0.819c0.058-0.502-0.182-0.988-0.347-1.177%20c-0.137-0.155-0.543-0.703-0.066-1.232c0.24-0.266,0.597-0.381,0.898-0.43c-0.048-0.16-0.091-0.322-0.142-0.481%20c-0.373,0.069-0.81,0.225-1.127,0.577c-0.599,0.665-0.342,1.437,0.061,1.896c0.099,0.112,0.265,0.458,0.227,0.79%20c-0.023,0.198-0.114,0.352-0.279,0.47c-0.181,0.129-0.335,0.179-0.421,0.141c-0.106-0.05-0.233-0.283-0.27-0.785%20c-0.05-0.698-0.299-1.185-0.681-1.337c-0.215-0.085-0.566-0.1-1.014,0.309c-0.092,0.084-0.196,0.187-0.316,0.306%20c-0.529,0.522-1.417,1.395-2.985,2.306c-0.101-0.383-0.192-0.765-0.277-1.123c-0.231-0.98-0.415-1.754-0.678-2.12%20c-0.198-0.275-0.423-0.414-0.668-0.414h-0.001c-0.435,0-0.753,0.444-0.963,0.738c-0.04,0.055-0.075,0.105-0.107,0.145%20c-0.099,0.123-0.434,0.334-0.778,0.286c-0.352-0.047-0.645-0.339-0.871-0.867c-0.241-0.563-0.274-1.004-0.096-1.274%20c0.214-0.325,0.663-0.335,0.927-0.311c0.197,0.016,0.418,0.036,0.576-0.134c0.159-0.173,0.18-0.451,0.078-1.063%20c-0.077-0.459-0.438-1.003-0.904-1.575c0.979-0.376,1.978-0.842,2.675-1.366c0.289-0.186,0.582-0.229,0.825-0.119%20c0.215,0.096,0.366,0.298,0.405,0.54c0.063,0.392,0.351,0.657,0.788,0.728c0.533,0.088,1.28-0.143,1.531-0.624%20c0.154-0.295,0.087-0.626-0.186-0.909c-0.349-0.361-0.344-0.495-0.347-0.495c0.032-0.04,0.194-0.074,0.256-0.087%20c0.042-0.009,0.079-0.017,0.107-0.025l0.141-0.038c0.531-0.143,1.047-0.293,1.381-0.443c-0.051-0.07-0.096-0.146-0.148-0.215%20l-0.733,0.273c-0.052-0.07-0.122-0.15-0.178-0.223c-0.186,0.054-0.353,0.099-0.453,0.126l-0.222,0.057%20c-0.186,0.04-0.532,0.112-0.628,0.423c-0.082,0.267,0.065,0.583,0.463,0.995c0.178,0.185,0.123,0.29,0.103,0.329%20c-0.126,0.239-0.633,0.421-1.009,0.362c-0.332-0.054-0.364-0.25-0.374-0.314c-0.066-0.409-0.326-0.751-0.695-0.916%20c-0.4-0.18-0.861-0.124-1.314,0.165c-0.707,0.531-1.738,1.001-2.729,1.373c-0.226-0.259-0.465-0.521-0.702-0.781%20c-0.53-0.58-1.03-1.127-1.242-1.503c-0.068-0.122-0.173-0.345-0.098-0.466c0.099-0.158,0.515-0.241,1.047-0.215%20c0.409,0.026,0.601-0.144,0.697-0.287c0.175-0.261,0.149-0.65-0.075-1.123c-0.226-0.477-0.552-0.797-0.895-0.88%20c-0.235-0.056-0.463-0.003-0.664,0.15c-0.407,0.314-0.666,0.407-1.127,0.142c-0.291-0.169-0.509-0.592-0.644-0.934%20c-0.128,0.05-0.246,0.099-0.342,0.145c-0.04,0.019-0.083,0.034-0.123,0.052c0.155,0.39,0.432,0.922,0.86,1.17%20c0.765,0.443,1.27,0.14,1.682-0.178c0.08-0.062,0.158-0.083,0.242-0.061c0.189,0.045,0.404,0.278,0.561,0.607%20c0.163,0.345,0.161,0.555,0.11,0.631c-0.045,0.066-0.182,0.067-0.255,0.066c-0.782-0.042-1.287,0.11-1.498,0.45%20c-0.161,0.259-0.132,0.587,0.087,0.975c0.239,0.426,0.759,0.994,1.309,1.596c0.183,0.2,0.376,0.411,0.565,0.626%20c-1.03,0.358-1.946,0.596-2.31,0.666c-0.978,0.187-1.245,0.076-1.318-0.008c-0.06-0.069-0.021-0.221,0.007-0.306%20c0.161-0.485,0.098-0.897-0.181-1.162c-0.292-0.277-0.933-0.492-2.318,0.052c-0.918,0.361-1.407,0.808-1.454,1.329%20c-0.037,0.422,0.24,0.751,0.489,0.904c0.102,0.063,0.245,0.12,0.397,0.178c0.137,0.052,0.423,0.162,0.458,0.22%20c0,0.001-0.021,0.116-0.386,0.363c-0.904,0.611-3.541,0.748-4.492,0.779c0.039,0.126,0.079,0.251,0.123,0.362%20c-0.149,0.03-0.33,0.064-0.531,0.1c0.194,0.784,0.468,1.681,0.816,2.297c0.125,0.22,0.247,0.519,0.124,0.695%20c-0.163,0.235-0.766,0.318-1.471,0.204c-0.56-0.093-1.099,0.07-1.475,0.445c-0.389,0.387-0.558,0.948-0.464,1.541%20c0.121,0.758,0.534,1.619,1.186,1.834c0.294,0.097,0.758,0.1,1.295-0.426c0.344-0.336,0.739-0.444,1.146-0.307%20c0.56,0.188,1.038,0.812,1.138,1.481c0.056,0.38,0.029,0.95-0.003,1.558c-2.179,0.104-5.007,0.982-5.63,1.294%20c-0.448,0.224-0.69,0.498-0.721,0.815c-0.019,0.2,0.045,0.505,0.457,0.818c0.079,0.062,0.207,0.187,0.167,0.343%20c-0.056,0.222-0.427,0.509-1.3,0.648c-1.143,0.184-1.543,0.034-1.68-0.121c-0.106-0.122-0.113-0.339-0.021-0.645%20c0.125-0.413,0.1-0.769-0.077-1.055c-0.277-0.452-0.838-0.598-1.235-0.668c-0.438-0.075-1.908,0.021-3.591,0.16%20c0.037-1.121,0.01-2.296-0.136-2.879c-0.16-0.64-0.476-0.885-0.713-0.979c-0.303-0.12-0.661-0.065-1.006,0.159%20c-0.076,0.05-0.184,0.101-0.257,0.057c-0.139-0.077-0.27-0.433-0.251-1.052C7.376,22.309,7.634,22.059,7.713,22%20c0.074-0.057,0.125-0.058,0.134-0.056l0.085,0.036c0.306,0.134,0.941,0.409,1.369,0.095c0.267-0.195,0.373-0.563,0.318-1.093%20c-0.08-0.766,0.007-1.671,0.11-2.369c0.21-0.052,0.421-0.106,0.641-0.175c0.08-0.025,0.143-0.05,0.219-0.075%20c-0.456,0.037-0.878,0.09-1.21,0.163c0,0-0.024-0.427,0.039-1.02c-0.03,0.139-0.079,0.377-0.131,0.69%20c-0.639,0.13-1.259,0.186-1.951,0.167c-0.166-0.004-0.381-0.036-0.462-0.16c-0.13-0.2,0.047-0.632,0.145-0.87%20c0.116-0.291,0.145-0.734-0.069-1.021c-0.109-0.146-0.327-0.314-0.728-0.278c-0.973,0.089-1.035,0.911-1.121,2.05%20c-0.021,0.271-0.127,0.324-0.162,0.342C4.664,18.568,4,18.3,3.609,18.059c-0.041,0.169-0.093,0.333-0.13,0.503%20c0.256,0.143,0.79,0.405,1.266,0.405c0.149,0,0.293-0.026,0.42-0.09c0.18-0.091,0.4-0.295,0.435-0.751%20c0.105-1.388,0.229-1.549,0.668-1.589c0.211-0.016,0.264,0.055,0.281,0.078c0.086,0.116,0.073,0.371-0.014,0.587%20C6.421,17.48,6.183,18.06,6.456,18.48c0.159,0.245,0.451,0.375,0.867,0.387c0.67,0.02,1.274-0.031,1.886-0.143%20c-0.094,0.698-0.164,1.558-0.086,2.313c0.035,0.332-0.006,0.558-0.115,0.638c-0.198,0.146-0.69-0.069-0.874-0.15l-0.109-0.046%20c-0.174-0.064-0.382-0.031-0.57,0.096c-0.212,0.142-0.57,0.518-0.598,1.439c-0.023,0.784,0.151,1.303,0.505,1.502%20c0.134,0.075,0.411,0.163,0.774-0.072c0.119-0.077,0.35-0.191,0.552-0.114c0.183,0.072,0.325,0.292,0.411,0.635%20c0.129,0.518,0.158,1.669,0.119,2.8C9.145,27.771,9.073,27.777,9,27.783c-1.123,0.1-2.412-0.311-2.699-0.623%20c-0.318-0.345-0.424-0.941-0.241-1.358c0.085-0.196,0.082-0.414-0.009-0.631c-0.182-0.431-0.675-0.768-0.899-0.853%20c-0.156-0.058-0.686-0.227-1.005,0.06c-0.198,0.177-0.25,0.46-0.154,0.842c0.026,0.107,0.081,0.327,0.113,0.5%20c-0.232-0.159-0.642-0.517-1.016-0.945c0.023,0.272,0.053,0.542,0.086,0.811C3.454,25.853,3.713,26.063,3.875,26.167z%20M37.837,24.135c0.365,0.456,0.733,0.676,1.039,0.648c0.465-0.026,0.741-0.47,0.986-0.861c0.113-0.183,0.231-0.372,0.331-0.446%20c0.082-0.061,0.12-0.045,0.141-0.038c0.178,0.073,0.418,0.535,0.515,1.184c0.082,0.553-0.031,0.938-0.179,1.073%20c-0.061,0.057-0.13,0.072-0.219,0.051c-0.337-0.079-0.881-0.048-1.299,0.309c-0.263,0.224-0.563,0.656-0.508,1.452%20c0.041,0.596,0.337,1.065,0.649,1.562c0.187,0.297,0.374,0.601,0.512,0.94c-1.588,1.268-3.206,2.202-3.649,2.303%20c-0.406,0.093-0.487,0.032-0.495,0.023c-0.033-0.034-0.093-0.188,0.076-0.895c0.101-0.42-0.066-0.663-0.224-0.794%20c-0.599-0.497-2.122-0.132-2.804,0.173c-0.698,0.313-1.331,0.958-1.505,1.534c-0.098,0.326-0.023,0.545,0.056,0.671%20c0.148,0.234,0.423,0.34,0.643,0.426c0.034,0.013,0.077,0.029,0.116,0.046c-0.046,0.039-0.117,0.094-0.229,0.167%20c-0.915,0.597-2.822,0.983-5.232,1.061c-0.409,0.013-0.838,0.056-1.269,0.11c-0.12-0.29-0.199-0.612-0.22-0.976%20c-0.026-0.448,0.114-0.833,0.418-1.145c0.512-0.523,1.392-0.747,1.837-0.721c0.456,0.018,0.919-0.021,1.239-0.377%20c0.304-0.339,0.397-0.896,0.285-1.702c-0.093-0.668-0.341-1.07-0.737-1.195c-0.694-0.218-1.489,0.533-1.8,0.867%20c-0.055,0.06-0.555,0.58-1.143,0.584c-0.002,0-0.005,0-0.007,0c-0.303,0-0.591-0.141-0.856-0.419%20c-0.558-0.584-0.541-1.934-0.482-3.128c0.011,0,0.022,0,0.034,0c2.147,0.022,4.552-0.612,5.336-1.089%20c0.554-0.337,0.82-0.682,0.817-1.052c-0.003-0.336-0.235-0.642-0.693-0.91c-0.299-0.175-0.294-0.34-0.292-0.395%20c0.01-0.357,0.546-0.87,1.334-1.273c0.799-0.409,1.729-0.516,2.075-0.234c0.046,0.037,0.184,0.149,0.09,0.487%20c-0.122,0.443-0.078,0.782,0.133,1.008c0.321,0.343,0.864,0.241,0.954,0.222c1.308-0.436,2.364-0.911,3.255-1.386%20C37.113,22.827,37.418,23.612,37.837,24.135z%20M22.374,22.619c-0.588-0.197-1.174-0.047-1.655,0.423%20c-0.288,0.283-0.554,0.387-0.788,0.309c-0.43-0.142-0.752-0.831-0.849-1.438c-0.068-0.432,0.049-0.835,0.322-1.107%20c0.266-0.265,0.635-0.372,1.042-0.307c0.351,0.058,1.536,0.2,1.961-0.411c0.219-0.313,0.185-0.726-0.099-1.227%20c-0.299-0.528-0.545-1.304-0.727-2.016c1.066-0.037,3.666-0.194,4.653-0.862c0.302-0.204,0.644-0.482,0.604-0.828%20c-0.041-0.355-0.432-0.504-0.777-0.636c-0.119-0.045-0.233-0.087-0.313-0.136c-0.103-0.063-0.271-0.226-0.253-0.434%20c0.027-0.303,0.442-0.634,1.14-0.907c1.28-0.505,1.693-0.246,1.79-0.155c0.175,0.166,0.107,0.473,0.051,0.641%20c-0.138,0.412-0.026,0.659,0.092,0.793c0.338,0.386,1.095,0.302,1.788,0.17c0.396-0.075,1.428-0.345,2.565-0.751%20c0.461,0.552,0.843,1.09,0.907,1.472c0.084,0.5,0.054,0.624,0.074,0.624h0.001c-0.026,0.009-0.122,0-0.192-0.006%20c-0.383-0.032-1.047,0.019-1.387,0.534c-0.279,0.424-0.262,1.011,0.054,1.747c0.373,0.873,0.893,1.115,1.263,1.166%20c0.569,0.081,1.059-0.248,1.236-0.47c0.036-0.045,0.077-0.103,0.123-0.166c0.132-0.185,0.379-0.529,0.558-0.529%20c0.099,0,0.207,0.129,0.262,0.206c0.206,0.286,0.396,1.09,0.598,1.943c0.094,0.398,0.197,0.824,0.311,1.251%20c-0.88,0.476-1.933,0.955-3.245,1.393c-0.085,0.017-0.351,0.038-0.46-0.082c-0.081-0.087-0.087-0.276-0.016-0.532%20c0.157-0.568-0.093-0.875-0.256-1.009c-0.578-0.471-1.754-0.267-2.62,0.176c-0.476,0.244-1.583,0.898-1.605,1.705%20c-0.007,0.235,0.081,0.572,0.539,0.84c0.287,0.168,0.445,0.339,0.446,0.482c0.002,0.17-0.209,0.396-0.577,0.62%20c-0.697,0.425-2.932,1.018-4.92,1.018c-0.055-0.001-0.109-0.001-0.164-0.001c0.033-0.62,0.058-1.202-0.004-1.622%20C23.719,23.642,23.113,22.868,22.374,22.619z%20M9.589,29.593c0.045-0.377,0.082-0.857,0.107-1.366%20c1.194-0.099,3.105-0.243,3.526-0.172c0.474,0.084,0.768,0.227,0.896,0.438c0.099,0.159,0.106,0.378,0.024,0.648%20c-0.146,0.48-0.104,0.857,0.122,1.117c0.221,0.252,0.598,0.376,1.162,0.376c0.278,0,0.602-0.029,0.973-0.089%20c1.314-0.21,1.634-0.729,1.707-1.021c0.078-0.313-0.052-0.635-0.35-0.862c-0.179-0.136-0.271-0.27-0.262-0.374%20c0.012-0.128,0.175-0.279,0.446-0.415c0.575-0.288,3.308-1.128,5.381-1.239c-0.065,1.328-0.073,2.735,0.621,3.462%20c0.367,0.384,0.759,0.563,1.229,0.573c0.78-0.006,1.391-0.621,1.505-0.744c0.489-0.525,1.009-0.816,1.283-0.73%20c0.244,0.077,0.348,0.471,0.392,0.787c0.09,0.644,0.036,1.08-0.161,1.299c-0.174,0.194-0.471,0.227-0.851,0.212%20c-0.523-0.003-1.561,0.203-2.211,0.871c-0.406,0.416-0.595,0.929-0.561,1.523c0.022,0.377,0.108,0.706,0.222,1.012%20c-1.761,0.271-3.494,0.785-4.231,1.088c-0.518,0.213-0.799,0.487-0.834,0.818c-0.036,0.334,0.181,0.664,0.644,0.983%20c0.107,0.074,0.13,0.122,0.134,0.122c-0.043,0.111-0.547,0.378-1.778,0.451c-1.16,0.072-1.507-0.316-1.588-0.437%20c-0.078-0.116-0.092-0.242-0.039-0.354c0.149-0.313,0.178-0.589,0.085-0.821c-0.077-0.195-0.236-0.344-0.46-0.43%20c-0.363-0.14-2.527-0.33-4.414-0.207c-0.345,0.021-0.667-0.007-0.976-0.055c-0.358-0.549-0.632-1.086-0.691-1.518%20c-0.027-0.197-0.032-0.457,0.098-0.566c0.24-0.201,0.918,0.011,1.282,0.123l0.151,0.047c0.464,0.14,0.845,0.08,1.076-0.16%20c0.276-0.287,0.297-0.78,0.062-1.469c-0.219-0.644-0.527-1.023-0.94-1.161c-0.412-0.137-0.885-0.018-1.447,0.365%20c-0.051,0.035-0.207,0.143-0.479-0.021C9.956,31.4,9.485,30.464,9.589,29.593z'/%3e%3cpath%20fill='%23bebebe'%20d='M21.213,15.091l-0.017,0.003c0.06,0.437,0.148,0.862,0.262,1.234%20C21.301,15.638,21.215,15.103,21.213,15.091z'/%3e%3c/g%3e%3cpath%20fill='%23767676'%20d='M25.116,43.687c-0.133,0-0.256-0.007-0.365-0.021c-0.306-0.042-0.464-0.135-0.481-0.286%20c-0.051-0.421,1.125-0.575,1.26-0.591c0.326-0.04,0.639-0.044,0.883-0.011c0.306,0.042,0.464,0.135,0.481,0.286%20c0.019,0.15-0.112,0.278-0.4,0.391c-0.228,0.09-0.532,0.161-0.86,0.2C25.453,43.676,25.278,43.687,25.116,43.687z%20M24.528,43.348%20c0.095,0.063,0.488,0.128,1.075,0.059c0.585-0.07,0.953-0.229,1.031-0.313c-0.095-0.063-0.488-0.128-1.076-0.058%20C24.974,43.107,24.605,43.265,24.528,43.348z%20M26.648,43.077L26.648,43.077L26.648,43.077L26.648,43.077z'/%3e%3c/svg%3e",Ho="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FF3D00'%20d='M43.2,33.9c-0.4,2.1-2.1,3.7-4.2,4c-3.3,0.5-8.8,1.1-15,1.1c-6.1,0-11.6-0.6-15-1.1c-2.1-0.3-3.8-1.9-4.2-4C4.4,31.6,4,28.2,4,24c0-4.2,0.4-7.6,0.8-9.9c0.4-2.1,2.1-3.7,4.2-4C12.3,9.6,17.8,9,24,9c6.2,0,11.6,0.6,15,1.1c2.1,0.3,3.8,1.9,4.2,4c0.4,2.3,0.9,5.7,0.9,9.9C44,28.2,43.6,31.6,43.2,33.9z'/%3e%3cpath%20fill='%23FFF'%20d='M20%2031L20%2017%2032%2024z'/%3e%3c/svg%3e",Wo="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20fill='none'%20version='1.1'%20viewBox='0%200%2042%2042'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(-.20472%20.0012327)'%3e%3cpath%20d='m16.44%200.964%204.921%207.79c0.79%201.252-0.108%202.883-1.588%202.883h-2.013v11.663h-2.91v-23.212c0.61%200%201.22%200.292%201.59%200.876z'%20fill='%238fbcfa'/%3e%3cpath%20d='m8.342%208.755%204.921-7.791a1.864%201.864%200%200%201%201.59-0.876v23.212a4.87%204.87%200%200%200-0.252-6e-3c-0.99%200-1.907%200.311-2.658%200.842v-12.499h-2.013c-1.48%200-2.38-1.631-1.589-2.882z'%20fill='%23468bff'/%3e%3cpath%20d='m30.278%2031h-12.247a4.596%204.596%200%200%200%201.219-2.91h22.577c0%200.61-0.292%201.22-0.875%201.59l-7.792%204.92c-1.251%200.791-2.883-0.108-2.883-1.588v-2.012z'%20fill='%23fdbb11'/%3e%3cpath%20d='m33.16%2021.581%207.79%204.921c0.585%200.369%200.876%200.979%200.876%201.589h-22.576a4.619%204.619%200%200%200-0.858-2.91h11.887v-2.011c0-1.48%201.631-2.38%202.882-1.589z'%20fill='%23f6d785'/%3e%3cpath%20d='m8.24%2034.25-7.107%207.108a1.864%201.864%200%200%200%201.742%200.504l8.989-2.03c1.443-0.325%201.961-2.114%200.915-3.16l-1.423-1.423%205.356-5.356a2.805%202.805%200%200%200%200-3.966l-0.074-0.075z'%20fill='%23ff9a9d'/%3e%3cpath%20d='m7.243%2031.135%205.355-5.356a2.805%202.805%200%200%201%203.967%200l0.074%200.074-15.505%2015.505a1.864%201.864%200%200%201-0.504-1.742l2.029-8.989c0.325-1.444%202.115-1.961%203.161-0.915z'%20fill='%23fe363b'/%3e%3c/g%3e%3c/svg%3e",Fo="data:image/svg+xml,%3csvg%20width='400'%20height='400'%20viewBox='0%200%20400%20400'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M101.008%2042L190.99%20124.905L190.99%20124.886L190.99%2042.1913H208.506L208.506%20125.276L298.891%2042V136.524L336%20136.524V272.866H299.005V357.035L208.506%20277.525L208.506%20357.948H190.99L190.99%20278.836L101.11%20358V272.866H64V136.524H101.008V42ZM177.785%20153.826H81.5159V255.564H101.088V223.472L177.785%20153.826ZM118.625%20231.149V319.392L190.99%20255.655L190.99%20165.421L118.625%20231.149ZM209.01%20254.812V165.336L281.396%20231.068V272.866H281.489V318.491L209.01%20254.812ZM299.005%20255.564H318.484V153.826L222.932%20153.826L299.005%20222.751V255.564ZM281.375%20136.524V81.7983L221.977%20136.524L281.375%20136.524ZM177.921%20136.524H118.524V81.7983L177.921%20136.524Z'%20fill='black'/%3e%3c/svg%3e",jo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23ff3d00'%20d='M44,24c0,11-9,20-20,20S4,35,4,24S13,4,24,4S44,13,44,24z'/%3e%3cpath%20fill='%23fff'%20d='M26,16.2c-0.6-0.6-1.5-0.9-2.5-1.1c-0.4-0.5-1-1-1.9-1.5c-1.6-0.8-3.5-1.2-5.3-0.9h-0.4%20c-0.1,0-0.2,0.1-0.4,0.1c0.2,0,1,0.4,1.6,0.6c-0.3,0.2-0.8,0.2-1.1,0.4c0,0,0,0-0.1,0L15.7,14c-0.1,0.2-0.2,0.4-0.2,0.5%20c1.3-0.1,3.2,0,4.6,0.4C19,15,18,15.3,17.3,15.7c-0.5,0.3-1,0.6-1.3,1.1c-1.2,1.3-1.7,3.5-1.3,5.9c0.5,2.7,2.4,11.4,3.4,16.3%20l0.3,1.6c0,0,3.5,0.4,5.6,0.4c1.2,0,3.2,0.3,3.7-0.2c-0.1,0-0.6-0.6-0.8-1.1c-0.5-1-1-1.9-1.4-2.6c-1.2-2.5-2.5-5.9-1.9-8.1%20c0.1-0.4,0.1-2.1,0.4-2.3c2.6-1.7,2.4-0.1,3.5-0.8c0.5-0.4,1-0.9,1.2-1.5C29.4,22.1,27.8,18,26,16.2z'/%3e%3cpath%20fill='%23fff'%20d='M24,42c-9.9,0-18-8.1-18-18c0-9.9,8.1-18,18-18c9.9,0,18,8.1,18,18C42,33.9,33.9,42,24,42z%20M24,8%20C15.2,8,8,15.2,8,24s7.2,16,16,16s16-7.2,16-16S32.8,8,24,8z'/%3e%3cpath%20fill='%230277bd'%20d='M19,21.1c-0.6,0-1.2,0.5-1.2,1.2c0,0.6,0.5,1.2,1.2,1.2c0.6,0,1.2-0.5,1.2-1.2%20C20.1,21.7,19.6,21.1,19,21.1z%20M19.5,22.2c-0.2,0-0.3-0.1-0.3-0.3c0-0.2,0.1-0.3,0.3-0.3s0.3,0.1,0.3,0.3%20C19.8,22.1,19.6,22.2,19.5,22.2z%20M26.8,20.6c-0.6,0-1,0.5-1,1c0,0.6,0.5,1,1,1c0.6,0,1-0.5,1-1S27.3,20.6,26.8,20.6z%20M27.2,21.5%20c-0.1,0-0.3-0.1-0.3-0.3c0-0.1,0.1-0.3,0.3-0.3c0.1,0,0.3,0.1,0.3,0.3S27.4,21.5,27.2,21.5z%20M19.3,18.9c0,0-0.9-0.4-1.7,0.1%20c-0.9,0.5-0.8,1.1-0.8,1.1s-0.5-1,0.8-1.5C18.7,18.1,19.3,18.9,19.3,18.9%20M27.4,18.8c0,0-0.6-0.4-1.1-0.4c-1,0-1.3,0.5-1.3,0.5%20s0.2-1.1,1.5-0.9C27.1,18.2,27.4,18.8,27.4,18.8'/%3e%3cpath%20fill='%238bc34a'%20d='M23.3,35.7c0,0-4.3-2.3-4.4-1.4c-0.1,0.9,0,4.7,0.5,5s4.1-1.9,4.1-1.9L23.3,35.7z%20M25,35.6%20c0,0,2.9-2.2,3.6-2.1c0.6,0.1,0.8,4.7,0.2,4.9c-0.6,0.2-3.9-1.2-3.9-1.2L25,35.6z'/%3e%3cpath%20fill='%23689f38'%20d='M22.5,35.7c0,1.5-0.2,2.1,0.4,2.3c0.6,0.1,1.9,0,2.3-0.3c0.4-0.3,0.1-2.2-0.1-2.6%20C25,34.8,22.5,35.1,22.5,35.7'/%3e%3cpath%20fill='%23ffca28'%20d='M22.3,26.8c0.1-0.7,2-2.1,3.3-2.2c1.3-0.1,1.7-0.1,2.8-0.3c1.1-0.3,3.9-1,4.7-1.3%20c0.8-0.4,4.1,0.2,1.8,1.5c-1,0.6-3.7,1.6-5.7,2.2c-1.9,0.6-3.1-0.6-3.8,0.4c-0.5,0.8-0.1,1.8,2.2,2c3.1,0.3,6.2-1.4,6.5-0.5%20c0.3,0.9-2.7,2-4.6,2.1c-1.8,0-5.6-1.2-6.1-1.6C22.9,28.7,22.2,27.8,22.3,26.8'/%3e%3c/svg%3e",Uo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='92mm'%20height='92mm'%20viewBox='0%200%2092%2092'%3e%3cg%20transform='translate(-40.921%20-17.417)'%3e%3ccircle%20cx='75.921'%20cy='53.903'%20r='30'%20style='fill:none;fill-opacity:1;stroke:%233050ff;stroke-width:10;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'/%3e%3cpath%20d='M67.515%2037.915a18%2018%200%200%201%2021.051%203.313%2018%2018%200%200%201%203.138%2021.078'%20style='fill:none;fill-opacity:1;stroke:%233050ff;stroke-width:5;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'/%3e%3crect%20width='18.846'%20height='39.963'%20x='3.706'%20y='122.09'%20ry='0'%20style='opacity:1;fill:%233050ff;fill-opacity:1;stroke:none;stroke-width:8;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20transform='rotate(-46.235)'/%3e%3c/g%3e%3c/svg%3e",Xo=l(void 0),Zo=()=>{const e=c(Xo);if(!e)throw new Error("useWaldiezTheme must be used within a WaldiezThemeProvider context");return e},Jo=()=>{if("undefined"==typeof window)return!1;if("localStorage"in window){if("dark"===localStorage.getItem("waldiez-theme"))return!0;if("light"===localStorage.getItem("waldiez-theme"))return!1}if(document.body.classList.contains("waldiez-dark"))return!0;if(document.body.classList.contains("waldiez-light"))return!1;return window.matchMedia("(prefers-color-scheme: dark)").matches},Yo=e=>{qo(e),Qo(e),$o(e)},qo=e=>{document.body.classList.remove("waldiez-light","waldiez-dark"),e?document.body.classList.add("waldiez-dark"):document.body.classList.add("waldiez-light")},$o=e=>{document.documentElement.classList.remove("dark","light"),e?document.documentElement.classList.add("dark"):document.documentElement.classList.add("light")},Qo=e=>{"undefined"!=typeof window&&"localStorage"in window&&localStorage.setItem("waldiez-theme",e?"dark":"light")},Ko=({children:e,initialDark:t})=>{const[n,a]=i(()=>"boolean"==typeof t?t:Jo());"boolean"==typeof t&&Yo(t);return s(()=>{"boolean"==typeof t&&Yo(t);const e=new MutationObserver(e=>{e.forEach(e=>{if("attributes"===e.type&&"class"===e.attributeName){const e=document.body.classList,t=e.contains("waldiez-dark")||e.contains("dark-theme")||!e.contains("waldiez-light")&&!e.contains("light-theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches;a(e=>e!==t?t:e)}})});return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()},[t]),/* @__PURE__ */C(Xo.Provider,{value:{isDark:n,toggleTheme:()=>{a(e=>(Yo(!e),!e))},setTheme:e=>{Yo(e),a(e)}},children:e})},er={width:130},tr={width:490},nr={width:180},ar=(e,t)=>{if(!e||"object"!=typeof e)throw new Error("Invalid agent data");const n=e,a=((e,t)=>{let n;return n=t&&"string"==typeof t?t:ra(e),n})(n,t),o=(e=>{let t="user_proxy",n=e;if(!("agentType"in e)||"string"!=typeof e.agentType){if(!("data"in e)||"object"!=typeof e.data||!("agentType"in e.data)||"string"!=typeof e.data.agentType)return t;n=e.data}return ba.includes(n.agentType)&&(t=n.agentType),t})(n),{name:r,description:i,tags:s,requirements:l,createdAt:c,updatedAt:d}=ya(n,o),u=n.data||n,p=sr(u,o),g=ir(o);return((e,t,n,a,o,r,i,s,l,c)=>"user_proxy"===e?new Yn({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}):"assistant"===e?new Bn({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}):"rag_user_proxy"===e?new Un({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}):"reasoning"===e?new Jn({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}):"captain"===e?new zn({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}):"group_manager"===e?new Wn({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}):"doc_agent"===e?new Vn({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}):new Sn({id:t,agentType:e,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,data:l,rest:c}))(o,a,r,i,s,l,c,d,p,pa(n,g))},or=(e,t)=>{const n=t?lr(e):{...e},a={...n.data},o=n.data.label;delete n.data;const r=a.agentType,i={systemMessage:a.systemMessage,humanInputMode:a.humanInputMode,codeExecutionConfig:a.codeExecutionConfig,agentDefaultAutoReply:a.agentDefaultAutoReply,maxConsecutiveAutoReply:a.maxConsecutiveAutoReply,termination:a.termination,modelIds:a.modelIds,tools:a.tools,parentId:a.parentId,nestedChats:a.nestedChats,handoffs:a.handoffs,contextVariables:a.contextVariables,updateAgentStateBeforeReply:a.updateAgentStateBeforeReply,afterWork:a.afterWork};cr(r,i,a),(e=>{e.nestedChats&&0!==e.nestedChats.length||(e.nestedChats=[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}])})(i);for(const s of["description","name","tags","requirements","createdAt","updatedAt","agentType","parentId"])delete n[s];return{type:"agent",agentType:r,name:o,description:a.description,tags:a.tags,requirements:a.requirements,createdAt:a.createdAt,updatedAt:a.updatedAt,data:i,...n}},rr=(e,t,n)=>{const a=ga(e,t),o={...e.data,agentType:e.agentType,label:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt};delete o.name;const r={id:e.id,type:"agent",data:o,style:{width:"group_manager"===e.agentType?tr.width:"user_proxy"!==e.agentType?nr.width:er.width},...e.rest,parentId:null!==e.data.parentId?e.data.parentId:void 0,position:a};return!0===n?lr(r):r},ir=e=>{const t=["id","name","description","tags","requirements","createdAt","updatedAt","data"];return"rag_user_proxy"===e&&t.push("retrieveConfig"),"assistant"===e&&t.push("isMultimodal"),"reasoning"===e&&t.push("verbose","reasonConfig"),"captain"===e&&t.push("agentLib","toolLib","maxRound","maxTurns"),"group_manager"===e&&t.push("initialAgentId","maxRound","adminName","speakers","enableClearHistory","sendIntroductions","groupName"),"doc_agent"===e&&t.push("collectionName","resetCollection","parsedDocsPath","queryEngine"),t},sr=(e,t)=>{const n=wa(e,t);return"rag_user_proxy"===t?new jn({...n,retrieveConfig:$a(e)}):"assistant"===t?new Ln({...n,isMultimodal:va(e)}):"reasoning"===t?new Zn({...n,verbose:Ha(e),reasonConfig:Wa(e)}):"captain"===t?new Gn({...n,agentLib:$n(e),toolLib:Qn(e),maxRound:Kn(e),maxTurns:ea(e)}):"group_manager"===t?new Hn({...n,initialAgentId:Da(e),maxRound:Sa(e),adminName:Ta(e),speakers:ka(e),enableClearHistory:Ea(e),sendIntroductions:Ma(e),groupName:Ra(e)}):"doc_agent"===t?new _n({...n,collectionName:xa(e),resetCollection:Aa(e),parsedDocsPath:Na(e),queryEngine:Ia(e)}):n},lr=e=>{const t={...e};return t.data.modelIds=[],t.data.tools=[],t.data.nestedChats=[],t.data.handoffs=[],t.data.codeExecutionConfig&&(t.data.codeExecutionConfig.functions=[]),"rag_user_proxy"===e.data.agentType&&(t.data.retrieveConfig={...t.data.retrieveConfig,model:null,docsPath:[]}),"group_manager"===e.data.agentType&&(t.data.speakers={...t.data.speakers,allowRepeat:[],allowedOrDisallowedTransitions:{},order:[]},t.data.initialAgentId=void 0),t},cr=(e,t,n)=>{"rag_user_proxy"===e&&dr(t,n),"reasoning"===e&&ur(t,n),"captain"===e&&pr(t,n),"assistant"===e&&(t.isMultimodal=va(n)),"group_manager"===e&&gr(t,n),"doc_agent"===e&&mr(t,n)},dr=(e,t)=>{e.retrieveConfig=$a(t)},ur=(e,t)=>{e.verbose=Ha(t),e.reasonConfig=Wa(t)},pr=(e,t)=>{e.agentLib=$n(t),e.toolLib=Qn(t),e.maxRound=Kn(t),e.maxTurns=ea(t)},gr=(e,t)=>{e.maxRound=Sa(t),e.adminName=Ta(t),e.speakers=ka(t),e.enableClearHistory=Ea(t),e.sendIntroductions=Ma(t),e.initialAgentId=Da(t),e.groupName=Ra(t)},mr=(e,t)=>{e.collectionName=xa(t),e.resetCollection=Aa(t),e.queryEngine=Ia(t),e.parsedDocsPath=Na(t)};class hr{sourceType;targetType;name;description;position;order;clearHistory;message;maxTurns;summary;nestedChat;prerequisites=[];realSource=null;realTarget=null;available={type:"none",value:""};condition={conditionType:"string_llm",prompt:""};afterWork=null;silent=!1;constructor(e={sourceType:"user_proxy",targetType:"assistant",name:"Chat",description:"New connection",clearHistory:!0,maxTurns:null,summary:{method:"lastMsg",prompt:"",args:{}},position:1,order:-1,message:{type:"none",useCarryover:!1,content:null,context:{}},nestedChat:{message:null,reply:null},prerequisites:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""},afterWork:null,realSource:null,realTarget:null,silent:!1}){const{sourceType:t,targetType:n,name:a,description:o,clearHistory:r,maxTurns:i,summary:s,message:l,position:c,order:d,nestedChat:u,prerequisites:p,condition:g,available:m,afterWork:h,realSource:f,realTarget:b,silent:y}=e;this.sourceType=t,this.targetType=n,this.name=a,this.description=o,this.clearHistory=r,this.maxTurns=i,this.summary=s,this.message=l,this.position=c,this.order=d,this.nestedChat=u,this.prerequisites=p,this.condition=g,this.available=m,this.afterWork=h,this.realSource=f,this.realTarget=b,this.silent=y}}class fr{id;type="chat";source;target;data;rest;constructor(e){this.id=e.id,this.source=e.source,this.target=e.target,this.type=e.type,this.data=e.data,this.rest=e.rest||{}}static create(e){const t=new hr;return new fr({id:`wc-${Zt()}`,source:e.source,target:e.target,type:e.type,data:t})}}const br=["chat","nested","group","hidden"],yr=["string","method","rag_message_generator","none"],vr=e=>wr(e),Cr=e=>({type:e.type,content:e.content,context:e.context,useCarryover:e.useCarryover}),wr=e=>{const t={type:"none",useCarryover:!1,content:null,context:{}};return"message"in e&&e.message&&(t.type=xr(e.message),t.content=Ar(e.message),t.context=Ir(e.message),t.useCarryover=Nr(e.message)),t},xr=e=>{let t="none";return"type"in e&&e.type&&"string"==typeof e.type&&yr.includes(e.type)&&(t=e.type),t},Ar=e=>{let t=null;return"content"in e&&e.content&&"string"==typeof e.content&&(t=e.content),t},Ir=e=>{let t={};return"context"in e&&e.context&&"object"==typeof e.context&&(t=Object.keys(e.context).reduce((t,n)=>(t[n.toString()]=e.context[n],t),{})),t},Nr=e=>{let t=!1;return"useCarryover"in e&&"boolean"==typeof e.useCarryover&&(t=e.useCarryover),"useCarryover"in e&&"boolean"==typeof e.useCarryover&&(t=e.useCarryover),t},kr=e=>"summary"in e?Tr(e):{method:null,prompt:"",args:{}},Sr=e=>({method:e.method,prompt:e.prompt,args:e.args}),Tr=e=>{const t={method:null,prompt:"",args:{}};return"summary"in e&&e.summary&&(t.method=Er(e),t.prompt=Mr(e),t.args=Rr(e)),t},Er=e=>{let t=null;return"method"in e.summary&&e.summary.method&&("reflectionWithLlm"===e.summary.method||"reflectionWithLlm"===e.summary.method?t="reflectionWithLlm":"lastMsg"!==e.summary.method&&"lastMsg"!==e.summary.method||(t="lastMsg")),t},Mr=e=>{let t="";return"prompt"in e.summary&&"string"==typeof e.summary.prompt&&(t=e.summary.prompt),t},Rr=e=>{let t={};return"args"in e.summary&&e.summary.args&&"object"==typeof e.summary.args&&(t=Object.keys(e.summary.args).reduce((t,n)=>(t[n.toString()]=e.summary.args[n],t),{})),t},Dr=e=>{let t=!0;return"clearHistory"in e&&"boolean"==typeof e.clearHistory&&(t=e.clearHistory),t},Or=e=>{let t="Chat";return"label"in e&&e.label&&"string"==typeof e.label&&(t=e.label),t},Pr=e=>{let t="Chat Description";return"description"in e&&e.description&&"string"==typeof e.description&&(t=e.description),t},Lr=(e,t)=>{let n=t;return"position"in e&&"number"==typeof e.position&&(n=Math.floor(e.position)),n},Br=e=>{let t=null;return"maxTurns"in e&&"number"==typeof e.maxTurns&&(t=Math.floor(e.maxTurns)),t},Gr=e=>{const t={message:null,reply:null};return"nestedChat"in e&&e.nestedChat&&("message"in e.nestedChat&&e.nestedChat.message&&(t.message=vr({message:e.nestedChat.message})),"reply"in e.nestedChat&&e.nestedChat.reply&&(t.reply=vr({message:e.nestedChat.reply}))),t},zr=e=>{const t=[];return"prerequisites"in e&&Array.isArray(e.prerequisites)&&e.prerequisites.forEach(e=>{"string"==typeof e&&t.push(e)}),t},_r=e=>{let t=-1;if("order"in e&&"number"==typeof e.order){const n=Math.floor(e.order);t=n>=0?n:-1}return t},Vr=(e,t,n,a,o,r)=>{const i=a.data.agentType;let s=((e,t)=>{let n="chat";"type"in t&&"string"==typeof t.type&&t.type&&br.includes(t.type)?n=t.type:"data"in t&&"object"==typeof t.data&&null!==t.data&&"type"in t.data&&"string"==typeof t.data.type&&t.data.type&&br.includes(t.data.type)&&(n=t.data.type);let a=e?.type??n;return br.includes(a)||(a="chat"),a})(e,n);"type"in r&&"string"==typeof r.type&&br.includes(r.type)&&(e.type=r.type,s=e.type),delete r.type,delete r.source,delete r.target;const l=Oo[i];e.type=s,"hidden"!==e.type&&(e.animated=Wr(s)),Hr(e,s,l);const c=a.data.label,d=o.data.label;return c&&d&&(t.name=`${c} => ${d}`),e.data={...t,label:t.name,order:"nested"===s?-1:t.order},delete e.data.name,t.order="nested"===s?-1:t.order,Fr(e,r),jr(e,r),{...e,...r}},Hr=(e,t,n)=>{"hidden"!==e.type&&(e.markerEnd="nested"!==t?{type:A.ArrowClosed,color:n,width:10,height:10}:void 0,e.style={stroke:n,strokeWidth:1})},Wr=(e,t,n)=>"nested"===e,Fr=(e,t)=>{let n=null;if("sourceHandle"in t&&"string"==typeof t.sourceHandle&&(t.sourceHandle.includes("-source")||t.sourceHandle.includes("-target"))){const a=t.sourceHandle.includes("-source"),o=["top","left","right","bottom"].find(e=>t.sourceHandle.includes(e));o&&(n=`agent-handle-${o}-${a?"source":"target"}-${a?e.source:e.target}`)}t.sourceHandle=n,e.sourceHandle=n},jr=(e,t)=>{let n=null;if("targetHandle"in t&&"string"==typeof t.targetHandle&&(t.targetHandle.includes("-source")||t.targetHandle.includes("-target"))){const a=t.targetHandle.includes("source"),o=["top","left","right","bottom"].find(e=>t.targetHandle.includes(e));o&&(n=`agent-handle-${o}-${a?"source":"target"}-${a?e.source:e.target}`)}t.targetHandle=n,e.targetHandle=n},Ur=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid edge data");const t="id"in e&&"string"==typeof e.id&&"data"in e&&"object"==typeof e.data&&null!==e.data;if(e.source=(e=>{if("source"in e&&"string"==typeof e.source)return e.source;if("data"in e&&"object"==typeof e.data&&null!==e.data&&"source"in e.data&&"string"==typeof e.data.source)return e.data.source;throw new Error("Source not found in chat data")})(e),e.target=(e=>{if("target"in e&&"string"==typeof e.target)return e.target;if("data"in e&&"object"==typeof e.data&&null!==e.data&&"target"in e.data&&"string"==typeof e.data.target)return e.data.target;throw new Error("Target not found in chat data")})(e),!t)throw new Error((e=>{const t=[];return"id"in e&&"string"==typeof e.id||t.push("id must be a string"),"data"in e&&"object"==typeof e.data&&null!==e.data||t.push("data must be an object"),"source"in e&&"string"==typeof e.source||t.push("source must be a string"),"target"in e&&"string"==typeof e.target||t.push("target must be a string"),t.length>0?`Invalid edge data: ${t.join(", ")}`:"Invalid edge data ?"})(e))},Xr=e=>{let t=!1;return"silent"in e&&"boolean"==typeof e.silent&&(t=e.silent),t},Zr=(e,t,n)=>{Ur(e),(e=>{"type"in e&&"string"==typeof e.type&&br.includes(e.type)?e.type=e.type:"data"in e&&"object"==typeof e.data&&null!==e.data&&"type"in e.data&&"string"==typeof e.data.type&&br.includes(e.data.type)?e.type=e.data.type:e.type="chat"})(e);const a=t.find(t=>t.id===e.id);if(!a)throw new Error(`Edge not found: ${e.id}`);const o=n.find(t=>t.id===e.source);if(!o||"agent"!==o.type)throw new Error(`Source node not found: ${e.source}`);if(a.source!==e.source)throw new Error(`Source node does not match edge source: ${e.source}`);const r=n.find(t=>t.id===e.target);if(!r||"agent"!==r.type)throw new Error(`Target node not found: ${e.target}`);if(a.target!==e.target)throw new Error(`Target node does not match edge target: ${e.target}`);return{edge:a,sourceNode:o,targetNode:r}},Jr=e=>{let t="user_proxy";return"sourceType"in e&&"string"==typeof e.sourceType&&(t=e.sourceType),qn.includes(t)?t:"assistant"},Yr=e=>{let t="assistant";return"targetType"in e&&"string"==typeof e.targetType&&(t=e.targetType),qn.includes(t)?t:"user_proxy"},qr=(e,t,n,a)=>{if(!e||"object"!=typeof e)throw new Error("Invalid edge data");const o=e;let r=null;try{r=Zr(o,t,n)}catch(m){throw new Error(m.message)}const{edge:i,sourceNode:s,targetNode:l}=r,c=o.id,d=Kr(i),u=ei(o.data,a),p=(e=>{const t={...e};return delete t.id,delete t.data,delete t.type,delete t.source,delete t.target,t})({...o,...i}),g=Vr(i,u,o,s,l,p);Object.entries(g).forEach(([e,t])=>{"data"!==e&&"source"!==e&&"target"!==e&&"id"!==e&&"type"!==e&&(p[e]=t)});return{chat:new fr({id:c,data:u,type:d,source:s.id,target:l.id,rest:p}),edge:g}},$r=(e,t)=>{const n=e.data,a=e.type||Kr(e),o={...n},r={sourceType:Jr(o),targetType:Yr(o),name:Or(o),order:_r(o),description:Pr(o),position:Lr(o,t),clearHistory:Dr(o),maxTurns:Br(o),message:Cr(o.message),summary:Sr(o.summary),nestedChat:Gr(o),prerequisites:zr(o),condition:ha(o),available:ma(o),afterWork:fa(o),silent:Xr(o),realSource:o.realSource,realTarget:o.realTarget},i={...e};"hidden"===i.type&&(i.hidden=!0),delete i.data,delete i.type,delete i.source,delete i.target,delete i.id;const s=new fr({id:e.id,data:r,type:a,source:e.source,target:e.target,rest:i}),l={...s,...s.rest};return delete l.rest,l},Qr=e=>{const t={label:e.data.name,sourceType:e.data.sourceType,targetType:e.data.targetType,description:e.data.description,position:e.data.position,order:e.data.order,clearHistory:e.data.clearHistory,message:e.data.message,nestedChat:e.data.nestedChat,prerequisites:e.data.prerequisites,summary:e.data.summary,maxTurns:e.data.maxTurns,condition:e.data.condition,available:e.data.available,afterWork:e.data.afterWork,realSource:e.data.realSource,realTarget:e.data.realTarget,silent:e.data.silent},n=e.rest?.style||{};return n.strokeWidth=1,{id:e.id,source:e.source,target:e.target,type:e.type,data:t,hidden:!0===e.rest?.hidden||"hidden"===e.type,...e.rest,style:n}},Kr=e=>"data"in e&&"object"==typeof e.data&&"type"in e.data&&"string"==typeof e.data.type&&br.includes(e.data.type.toLocaleLowerCase())?e.data.type:"type"in e&&"string"==typeof e.type&&br.includes(e.type.toLocaleLowerCase())?e.type:"chat",ei=(e,t)=>{if(!e||"object"!=typeof e)throw new Error("Invalid chat data");const n=ia(e,"New connection"),a=sa(e,"New connection"),o=Jr(e),r=Yr(e),i=Dr(e),s=Br(e),l=Lr(e,t),c=_r(e),d=vr(e),u=kr(e),p=Gr(e),g=zr(e),m=(e=>{let t=null;return"realSource"in e&&"string"==typeof e.realSource&&(t=e.realSource),t})(e),h=(e=>{let t=null;return"realTarget"in e&&"string"==typeof e.realTarget&&(t=e.realTarget),t})(e),f=ha(e),b=ma(e),y=fa(e),v=Xr(e);return new hr({sourceType:o,targetType:r,name:n,description:a,clearHistory:i,maxTurns:s,position:l,order:c,message:d,summary:u,nestedChat:p,prerequisites:g,condition:f,available:b,realSource:m,realTarget:h,afterWork:y,silent:v})};class ti{baseUrl;apiKey;apiType;apiVersion;temperature;topP;maxTokens;aws;extras;defaultHeaders;price;constructor(e={baseUrl:null,apiKey:null,apiType:"openai",apiVersion:null,temperature:null,topP:null,maxTokens:null,aws:{accessKey:null,profileName:null,region:null,secretKey:null,sessionToken:null},extras:{},defaultHeaders:{},price:{promptPricePer1k:null,completionTokenPricePer1k:null}}){const{baseUrl:t,apiKey:n,apiType:a,apiVersion:o,temperature:r,topP:i,maxTokens:s,aws:l,extras:c,defaultHeaders:d,price:u}=e;this.baseUrl=t,this.apiKey=n,this.apiType=a,this.apiVersion=o,this.temperature=r,this.topP=i,this.maxTokens=s,this.aws=l||null,this.extras=c,this.defaultHeaders=d,this.price=u}}class ni{type="model";id;name;description;tags;requirements;createdAt;updatedAt;data;rest={};constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.data=e.data,this.rest=e.rest}static create(){return new ni({id:`wm-${Zt()}`,name:"Model",description:"A new model",tags:[],requirements:[],createdAt:/* @__PURE__ */(new Date).toISOString(),updatedAt:/* @__PURE__ */(new Date).toISOString(),data:new ti})}}const ai=["wikipedia_search","youtube_search","google_search","tavily_search","duckduckgo_search","perplexity_search","searxng_search"],oi={wikipedia_search:"Search Wikipedia for a given query.",youtube_search:"Search YouTube for a given query.",google_search:"Search Google for a given query.",tavily_search:"Search Tavily for a given query.",duckduckgo_search:"Search DuckDuckGo for a given query.",perplexity_search:"Search Perplexity AI for a given query.",searxng_search:"Search SearxNG for a given query.",shared:"Shared code available to all agents.",custom:"A custom tool that you define."},ri={wikipedia_search:"Wikipedia Search",youtube_search:"YouTube Search",google_search:"Google Search",tavily_search:"Tavily Search",duckduckgo_search:"DuckDuckGo Search",perplexity_search:"Perplexity AI Search",searxng_search:"SearxNG Search",shared:"waldiez_shared",custom:"new_tool"},ii={wikipedia_search:[],youtube_search:[{label:"YouTube API Key",key:"YOUTUBE_API_KEY"}],google_search:[{label:"Google Search API Key",key:"GOOGLE_SEARCH_API_KEY"},{label:"Google Search Engine ID",key:"GOOGLE_SEARCH_ENGINE_ID"}],tavily_search:[{label:"Tavily API Key",key:"TAVILY_API_KEY"}],duckduckgo_search:[],perplexity_search:[{label:"Perplexity API Key",key:"PERPLEXITY_API_KEY"}],searxng_search:[]},si={wikipedia_search:[],youtube_search:[],google_search:[],tavily_search:[],duckduckgo_search:[],perplexity_search:[],searxng_search:[]};class li{content;toolType;secrets;kwargs={};constructor(e={content:ci,toolType:"shared",secrets:{},kwargs:{}}){const{content:t,toolType:n,secrets:a,kwargs:o}=e;this.toolType=n,this.content=t,this.secrets=a,this.kwargs=o||{}}}const ci='\n"""Replace this with your code.\n\nAdd any code here that will be placed at the top of the whole flow.\n"""\n\n# Example:\n# global variable\n# DATABASE = {\n#     "users": [\n#         {"id": 1, "name": "Alice"},\n#         {"id": 2, "name": "Bob"},\n#     ],\n#     "posts": [\n#         {"id": 1, "title": "Hello, world!", "author_id": 1},\n#         {"id": 2, "title": "Another post", "author_id": 2},\n#     ],\n# }\n#\n# Add your code below\n\n',di={shared:ci,custom:'\n"""Replace this with your code.\n\nmake sure a function with the same name\nas the tool is defined in the code.\n"""\n\n# Example:\n# tool name: \'new_tool\'\n#\n# def new_tool() -> str:\n#     """Tool entry point."""\n#     return "Hello, world!"\n#\n# Add your code below\n\ndef new_tool() -> None:\n    """Tool entry point."""\n    ...\n',langchain:'\n"""Replace this with your code.\n\nYou can define any of the tools available in the langchain_community package.\nYou can explore the available tools in the LangChain Community Tools folder:\nhttps://github.com/langchain-ai/langchain/tree/master/libs/community/langchain_community/tools\n\nMake sure you have a variable named with the same name as the tool\n"""\n\n# Example:\n# # tool name: \'wiki_tool\'\n#\n# from langchain_community.tools import WikipediaQueryRun\n# from langchain_community.utilities import WikipediaAPIWrapper\n#\n# api_wrapper = WikipediaAPIWrapper(top_k_results=1, doc_content_chars_max=1000)\n# wiki_tool = WikipediaQueryRun(api_wrapper=api_wrapper)\n#\n# Add your code below\n\n',crewai:'\n"""Replace this with your code.\n\nYou can define any of the tools available in the crewai_tools package.\nYou can explore the full list of available tools in the CrewAI Tools repository:\nhttps://github.com/crewAIInc/crewAI-tools/tree/main\n\nMake sure you have a variable named with the same name as the tool.\n"""\n\n# Example:\n# # tool name: \'scrape_tool\'\n#\n# from crewai_tools import ScrapeWebsiteTool\n# scrape_tool = ScrapeWebsiteTool()\n#\n# Add your code below\n\n',predefined:""};class ui{type="tool";id;name;description;tags;requirements;createdAt;updatedAt;data;rest={};constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.data=e.data,this.rest=e.rest}static create(){return new ui({id:`wt-${Zt()}`,name:"waldiez_shared",description:"Shared code available to all agents.",tags:[],requirements:[],createdAt:/* @__PURE__ */(new Date).toISOString(),updatedAt:/* @__PURE__ */(new Date).toISOString(),data:new li})}}class pi{nodes;edges;viewport;agents;models;tools;chats;isAsync=!1;cacheSeed=null;silent=!1;constructor(e={nodes:[],edges:[],viewport:{x:0,y:0,zoom:1},agents:{userProxyAgents:[],assistantAgents:[],ragUserProxyAgents:[],reasoningAgents:[],captainAgents:[],groupManagerAgents:[],docAgents:[]},models:[],tools:[],chats:[],isAsync:!1,cacheSeed:null,silent:!1}){this.nodes=e.nodes,this.edges=e.edges,this.viewport=e.viewport,this.agents=e.agents,this.models=e.models,this.tools=e.tools,this.chats=e.chats,this.isAsync=e.isAsync,this.cacheSeed=e.cacheSeed,this.silent=e.silent}}class gi{type="flow";version="0.6.1";id;name;description;tags;requirements;data;storageId;createdAt;updatedAt;rest={};constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.tags=e.tags,this.requirements=e.requirements,this.data=e.data,this.storageId=e.storageId,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.rest=e.rest||{}}}const mi=`wf-${/* @__PURE__ */(new Date).getTime()}${ut()}`,hi={type:"flow",version:"0.6.1",id:mi,storageId:mi,name:"Waldiez Flow",description:"A waldiez flow",tags:[],requirements:[],data:{agents:{userProxyAgents:[],assistantAgents:[],ragUserProxyAgents:[],reasoningAgents:[],captainAgents:[],groupManagerAgents:[],docAgents:[]},models:[],tools:[],chats:[],isAsync:!1,cacheSeed:null,silent:!1,nodes:[],edges:[],viewport:{zoom:1,x:0,y:0}},createdAt:/* @__PURE__ */(new Date).toISOString(),updatedAt:/* @__PURE__ */(new Date).toISOString(),rest:{}},fi=(e,t,n,a)=>{const o=or(e,a),r=t.find(t=>t.id===e.id);return r&&Object.keys(r).forEach(e=>{["id","type","parentId","data"].includes(e)||delete o[e]}),o.agentType=e.data.agentType,bi(o,t,n),o},bi=(e,t,n)=>{const a=t.filter(e=>"agent"===e.type),o=e.data.parentId,r=((e,t,n,a)=>{const o=a.filter(t=>t.source===e);return n?o.filter(e=>{const a=t.find(t=>t.id===e.source),o=t.find(t=>t.id===e.target);return a&&o&&a.data.parentId===n&&o.data.parentId!==n}):o.filter(e=>"nested"===e.type)})(e.id,a,o,n),i=e.data.nestedChats||[];0===r.length||i.length>0&&i[0]&&i[0].messages.length>0?e.data.nestedChats=i:e.data.nestedChats=[{triggeredBy:[e.id],messages:r.map(e=>({id:e.id,isReply:!1})),condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}]},yi=e=>{if(!e||"object"!=typeof e)return new ni({id:"wm-"+Zt(),name:"Model",description:"A new model",tags:[],requirements:[],createdAt:/* @__PURE__ */(new Date).toISOString(),updatedAt:/* @__PURE__ */(new Date).toISOString(),data:new ti});const t=e,n=ra(t),{name:a,description:o,tags:r,requirements:i,createdAt:s,updatedAt:l}=Ai(t),c=t.data||t,d=Ii(c),u=pa(t,["id","type","name","description","tags","requirements","createdAt","updatedAt","data"]);return new ni({id:n,name:a,description:o,tags:r,requirements:i,createdAt:s,updatedAt:l,data:d,rest:u})},vi=(e,t)=>{const n=e.data.apiKey?t?"REPLACE_ME":e.data.apiKey:"REPLACE_ME",a=pa(e,["id","type","parentId","data"]),{defaultHeaders:o,extras:r,aws:i}=t?wi(e):e.data;return{id:e.id,type:"model",name:e.data.label,description:e.data.description,tags:e.data.tags,requirements:e.data.requirements,createdAt:e.data.createdAt,updatedAt:e.data.updatedAt,data:{apiKey:n,apiType:e.data.apiType,apiVersion:e.data.apiVersion,baseUrl:e.data.baseUrl,temperature:e.data.temperature,topP:e.data.topP,maxTokens:e.data.maxTokens,aws:i,extras:r,defaultHeaders:o,price:e.data.price},...a}},Ci=(e,t)=>{const n=ga(e,t),a={...e.data,label:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt};a.label=e.name,e.rest&&"position"in e.rest&&delete e.rest.position;const o=a;return{id:e.id,type:"model",data:o,position:n,...e.rest}},wi=e=>{const t={...e.data.defaultHeaders},n={...e.data.extras},a={...e.data.aws||{region:null,accessKey:null,secretKey:null,sessionToken:null,profileName:null}};for(const o in t)"string"!=typeof t[o]&&t[o]||(t[o]="REPLACE_ME");for(const o in n)"string"!=typeof n[o]&&n[o]||(n[o]="REPLACE_ME");if("bedrock"===e.data.apiType)for(const o in a)"string"!=typeof a[o]&&a[o]||(a[o]="REPLACE_ME");else for(const o in a)"string"==typeof a[o]&&(a[o]="REPLACE_ME");return{defaultHeaders:t,extras:n,aws:a}},xi=e=>{let t=null;return"region"in e&&"string"==typeof e.region&&(t=e.region),t},Ai=e=>{const t=((e,t)=>{let n=e??"Model";return"name"in t&&"string"==typeof t.name&&(n=t.name),n})(ia(e,null),e);return{name:t,description:sa(e,"A new model"),tags:la(e),requirements:ca(e),createdAt:da(e),updatedAt:ua(e)}},Ii=e=>{const t=(e=>{let t=null;return"baseUrl"in e&&"string"==typeof e.baseUrl&&(t=e.baseUrl),t})(e),n=(e=>{let t=null;return"apiKey"in e&&"string"==typeof e.apiKey&&(t=e.apiKey),t})(e),a=(e=>{let t="openai";return"apiType"in e&&"string"==typeof e.apiType&&["openai","azure","bedrock","deepseek","google","anthropic","cohere","mistral","groq","together","nim","other"].includes(e.apiType)&&(t=e.apiType),t})(e),o=(e=>{let t=null;return"apiVersion"in e&&"string"==typeof e.apiVersion&&(t=e.apiVersion),t})(e),r=(e=>{let t=null;return"temperature"in e&&"number"==typeof e.temperature&&(t=e.temperature),t})(e),i=(e=>{let t=null;return"topP"in e&&"number"==typeof e.topP&&(t=e.topP),t})(e),s=(e=>{let t=null;return"maxTokens"in e&&"number"==typeof e.maxTokens&&(t=e.maxTokens),t})(e),l=(e=>{const t={region:null,accessKey:null,secretKey:null,sessionToken:null,profileName:null};return"aws"in e&&"object"==typeof e.aws&&e.aws&&(t.region=xi(e.aws),t.accessKey=(e=>{let t=null;return"accessKey"in e&&"string"==typeof e.accessKey&&(t=e.accessKey),t})(e.aws),t.secretKey=(e=>{let t=null;return"secretKey"in e&&"string"==typeof e.secretKey&&(t=e.secretKey),t})(e.aws),t.sessionToken=(e=>{let t=null;return"sessionToken"in e&&"string"==typeof e.sessionToken&&(t=e.sessionToken),t})(e.aws),t.profileName=xi(e.aws)),t})(e),c=(e=>{let t={};return"extras"in e&&"object"==typeof e.extras&&(t=e.extras),t})(e),d=(e=>{let t={};return"defaultHeaders"in e&&"object"==typeof e.defaultHeaders&&(t=e.defaultHeaders),t})(e),u=(e=>{const t={promptPricePer1k:null,completionTokenPricePer1k:null};return"price"in e&&"object"==typeof e.price&&e.price&&("promptPricePer1k"in e.price&&"number"==typeof e.price.promptPricePer1k&&(t.promptPricePer1k=e.price.promptPricePer1k),"completionTokenPricePer1k"in e.price&&"number"==typeof e.price.completionTokenPricePer1k&&(t.completionTokenPricePer1k=e.price.completionTokenPricePer1k)),t})(e);return new ti({baseUrl:t,apiKey:n,apiType:a,apiVersion:o,temperature:r,topP:i,maxTokens:s,aws:l,extras:c,defaultHeaders:d,price:u})},Ni=e=>{if(!e||"object"!=typeof e)return new ui({id:"wt-"+Zt(),name:"new_tool",description:"A new tool",tags:[],requirements:[],createdAt:/* @__PURE__ */(new Date).toISOString(),updatedAt:/* @__PURE__ */(new Date).toISOString(),data:new li});const t=e,n=ra(t),{name:a,description:o,tags:r,requirements:i,createdAt:s,updatedAt:l}=Ri(t),c=pa(t,["id","type","name","description","tags","requirements","createdAt","updatedAt","data"]),d=Di(t.data||t,a),u=Ti(t.data||t),p=Ei(t.data||t),g=Oi(t.data||t),m=new li({toolType:d,content:u,secrets:p,kwargs:g});return new ui({id:n,name:a,description:o,tags:r,requirements:i,createdAt:s,updatedAt:l,data:m,rest:c})},ki=(e,t)=>{let n={...e.data.secrets};t&&(n=Mi(e));let a={...e.data.kwargs};if("predefined"===e.data.toolType){const t=si[e.data.label]||{};a=Object.entries(t).reduce((e,[t,o])=>(e[t]=a[t]||n[t]||"REPLACE_ME",e),{})}const o=pa(e,["id","type","parentId","data"]),r=e.data.label,i="waldiez_shared"===r?"shared":e.data.toolType;return{id:e.id,type:"tool",name:r,description:e.data.description,tags:e.data.tags,requirements:e.data.requirements,createdAt:e.data.createdAt,updatedAt:e.data.updatedAt,data:{content:e.data.content,toolType:i,secrets:n,kwargs:a},...o}},Si=(e,t)=>{const n=ga(e,t),a=e.rest?.label||e.name,o={...e.data,label:a,name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt};e.rest&&"position"in e.rest&&delete e.rest.position;const r=o;return{id:e.id,type:"tool",data:r,position:n,...e.rest}},Ti=e=>{let t=ci;return"content"in e&&"string"==typeof e.content&&(t=e.content),t},Ei=e=>{let t={};return"secrets"in e&&"object"==typeof e.secrets&&null!==e.secrets&&(t=Object.entries(e.secrets).reduce((e,[t,n])=>(e[t]=n.toString(),e),{})),t},Mi=e=>{const t={...e.data.secrets};if("predefined"===e.data.toolType){const n=ii[e.data.label]||[];for(const e of n)t[e.key]&&t[e.key],t[e.key]="REPLACE_ME"}for(const n in t)"string"!=typeof t[n]&&t[n]||(t[n]="REPLACE_ME");return t},Ri=e=>({name:ia(e,"new_tool"),description:sa(e,"A new tool"),tags:la(e),requirements:ca(e),createdAt:da(e),updatedAt:ua(e)}),Di=(e,t)=>{let n="shared";return"toolType"in e&&"string"==typeof e.toolType&&["shared","custom","langchain","crewai","predefined"].includes(e.toolType)&&(n=e.toolType),"waldiez_shared"===t&&(n="shared"),n},Oi=e=>{let t={};return"kwargs"in e&&"object"==typeof e.kwargs&&null!==e.kwargs&&(t=Object.entries(e.kwargs).reduce((e,[t,n])=>(e[t]=n,e),{})),t},Pi=(e,t)=>{let n=t;return"storageId"in e&&"string"==typeof e.storageId&&(n=e.storageId),n},Li=(e,t,n,a,o,r)=>{let i=`${e}_agents`;if("doc_agent"===e&&(i="docAgents"),!(i in t&&Array.isArray(t[i])||(i=i.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([0-9])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").trim().toLowerCase().split(" ").map(e=>Nn(e)).join("").replace(/^[A-Z]/,e=>e.toLowerCase()),i in t&&Array.isArray(t[i]))))return[];const s=t[i],l=[],c=n.map(e=>e.id);return n.forEach(e=>{if("agent"===e.type){const t=s.find(t=>ra(t)===e.id);if(t){const n={...e};delete n.id,delete n.data,delete n.type,delete n.parentId;const a=ar({...t,...n});l.push(a)}}}),Bi(e,l,a,o,r,c)},Bi=(e,t,n,a,o,r)=>{const i=t.map(e=>Gi(e,n)).map(e=>zi(e,a)).map(e=>_i(e,r,o));return"rag_user_proxy"===e?Vi(i,n):i},Gi=(e,t)=>(e.data.modelIds&&(e.data.modelIds=e.data.modelIds.filter(e=>t.includes(e))),e),zi=(e,t)=>{const n=t.filter(t=>e.data.tools.some(e=>e.id===t));return e.data.tools=e.data.tools.filter(e=>n.includes(e.id)),e},_i=(e,t,n)=>(e.data.nestedChats=e.data.nestedChats.filter(e=>e.triggeredBy.some(e=>n.includes(e)||t.includes(e))),e.data.nestedChats.forEach(e=>{e.messages=e.messages.filter(e=>n.includes(e.id)||t.includes(e.id))}),e),Vi=(e,t)=>e.map(e=>{if("data"in e&&"object"==typeof e.data&&"retrieveConfig"in e.data&&"object"==typeof e.data.retrieveConfig&&e.data.retrieveConfig&&"model"in e.data.retrieveConfig&&"string"==typeof e.data.retrieveConfig.model){const n=e.data.retrieveConfig.model;t.includes(n)||(e.data.retrieveConfig.model=null)}return e}),Hi=["model","tool","agent"],Wi=["user_proxy","assistant","rag_user_proxy"],Fi=e=>{if(!("type"in e)||"string"!=typeof e.type||!Hi.includes(e.type))return null;let t=ji(e);t&&"object"==typeof t||(t={x:20,y:20}),"x"in t&&"number"==typeof t.x||(t.x=20),"y"in t&&"number"==typeof t.y||(t.y=20);const n=Ui(e,e.type);return n?{type:e.type,position:t,data:n}:null},ji=e=>{if(!("position"in e)||"object"!=typeof e.position)return null;const t=e.position;return"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y?t:null},Ui=(e,t)=>{const n={};if("agent"===t){const t=e.data||{};if(!("agentType"in t)||"string"!=typeof t.agentType||!Wi.includes(t.agentType))return n;n.agentType=t.agentType}return n},Xi=(e,t)=>{if("data"in t&&"object"==typeof t.data&&t.data){const n=t.data;"label"in n&&"string"==typeof n.label&&(e.data.label=n.label)}},Zi=(e,t)=>{["models","tools"].forEach(n=>{if(!(n in e)||!Array.isArray(e[n]))return;const a=e[n];t.forEach(e=>{const t=a.find(t=>ra(t)===e.id);t&&Xi(e,t)})}),Ji(e,t)},Ji=(e,t)=>{if(!("agents"in e)||"object"!=typeof e.agents)return;const n=e.agents;t.forEach(e=>{"agent"===e.type&&Wi.forEach(t=>{const a=`${t}s`;a in n&&Array.isArray(n[a])&&n[a].forEach(n=>{if(e.id===n.id&&(e.data.agentType=t,Xi(e,n)),"data"in n&&"object"==typeof n.data&&n.data){const t=n.data;"parentId"in t&&"string"==typeof t.parentId&&(e.data.parentId=t.parentId)}})})})},Yi={importFlow:(e,t)=>{const n=ts(e);if(!n.type||"flow"!==n.type)return hi;const{id:a,storageId:o,name:r,description:i,tags:s,requirements:l,createdAt:c,updatedAt:d,rest:u}=(e=>{const t=ra(e),n=ia(e,"Waldiez Flow"),a=sa(e,"A waldiez flow"),o=la(e),r=ca(e),i=da(e),s=ua(e),l=pa(e,["id","storageId","name","description","tags","requirements","createdAt","updatedAt","data"]);return{id:t,storageId:Pi(e,t),name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,rest:l}})(n),p=n.data||n,g=t||a,m=qi(p);let h=o;return o===a&&"string"==typeof t&&(h=t),new gi({id:g,storageId:h,name:r,description:i,tags:s,requirements:l,data:m,createdAt:c,updatedAt:d,rest:u})},toReactFlow(e){const t=Ki(e),n=Qi(e);return{flowId:e.id,isAsync:e.data.isAsync??!1,cacheSeed:e.data.cacheSeed,storageId:e.storageId,name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt,edges:t,nodes:n,viewport:e.data.viewport||{zoom:1,position:{x:0,y:0}},...e.rest}},exportFlow:(e,t,n=!1)=>({id:e.flowId,type:"flow",version:"0.6.1",storageId:e.storageId,name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,createdAt:e.createdAt||/* @__PURE__ */(new Date).toISOString(),updatedAt:e.updatedAt||/* @__PURE__ */(new Date).toISOString(),data:$i(e,t,n)})},qi=e=>{const t=(e=>{let t=!1;return"isAsync"in e&&"boolean"==typeof e.isAsync&&(t=e.isAsync),t})(e),n=(e=>{let t=null;if("cacheSeed"in e)if("number"==typeof e.cacheSeed)t=parseInt(`${e.cacheSeed}`,10);else if(null===e.cacheSeed)t=null;else if("string"==typeof e.cacheSeed)try{const n=parseInt(e.cacheSeed,10);isNaN(n)||(t=n)}catch(n){}return t})(e),a=(e=>{let t={zoom:1,x:0,y:0};return"viewport"in e&&"object"==typeof e.viewport&&e.viewport&&"zoom"in e.viewport&&"x"in e.viewport&&"y"in e.viewport&&"number"==typeof e.viewport.zoom&&"number"==typeof e.viewport.x&&"number"==typeof e.viewport.y&&(t=e.viewport),t})(e),o=(e=>{const t=[];return"nodes"in e&&Array.isArray(e.nodes)?(e.nodes.forEach(e=>{const n=Fi(e);if(!n)return;const{type:a,position:o,data:r}=n;let i;"parentId"in e&&"string"==typeof e.parentId&&(i=e.parentId);const s=ra(e),l=pa(e,["id","type","parentId","data"]);delete l.position,t.push({id:s,type:a,position:{x:o.x,y:o.y},parentId:i,data:r,...l})}),Zi(e,t),t):t})(e);let r=(e=>{if(!("edges"in e)||!Array.isArray(e.edges))return[];const t=[];return e.edges.forEach(e=>{if(!("id"in e)||"string"!=typeof e.id)return;if(!("type"in e)||"string"!=typeof e.type||!br.includes(e.type))return;if(!("source"in e)||"string"!=typeof e.source)return;if(!("target"in e)||"string"!=typeof e.target)return;const n=pa(e,["id","type","source","target","data","hidden"]);t.push({id:e.id,type:e.type,source:e.source,target:e.target,hidden:"hidden"===e.type,data:{},...n})}),t})(e);const i=((e,t,n)=>{if(!("chats"in e)||!Array.isArray(e.chats))return{chats:[],edges:n};const a=[],o=[];return e.chats.forEach((e,r)=>{try{const{chat:i,edge:s}=qr(e,n,t,r);a.push(i),o.push(s)}catch(i){}}),{chats:a,edges:o}})(e,o,r);r=i.edges;const s=i.chats,l=((e,t)=>{const n=[];if(!("models"in e)||!Array.isArray(e.models))return n;const a=e.models;return t.forEach(e=>{if("model"===e.type){const t=a.find(t=>ra(t)===e.id);if(t){const a={...e};delete a.id,delete a.data,delete a.type,delete a.parentId;const o=yi({...t,...a});n.push(o)}}}),n})(e,o),c=((e,t)=>{const n=[];if(!("tools"in e)||!Array.isArray(e.tools))return n;const a=e.tools;return t.forEach(e=>{if("tool"===e.type){const t=a.find(t=>ra(t)===e.id);if(t){const a={...e};delete a.id,delete a.data,delete a.type,delete a.parentId;const o=Ni({...t,...a});n.push(o)}}}),n})(e,o),d=((e,t,n,a,o)=>{if(!("agents"in e)||"object"!=typeof e.agents)return{userProxyAgents:[],assistantAgents:[],ragUserProxyAgents:[],reasoningAgents:[],captainAgents:[],groupManagerAgents:[],docAgents:[]};const r=e.agents;return{userProxyAgents:Li("user_proxy",r,t,n,a,o),assistantAgents:Li("assistant",r,t,n,a,o),ragUserProxyAgents:Li("rag_user_proxy",r,t,n,a,o),reasoningAgents:Li("reasoning",r,t,n,a,o),captainAgents:Li("captain",r,t,n,a,o),groupManagerAgents:Li("group_manager",r,t,n,a,o),docAgents:Li("doc_agent",r,t,n,a,o)}})(e,o,l.map(e=>e.id),c.map(e=>e.id),r.map(e=>e.id));return new pi({nodes:o,edges:r,agents:d,models:l,tools:c,chats:s,isAsync:t,cacheSeed:n,viewport:a})},$i=(e,t,n)=>{const a=e.nodes||[],o=e.edges||[],r=a.filter(e=>"model"===e.type),i=a.filter(e=>"tool"===e.type),{userAgentNodes:s,assistantAgentNodes:l,docAgentNodes:c,ragUserNodes:d,reasoningAgentNodes:u,captainAgentNodes:p,groupManagerAgentNodes:g}=(e=>{const t=e.filter(e=>"agent"===e.type),n=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"user_proxy"===e.data.agentType),a=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"assistant"===e.data.agentType),o=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"rag_user_proxy"===e.data.agentType),r=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"reasoning"===e.data.agentType),i=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"captain"===e.data.agentType),s=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"group_manager"===e.data.agentType),l=t.filter(e=>"data"in e&&"object"==typeof e.data&&e.data&&"agentType"in e.data&&"doc_agent"===e.data.agentType);return{agentNodes:t,userAgentNodes:n,assistantAgentNodes:a,ragUserNodes:o,docAgentNodes:l,reasoningAgentNodes:r,captainAgentNodes:i,groupManagerAgentNodes:s}})(a);return new pi({nodes:a.map(e=>{const t={...e};return delete t.data,delete t.agentType,t}),edges:o.map(e=>{const t={...e};return delete t.data,t}),agents:{groupManagerAgents:g.map(e=>fi(e,a,o,n)),userProxyAgents:s.map(e=>fi(e,a,o,n)),assistantAgents:l.map(e=>fi(e,a,o,n)),ragUserProxyAgents:d.map(e=>fi(e,a,o,n)),reasoningAgents:u.map(e=>fi(e,a,o,n)),captainAgents:p.map(e=>fi(e,a,o,n)),docAgents:c.map(e=>fi(e,a,o,n))},models:r.map(e=>((e,t,n)=>{const a=vi(e,n),o=t.find(t=>t.id===e.id);return o&&Object.keys(o).forEach(e=>{["id","type","data"].includes(e)||delete a[e]}),a})(e,a,t)),tools:i.map(e=>((e,t,n)=>{const a=ki(e,n),o=t.find(t=>t.id===e.id);return o&&Object.keys(o).forEach(e=>{["id","type","data"].includes(e)||delete a[e]}),a})(e,a,t)),chats:o.map((e,t)=>((e,t,n)=>{const a=$r(e,n),o=t.find(t=>t.id===e.id);return o&&Object.keys(o).forEach(e=>{["id","data","type","source","target"].includes(e)||delete a[e]}),a})(e,o,t)),isAsync:e.isAsync,cacheSeed:e.cacheSeed,viewport:e.viewport,silent:e.silent||!1})},Qi=e=>{const t=[];return e.data.models.forEach(e=>{t.push(Ci(e))}),e.data.tools.forEach(e=>{t.push(Si(e))}),e.data.agents.groupManagerAgents?.forEach(e=>{t.push(rr(e))}),e.data.agents.userProxyAgents?.forEach(e=>{t.push(rr(e))}),e.data.agents.assistantAgents?.forEach(e=>{t.push(rr(e))}),e.data.agents.ragUserProxyAgents?.forEach(e=>{t.push(rr(e))}),e.data.agents.reasoningAgents?.forEach(e=>{t.push(rr(e))}),e.data.agents.captainAgents?.forEach(e=>{t.push(rr(e))}),e.data.agents.docAgents?.forEach(e=>{t.push(rr(e))}),t},Ki=e=>{const t=[];return e.data.chats.forEach(n=>{const a=Qr(n),{sourceHandle:o,targetHandle:r}=es(e,n);a.sourceHandle=o,a.targetHandle=r,t.push(a)}),t},es=(e,t)=>{let n,a;if(t.rest?.sourceHandle&&"string"==typeof t.rest.sourceHandle&&(n=t.rest.sourceHandle),t.rest?.targetHandle&&"string"==typeof t.rest.targetHandle&&(a=t.rest.targetHandle),!n||!a){const o=e.data.edges.find(e=>e.id===t.id);o&&(n=o.sourceHandle||n,a=o.targetHandle||a)}return n||(n=`agent-handle-right-source-${t.source}`),a||(a=`agent-handle-left-target-${t.target}`),{sourceHandle:n,targetHandle:a}},ts=e=>{let t={};if("string"==typeof e)try{t=JSON.parse(e)}catch(n){return{}}else"object"==typeof e&&(t=e);return t};void 0===Promise.withResolvers&&("undefined"!=typeof window?window.Promise.withResolvers=function(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}:global.Promise.withResolvers=function(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}});const ns=l(null),as={didCatch:!1,error:null};class os extends d{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=as}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:o,reason:"imperative-api"}),this.setState(as)}}componentDidCatch(e,t){var n,a;null===(n=(a=this.props).onError)||void 0===n||n.call(a,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:a}=this.props;var o,r;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,a)&&(null===(o=(r=this.props).onReset)||void 0===o||o.call(r,{next:a,prev:e.resetKeys,reason:"keys"}),this.setState(as))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:a}=this.props,{didCatch:o,error:r}=this.state;let i=e;if(o){const e={error:r,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)i=t(e);else if(n)i=u(n,e);else{if(void 0===a)throw r;i=a}}return u(ns.Provider,{value:{didCatch:o,error:r,resetErrorBoundary:this.resetErrorBoundary}},i)}}const rs=["shift","alt","meta","mod","ctrl","control"],is={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ss(e){return(is[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function ls(e){return rs.includes(e)}function cs(e,t=","){return e.toLowerCase().split(t)}function ds(e,t="+",n=">",a=!1,o){let r=[],i=!1;(e=e.trim()).includes(n)?(i=!0,r=e.toLocaleLowerCase().split(n).map(e=>ss(e))):r=e.toLocaleLowerCase().split(t).map(e=>ss(e));return{...{alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod"),useKey:a},keys:r.filter(e=>!rs.includes(e)),description:o,isSequence:i,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{void 0!==e.code&&gs([ss(e.code)])}),document.addEventListener("keyup",e=>{void 0!==e.code&&ms([ss(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{us.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{us.clear()},0)}));const us=/* @__PURE__ */new Set;function ps(e){return Array.isArray(e)}function gs(e){const t=Array.isArray(e)?e:[e];us.has("meta")&&us.forEach(e=>!ls(e)&&us.delete(e.toLowerCase())),t.forEach(e=>us.add(e.toLowerCase()))}function ms(e){const t=Array.isArray(e)?e:[e];"meta"===e?us.clear():t.forEach(e=>us.delete(e.toLowerCase()))}const hs=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function fs(e,t=!1){const{target:n,composed:a}=e;let o,r;return function(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}(n)&&a?(o=e.composedPath()[0]&&e.composedPath()[0].tagName,r=e.composedPath()[0]&&e.composedPath()[0].role):(o=n&&n.tagName,r=n&&n.role),ps(t)?!!(o&&t&&t.some(e=>e.toLowerCase()===o.toLowerCase()||e===r)):!!(o&&t&&t)}const bs=(e,t,n=!1)=>{const{alt:a,meta:o,mod:r,shift:i,ctrl:s,keys:l,useKey:c}=t,{code:d,key:u,ctrlKey:p,metaKey:g,shiftKey:m,altKey:h}=e,f=ss(d);if(c&&1===l?.length&&l.includes(u))return!0;if(!l?.includes(f)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(f))return!1;if(!n){if(a!==h&&"alt"!==f||i!==m&&"shift"!==f)return!1;if(r){if(!g&&!p)return!1}else if(o!==g&&"meta"!==f&&"os"!==f||s!==p&&"ctrl"!==f&&"control"!==f)return!1}return!(!l||1!==l.length||!l.includes(f))||(l?function(e,t=","){return(ps(e)?e:e.split(t)).every(e=>us.has(e.trim().toLowerCase()))}(l):!l)},ys=l(void 0);function vs({addHotkey:e,removeHotkey:t,children:n}){/* @__PURE__ */
return C(ys.Provider,{value:{addHotkey:e,removeHotkey:t},children:n})}function Cs(e,t){return e&&t&&"object"==typeof e&&"object"==typeof t?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,a)=>n&&Cs(e[a],t[a]),!0):e===t}const ws=l({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),xs=({initiallyActiveScopes:e=["*"],children:t})=>{const[n,a]=i(e),[o,s]=i([]),l=r(e=>{a(t=>t.includes("*")?[e]:Array.from(/* @__PURE__ */new Set([...t,e])))},[]),c=r(e=>{a(t=>t.filter(t=>t!==e))},[]),d=r(e=>{a(t=>t.includes(e)?t.filter(t=>t!==e):t.includes("*")?[e]:Array.from(/* @__PURE__ */new Set([...t,e])))},[]),u=r(e=>{s(t=>[...t,e])},[]),p=r(e=>{s(t=>t.filter(t=>!Cs(t,e)))},[]);/* @__PURE__ */
return C(ws.Provider,{value:{activeScopes:n,hotkeys:o,enableScope:l,disableScope:c,toggleScope:d},children:/* @__PURE__ */C(vs,{addHotkey:u,removeHotkey:p,children:t})})};const As=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},Is=typeof window<"u"?p:s;function Ns(e,t,n,a){const i=o(null),s=o(!1),l=Array.isArray(n)?Array.isArray(a)?void 0:a:n,d=ps(e)?e.join(l?.delimiter):e,u=Array.isArray(n)?n:Array.isArray(a)?a:void 0,p=r(t,u??[]),g=o(p);g.current=u?p:t;const m=function(e){const t=o(void 0);return Cs(t.current,e)||(t.current=e),t.current}(l),{activeScopes:h}=c(ws),f=c(ys);return Is(()=>{if(!1===m?.enabled||!function(e,t){return!(0!==e.length||!t)||!t||e.some(e=>t.includes(e))||e.includes("*")}(h,m?.scopes))return;let e,t=[];const n=(n,a=!1)=>{if(!function(e){return fs(e,hs)}(n)||fs(n,m?.enableOnFormTags)){if(null!==i.current){const e=i.current.getRootNode();if((e instanceof Document||e instanceof ShadowRoot)&&e.activeElement!==i.current&&!i.current.contains(e.activeElement))return void As(n)}n.target?.isContentEditable&&!m?.enableOnContentEditable||cs(d,m?.delimiter).forEach(o=>{if(o.includes(m?.splitKey??"+")&&o.includes(m?.sequenceSplitKey??">"))return;const r=ds(o,m?.splitKey,m?.sequenceSplitKey,m?.useKey,m?.description);if(r.isSequence){e=setTimeout(()=>{t=[]},m?.sequenceTimeoutMs??1e3);const a=r.useKey?n.key:ss(n.code);if(ls(a.toLowerCase()))return;t.push(a);const o=r.keys?.[t.length-1];if(a!==o)return t=[],void(e&&clearTimeout(e));t.length===r.keys?.length&&(g.current(n,r),e&&clearTimeout(e),t=[])}else if(bs(n,r,m?.ignoreModifiers)||r.keys?.includes("*")){if(m?.ignoreEventWhen?.(n)||a&&s.current)return;if(function(e,t,n){("function"==typeof n&&n(e,t)||!0===n)&&e.preventDefault()}(n,r,m?.preventDefault),!function(e,t,n){return"function"==typeof n?n(e,t):!0===n||void 0===n}(n,r,m?.enabled))return void As(n);g.current(n,r),a||(s.current=!0)}})}},a=e=>{void 0!==e.code&&(gs(ss(e.code)),(void 0===m?.keydown&&!0!==m?.keyup||m?.keydown)&&n(e))},o=e=>{void 0!==e.code&&(ms(ss(e.code)),s.current=!1,m?.keyup&&n(e,!0))},r=i.current||l?.document||document;return r.addEventListener("keyup",o,l?.eventListenerOptions),r.addEventListener("keydown",a,l?.eventListenerOptions),f&&cs(d,m?.delimiter).forEach(e=>f.addHotkey(ds(e,m?.splitKey,m?.sequenceSplitKey,m?.useKey,m?.description))),()=>{r.removeEventListener("keyup",o,l?.eventListenerOptions),r.removeEventListener("keydown",a,l?.eventListenerOptions),f&&cs(d,m?.delimiter).forEach(e=>f.removeHotkey(ds(e,m?.splitKey,m?.sequenceSplitKey,m?.useKey,m?.description))),t=[],e&&clearTimeout(e)}},[d,m,h]),i}const ks=[{animate:{rotate:[0,-10,10,0]},transition:{repeat:1/0,duration:2.2}},{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2.5,delay:.3}},{animate:{rotate:[0,6,-6,0]},transition:{repeat:1/0,duration:2.8,delay:.6}},{animate:{y:[0,8,0]},transition:{repeat:1/0,duration:2,delay:.9}},{animate:{rotate:[0,-8,8,0]},transition:{repeat:1/0,duration:3,delay:1.2}},{animate:{x:[0,7,-7,0]},transition:{repeat:1/0,duration:2.6,delay:1.5}}],Ss=[{src:zo.assistant,alt:"Assistant Waldiez"},{src:zo.rag_user_proxy,alt:"RAG Waldiez"},{src:zo.group_manager,alt:"Manager Waldiez"},{src:zo.reasoning,alt:"Reasoning Waldiez"},{src:zo.captain,alt:"Captain Waldiez"},{src:zo.user_proxy,alt:"User Waldiez"}],Ts=({error:e})=>/* @__PURE__ */w("div",{className:"waldiez-error-container","data-testid":"error-boundary",children:[
/* @__PURE__ */C("div",{className:"waldiez-bots-row",children:Ss.map((e,t)=>/* @__PURE__ */C(H.img,{src:e.src,alt:e.alt,className:"waldiez-bot-img",animate:ks[t]?.animate,transition:ks[t]?.transition,style:{zIndex:10+t}},e.alt))}),
/* @__PURE__ */C(H.div,{className:"waldiez-error-sign",initial:{opacity:0,scale:.9},animate:{opacity:[0,1,.7,1],scale:[.9,1.1,1]},transition:{repeat:1/0,repeatType:"reverse",duration:1.2,delay:.5},children:/* @__PURE__ */C("span",{children:"ðŸš¨ ERROR"})}),
/* @__PURE__ */w(H.div,{className:"waldiez-error-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.3},children:[
/* @__PURE__ */C("div",{className:"waldiez-error-title",children:"Oops, something went wrong!"}),
/* @__PURE__ */C("div",{className:"waldiez-error-desc",children:"The Waldiez team is on the case. Please wait while we investigate..."}),
/* @__PURE__ */C("div",{className:"waldiez-refresh-btn-container",children:/* @__PURE__ */C("button",{onClick:()=>window.location.reload(),className:"waldiez-refresh-btn",onMouseDown:e=>e.currentTarget.style.transform="scale(0.97)",onMouseUp:e=>e.currentTarget.style.transform="scale(1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"Refresh Page"})}),e&&/* @__PURE__ */w("div",{className:"waldiez-error-details",children:[
/* @__PURE__ */C("strong",{children:"Error:"})," ",e.message,e.stack&&/* @__PURE__ */C("pre",{children:e.stack})]})]})]});let Es=null;const Ms=e=>{if(!e.flowId){const t=document.querySelectorAll("[data-flow-id]");1===t.length&&(e.flowId=t[0]?.getAttribute("data-flow-id")||void 0)}Es&&Es(e)},Rs=l(void 0),Ds=({flowId:e,message:t,level:n="info",details:a,withCloseButton:o,onClose:r})=>{const[s,l]=i(null);if(p(()=>{l((e=>{const t=e=>{if(e.classList.contains("hidden"))return!1;const t=e.getBoundingClientRect();return t.width>0&&t.height>0},n=document.getElementById("modal-root")||document.body;if(e&&n){const a=Array.from(n.querySelectorAll(".modal .modal-content[data-flow-id]"));for(let n=a.length-1;n>=0;n--){const o=a[n];if(o&&o.dataset?.flowId===e&&t(o))return o}}return document.getElementById(`rf-root-${e}`)??document.getElementById(`${e}-modal`)??document.body})(e))},[e]),!s)return null;const c=a&&!("string"==typeof a&&a.length<=50);return j(
/* @__PURE__ */w("div",{className:`snackbar show ${n} ${a?"with-details":""}`,role:"alert","aria-live":"error"===n?"assertive":"polite",id:`${e}-snackbar`,"data-testid":"snackbar",children:[
/* @__PURE__ */C("div",{className:"message","data-testid":"snackbar-message",children:t}),a&&(c?/* @__PURE__ */w("details",{children:[
/* @__PURE__ */C("summary",{children:"Details"}),
/* @__PURE__ */C("div",{className:"details-content","data-testid":"snackbar-details",children:(e=>{if(e instanceof Error)return e.message;if("string"==typeof e)return e;if("object"==typeof e&&null!==e){if("detail"in e&&"string"==typeof e.detail)return e.detail;if("message"in e&&"string"==typeof e.message)return e.message;if("statusText"in e&&"string"==typeof e.statusText)return`Error: ${e.statusText}`;try{return JSON.stringify(e,null,2)}catch{return String(e)}}return"An unexpected error occurred."})(a)})]}):/* @__PURE__ */C("span",{className:"details-content","data-testid":"snackbar-details",children:a})),o&&/* @__PURE__ */C("button",{className:"close","aria-label":"Close notification",type:"button",onClick:r,"data-testid":"snackbar-close",children:"Ã—"})]}),s)},Os=({children:e})=>{const[t,n]=i({}),[a,l]=i({}),c=o({}),d=r(e=>{n(t=>{const n=Math.random().toString(36).slice(2),a=e.flowId||"default";return{...t,[a]:[...t[a]??[],{...e,id:n}]}})},[]);s(()=>(Es=d,()=>{Es=null}),[d]),s(()=>{Object.keys(t).forEach(e=>{!a[e]&&t[e]&&t[e].length>0&&(l(n=>({...n,[e]:t[e]?.[0]??null})),n(t=>({...t,[e]:t[e]?.slice(1)??[]})))})},[t,a]);const u=r(e=>{l(t=>({...t,[e]:null}))},[]);return s(()=>(Object.entries(a).forEach(([e,t])=>{if(!t)return;const{duration:n,withCloseButton:a}=t;a&&void 0===n||(c.current[e]&&clearTimeout(c.current[e]),c.current[e]=window.setTimeout(()=>{u(e)},n??3e3))}),()=>{Object.values(c.current).forEach(clearTimeout),c.current={}}),[a,u]),/* @__PURE__ */w(Rs.Provider,{value:{enqueueSnackbar:d},children:[e,Object.entries(a).map(([e,t])=>t?/* @__PURE__ */C(Ds,{...t,onClose:()=>u(e)},t.id):null)]})},Ps=e=>Symbol.iterator in e,Ls=e=>"entries"in e,Bs=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),a=t instanceof Map?t:new Map(t.entries());if(n.size!==a.size)return!1;for(const[o,r]of n)if(!a.has(o)||!Object.is(r,a.get(o)))return!1;return!0};function Gs(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&(Ps(e)&&Ps(t)?Ls(e)&&Ls(t)?Bs(e,t):((e,t)=>{const n=e[Symbol.iterator](),a=t[Symbol.iterator]();let o=n.next(),r=a.next();for(;!o.done&&!r.done;){if(!Object.is(o.value,r.value))return!1;o=n.next(),r=a.next()}return!!o.done&&!!r.done})(e,t):Bs({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})))}function zs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _s,Vs={exports:{}},Hs={},Ws={exports:{}},Fs={};var js,Us,Xs,Zs={};function Js(){return Us||(Us=1,"production"===process.env.NODE_ENV?Ws.exports=function(){if(_s)return Fs;_s=1;var e=t,n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=e.useState,o=e.useEffect,r=e.useLayoutEffect,i=e.useDebugValue;function s(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!n(e,a)}catch(o){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),l=a({inst:{value:n,getSnapshot:t}}),c=l[0].inst,d=l[1];return r(function(){c.value=n,c.getSnapshot=t,s(c)&&d({inst:c})},[e,n,t]),o(function(){return s(c)&&d({inst:c}),e(function(){s(c)&&d({inst:c})})},[e]),i(n),n};return Fs.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:l,Fs}():Ws.exports=(js||(js=1,"production"!==process.env.NODE_ENV&&function(){function e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(o){return!0}}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var n=t,a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,r=n.useEffect,i=n.useLayoutEffect,s=n.useDebugValue,l=!1,c=!1,d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(t,d){l||void 0===n.startTransition||(l=!0);var u=d();if(!c){var p=d();a(u,p)||(c=!0)}var g=(p=o({inst:{value:u,getSnapshot:d}}))[0].inst,m=p[1];return i(function(){g.value=u,g.getSnapshot=d,e(g)&&m({inst:g})},[t,u,d]),r(function(){return e(g)&&m({inst:g}),t(function(){e(g)&&m({inst:g})})},[t]),s(u),u};Zs.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Zs)),Ws.exports}var Ys,qs,$s={};const Qs=/* @__PURE__ */zs((qs||(qs=1,"production"===process.env.NODE_ENV?Vs.exports=function(){if(Xs)return Hs;Xs=1;var e=t,n=Js(),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,r=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Hs.useSyncExternalStoreWithSelector=function(e,t,n,c,d){var u=r(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=s(function(){function e(e){if(!i){if(i=!0,o=e,e=c(e),void 0!==d&&p.hasValue){var t=p.value;if(d(t,e))return r=t}return r=e}if(t=r,a(o,e))return t;var n=c(e);return void 0!==d&&d(t,n)?(o=e,t):(o=e,r=n)}var o,r,i=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,n,c,d]);var g=o(e,u[0],u[1]);return i(function(){p.hasValue=!0,p.value=g},[g]),l(g),g},Hs}():Vs.exports=(Ys||(Ys=1,"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e=t,n=Js(),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,r=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;$s.useSyncExternalStoreWithSelector=function(e,t,n,c,d){var u=r(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=s(function(){function e(e){if(!i){if(i=!0,o=e,e=c(e),void 0!==d&&p.hasValue){var t=p.value;if(d(t,e))return r=t}return r=e}if(t=r,a(o,e))return t;var n=c(e);return void 0!==d&&d(t,n)?(o=e,t):(o=e,r=n)}var o,r,i=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,n,c,d]);var g=o(e,u[0],u[1]);return i(function(){p.hasValue=!0,p.value=g},[g]),l(g),g},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),$s)),Vs.exports)),{useSyncExternalStoreWithSelector:Ks}=Qs,el=e=>e;function tl(e,n=el,a){const o=Ks(e.subscribe,e.getState,e.getInitialState,n,a);return t.useDebugValue(o),o}const nl=l(null);function al(e,t){const n=c(nl);if(!n)throw new Error("Missing WaldiezContext.Provider in the tree");return tl(n,e,Gs)}const ol={Date:!0,RegExp:!0,String:!0,Number:!0};function rl(e,t,n={cyclesFix:!0},a=[]){let o=[];const r=Array.isArray(e);for(const s in e){const i=e[s],l=r?+s:s;if(!(s in t)){o.push({type:"REMOVE",path:[l],oldValue:e[s]});continue}const c=t[s],d="object"==typeof i&&"object"==typeof c&&Array.isArray(i)===Array.isArray(c);!(i&&c&&d)||ol[Object.getPrototypeOf(i)?.constructor?.name]||n.cyclesFix&&a.includes(i)?i===c||Number.isNaN(i)&&Number.isNaN(c)||d&&(isNaN(i)?i+""==c+"":+i===+c)||o.push({path:[l],type:"CHANGE",value:c,oldValue:i}):o.push.apply(o,rl(i,c,n,n.cyclesFix?a.concat([i]):[]).map(e=>(e.path.unshift(l),e)))}const i=Array.isArray(t);for(const s in t)s in e||o.push({type:"CREATE",path:[i?+s:s],value:t[s]});return o}const il=(e,t,n,a)=>{let o,r;return t.target!==e||a.targetsOnly||(r=n.find(e=>e.id===t.source)),t.source!==e||a.sourcesOnly||(o=n.find(e=>e.id===t.target)),{sourceNode:r,targetNode:o}},sl=(e,t,n,a={x:200,y:140})=>{const o=wn(t);if(!o)return{x:0,y:0};const r=o.querySelector(".react-flow-wrapper");return r?((e,t,n,a)=>{const o=e?.getZoom()??1,r=t.getBoundingClientRect().width/o,i=Math.floor(r/(1.1*a.x)),s=n%i*a.x;let l=Math.floor(n/i)*a.y;return 0===l?l+=10:l-=5,{x:s,y:l}})(n,r,e,a):{x:0,y:0}},ll=e=>{if(e){const t=e.getZoom();e.setViewport({zoom:t,x:20,y:40}).then(()=>{})}},cl=(e,t,n,a)=>{let o=0;const r=[];return e.forEach(e=>{if(e.type===n){const n=sl(o,t,a);r.push({...e,position:n}),o++}else r.push(e)}),r},dl=(e,t)=>({markerEnd:"nested"!==e?{type:A.ArrowClosed,color:t,width:10,height:10}:void 0,style:{stroke:t,strokeWidth:1}}),ul=(e,t)=>`${e.data.label.slice(0,15)} => ${t.data.label.slice(0,15)}`,pl=e=>{const{flowId:t,hidden:n,positionGetter:a,sourceNode:o,targetNode:r,edges:i}=e;if(((e,t)=>void 0!==e.data.parentId||void 0!==t.data.parentId||"group_manager"===e.data.agentType||"group_manager"===t.data.agentType)(o,r)&&((e,t,n,a)=>{if("string"!=typeof e.data.agentType||"string"!=typeof t.data.agentType)return Ms({flowId:a,message:`Could not create a connection from ${e.data.label} to ${t.data.label}`,level:"warning",details:"Invalid agent type",withCloseButton:!0}),!0;if(!e.data.parentId&&!["user_proxy","rag_user_proxy","group_manager"].includes(e.data.agentType))return Ms({flowId:a,message:`Invalid source agent type: ${o=e.data.agentType,o.replace(/([A-Z])/g," $1").replace(/([0-9])/g," $1").replace(/_/g," ").replace(/-/g," ").trim().toLowerCase().split(" ").map(e=>Nn(e)).join(" ")}`,level:"warning",details:void 0,withCloseButton:!0}),!0;var o;if(!e.data.parentId&&t.data.parentId)return Ms({flowId:a,message:"A connection from a non-group member to a group member is not allowed",level:"warning",details:void 0,withCloseButton:!0}),!0;if("group_manager"===t.data.agentType&&n.filter(e=>e.target===t.id).length>0)return Ms({flowId:a,message:"A connection to this group manager already exists",level:"warning",details:void 0,withCloseButton:!0}),!0;return!1})(o,r,i,t))return null;const s=o.data.agentType,{chat:l,chatType:c}=gl(o,r,n,a),d=Qr(l),u=Oo[s];return{...d,type:c,animated:!!o.data.parentId&&!r.data.parentId,selected:!0,...dl(c,u)}},gl=(e,t,n,a)=>{const o=ul(e,t),r=e.data.agentType,i=t.data.agentType,s=new hr;s.sourceType=r,s.targetType=i,s.description=`${e.data.label} to ${t.data.label}`,s.condition={conditionType:"string_llm",prompt:""},s.name=o,s.order=-1;const l=((e,t,n)=>n?"hidden":"group_manager"===e.data.agentType||"group_manager"===t.data.agentType||void 0!==e.data.parentId||void 0!==t.data.parentId?"group":"chat")(e,t,n);s.position=a(l);return{chat:new fr({id:`wc-${Zt()}`,data:s,type:l,source:e.id,target:t.id,rest:{}}),chatType:l}},ml=(e,t)=>{const n=e.filter(e=>e.type===t),a={};return n.forEach(e=>{a[e.source]||(a[e.source]=[]),a[e.source]?.push(e)}),n.map((e,t)=>({...e,data:{...e.data,position:t+1}}))},hl=(e,t)=>{yl(e,t),bl(e,t)},fl=(e,t,n)=>{const a=/* @__PURE__ */(new Date).toISOString(),o=new Map(e.map(e=>[e.id,e])),r=t=>t.data&&t.data.prerequisites&&0!==t.data.prerequisites.length?Math.max(...t.data.prerequisites.map(t=>{const n=e.find(e=>e.id===t);return n?.data?.order??0}))+1:0;let i=!0;for(;i;){i=!1;for(const t of e){const e=r(t);o.get(t.id).data?.order!==e&&(o.get(t.id).data.order=e,i=!0)}}const s=Array.from(o.values()),l=t().edges.filter(e=>!s.find(t=>t.id===e.id)).map(e=>({...e,data:{...e.data,order:-1,prerequisites:[]}}));n({edges:[...s,...l],updatedAt:a})},bl=(e,t)=>{e().isAsync?((e,t)=>{const n=e().edges.filter(e=>void 0!==e.data?.order&&e.data.order>=0);fl(n,e,t)})(e,t):((e,t)=>{const n=e().edges.slice().sort((e,t)=>(e.data?.order??-1)-(t.data?.order??-1)),a=/* @__PURE__ */new Set;t({edges:n.map(e=>{let t=e.data?.order;if(!t||t<0)return{...e,data:{...e.data,order:t}};for(;t>0&&a.has(t);)t++;return a.add(t),{...e,data:{...e.data,order:t}}}),updatedAt:/* @__PURE__ */(new Date).toISOString()})})(e,t)},yl=(e,t)=>{const n=e().edges.map(e=>({...e,data:{...e.data,position:1}})),a=(e=>ml(e,"chat"))(n),o=(e=>ml(e,"nested"))(n),r=(e=>ml(e,"hidden"))(n),i=(e=>ml(e,"group"))(n),s=[...a,...o,...r,...i],l=s.map(e=>e.id),c=Array.from(new Set(l));t({edges:s.filter(e=>c.includes(e.id)),updatedAt:/* @__PURE__ */(new Date).toISOString()}),((e,t)=>{const n=e().nodes.filter(e=>"agent"===e.type),a=[],o=[];n.forEach(t=>{(t.data.nestedChats??[]).forEach(t=>{const n=t.messages;let r=0;n.forEach(t=>{const n=e().edges.find(e=>e.id===t.id);n&&"nested"===n.type&&!o.includes(n.id)&&(a.push({...n,data:{...n.data,position:r+1}}),o.push(n.id),r++)})})}),t({edges:[...e().edges.filter(e=>!o.includes(e.id)),...a],updatedAt:/* @__PURE__ */(new Date).toISOString()})})(e,t)},vl=(e,t)=>Array.from(/* @__PURE__ */new Set([...e,...t])),Cl=(e,t)=>Array.from(/* @__PURE__ */new Set([...e,...t])),wl=(e,t,n)=>{if(0===e.length&&0===t.length)return n.map(t=>{const n=Nl(t,e),a="hidden"===t.type;return{...t,animated:n,hidden:a}});const a=n.map(e=>({...e,data:{...e.data,order:-1}})).filter(e=>!t.find(t=>t.id===e.id));return[...t,...a].map(t=>{const n=Nl(t,e),a="hidden"===t.type;return{...t,animated:n,hidden:a}})},xl=(e,t,n)=>{const a=t.filter(t=>!e.find(e=>e.id===t.id));return[...e,...a].map(e=>e.type===n?{...e,hidden:!1}:{...e,hidden:!0})},Al=(e,t,n,a)=>0===n.length&&0===a.length?t:e,Il=(e,t,n,a,o)=>{e.name&&(o.name=n.name),e.description&&(o.description=n.description),e.tags&&(o.tags=vl(t.tags,n.tags)),e.requirements&&(o.requirements=Cl(t.requirements,n.requirements)),e.isAsync&&(o.isAsync=n.isAsync??t.isAsync),e.cacheSeed&&(o.cacheSeed=n.cacheSeed??t.cacheSeed??42);const r=[...e.nodes.models,...e.nodes.tools,...e.nodes.agents].map(e=>e.id),i=n.nodes.filter(e=>r.includes(e.id)),s=e.override?i:xl(t.nodes,i,a);o.nodes=s,o.edges=e.override?n.edges:wl(s,t.edges,n.edges)},Nl=(e,t)=>{if("nested"===e.type)return!0;t.find(t=>t.id===e.source),t.find(t=>t.id===e.target);return!1},kl=(e,t)=>{const n=cl(e().nodes,e().flowId,"model",e().rfInstance);return t({nodes:n,updatedAt:/* @__PURE__ */(new Date).toISOString()}),n},Sl=(e,t)=>{const n=cl(e().nodes,e().flowId,"tool",e().rfInstance);return t({nodes:n,updatedAt:/* @__PURE__ */(new Date).toISOString()}),n};class Tl{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new Tl(e,t)}getAgents=()=>this.get().nodes.filter(e=>"agent"===e.type);getAgentById=e=>{const t=this.get().nodes.find(t=>t.id===e);return t&&"agent"===t.type?t:null};addAgent=(e,t,n)=>{const a=((e,t,n)=>{const a=Sn.create(e),o=rr(a,t);if(o.data.parentId=n,"rag_user_proxy"===e){const e=new jn;o.data={...o.data,...e}}else if("reasoning"===e){const e=new Zn;o.data={...o.data,...e}}else if("captain"===e){const e=new Gn;o.data={...o.data,...e}}else if("group_manager"===e){const e=new Hn;e.groupName="Group",o.data={...o.data,...e}}return n&&(o.parentId=n,o.extent="parent"),o})(e,t,n);return a.style={width:"group_manager"===e?tr.width:"user_proxy"!==e?nr.width:er.width},"group_manager"===e?this.set({nodes:[a,...this.get().nodes],updatedAt:/* @__PURE__ */(new Date).toISOString()}):this.set({nodes:[...this.get().nodes,a],updatedAt:/* @__PURE__ */(new Date).toISOString()}),a};cloneAgent=e=>{const t=this.get().nodes.find(t=>t.id===e);if(t){const e=t.data.label+" (copy)",n={x:t.position.x+(t.width??100)+40,y:t.position.y+(t.height??100)+40},a={...t,position:n,id:Zt(),data:{...t.data,label:e}};return this.set({nodes:[...this.get().nodes,a],updatedAt:/* @__PURE__ */(new Date).toISOString()}),setTimeout(()=>{this.set({nodes:this.get().nodes.map(e=>e.id===a.id?{...e,selected:!0}:{...e,selected:!1})})},10),a}return null};updateAgentData=(e,t)=>{this.set({nodes:this.get().nodes.map(n=>n.id===e?(t.parentId!==n.data.parentId&&(n.parentId=t.parentId??void 0,n.extent=t.parentId?"parent":void 0),{...n,data:{...n.data,...t}}):n),updatedAt:/* @__PURE__ */(new Date).toISOString()}),hl(this.get,this.set)};deleteAgent=e=>{const t=this.get().nodes.find(t=>t.id===e);if(t){const n=[e],a=[];if("group_manager"===t.data.agentType){const t=this.getGroupMembers(e);a.push(...t.map(e=>e.id))}this.set({nodes:this.get().nodes.filter(e=>!n.includes(e.id)).map(e=>(a.includes(e.id)&&(e.parentId=void 0,e.data.parentId=void 0,e.extent=void 0),e)),edges:this.get().edges.filter(e=>!n.includes(e.source)&&!n.includes(e.target)).map(e=>a.includes(e.source)||a.includes(e.target)?{...e,animated:!1,type:"chat"}:e),updatedAt:/* @__PURE__ */(new Date).toISOString()})}else this.set({nodes:this.get().nodes.filter(t=>t.id!==e),edges:this.get().edges.filter(t=>t.source!==e&&t.target!==e),updatedAt:/* @__PURE__ */(new Date).toISOString()});hl(this.get,this.set)};importAgent=(e,t,n,a,o=!0)=>{const r=ar(e,t),i=rr(r,a,n);return a&&(i.position=a),o&&this.set({nodes:[...this.get().nodes,{...i}],updatedAt:/* @__PURE__ */(new Date).toISOString()}),i};exportAgent=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);return n?or(n,t):{}};getAgentConnections=(e,t)=>(t||(t={sourcesOnly:!1,targetsOnly:!1}),((e,t,n,a)=>{a||(a={sourcesOnly:!1,targetsOnly:!1});const o=[],r=[],i=[],s=[];for(const l of t){const{sourceNode:t,targetNode:c}=il(n,l,e,a);t&&(o.push(t),r.push(l)),c&&(i.push(c),s.push(l))}return{sources:{nodes:o,edges:r},targets:{nodes:i,edges:s}}})(this.get().nodes,this.get().edges,e,t));setAgentGroup=(e,t,n)=>{this.set({nodes:this.get().nodes.map(a=>a.id===e?{...a,position:n??a.position,parentId:t,extent:"parent",data:{...a.data,parentId:t}}:a),updatedAt:/* @__PURE__ */(new Date).toISOString()})};getGroupMembers=e=>this.get().nodes.filter(t=>"agent"===t.type&&t.data.parentId===e);addGroupMember=(e,t,n)=>{this.set({nodes:this.get().nodes.map(a=>a.id===t?{...a,position:n||a.position,parentId:e,extent:"parent",data:{...a.data,parentId:e}}:a),updatedAt:/* @__PURE__ */(new Date).toISOString()}),hl(this.get,this.set)};removeGroupMember=(e,t)=>{const n=[...this.get().nodes.map(n=>(n.id===t&&n.data.parentId===e&&(n.data.parentId=void 0,n.parentId=void 0,n.extent=void 0,n.position={x:n.position.x+50,y:n.position.y+50}),{...n}))];this.set({nodes:n,updatedAt:/* @__PURE__ */(new Date).toISOString()}),hl(this.get,this.set)};getGroupManager=()=>{const e=this.get().nodes.filter(e=>"agent"===e.type).find(e=>"group_manager"===e.data.agentType);if(e)return e}}class El{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new El(e,t)}setActiveParticipants=(e,t)=>{const{activeSenderId:n,activeRecipientId:a}=this.get();n===e&&a===t||this.set({activeSenderId:e,activeRecipientId:t})};resetActiveParticipants=()=>{const{activeSenderId:e,activeRecipientId:t}=this.get();null===e&&null===t||this.set({activeSenderId:null,activeRecipientId:null})};setActiveEventType=e=>{this.set({activeEventType:e})};resetActiveEventType=()=>{this.set({activeEventType:null})}}class Ml{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new Ml(e,t)}getEdges=()=>this.get().edges;getEdgeById=e=>this.get().edges.find(t=>t.id===e);deleteEdge=e=>{const t=this.get().nodes.filter(e=>"agent"===e.type),n=[...this.get().nodes.filter(e=>"agent"!==e.type),...t.map(t=>{const n=t.data.nestedChats??[];return{...t,data:{...t.data,nestedChats:n.map(t=>({...t,messages:t.messages.filter(t=>t.id!==e),triggeredBy:t.triggeredBy}))}}})],a=this.get().edges.filter(t=>t.id!==e);this.set({nodes:n,edges:a.map((e,t)=>({...e,data:{...e.data,position:t+1}})),updatedAt:/* @__PURE__ */(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};updateEdgeData=(e,t)=>{const n=this.get().edges.find(t=>t.id===e);if(n){const a={...n,data:{...n.data,...t}},o=this.get().edges.map(t=>t.id===e?a:t);this.set({edges:o,updatedAt:/* @__PURE__ */(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()}};updateEdgeType=(e,t)=>{this.set({edges:this.get().edges.map(n=>{if(n.id===e){const a=this.get().nodes.find(e=>e.id===n.source);if(!a)throw new Error(`Source node not found for edge ${e}`);const o=Oo[a.data.agentType];return{...n,type:t,hidden:!1,data:{...n.data,type:t,order:"nested"===t?-1:n.data?.order??-1,prerequisites:"nested"===t?[]:n.data?.prerequisites??[]},animated:"nested"===t,...dl(t,o)}}return n}),updatedAt:/* @__PURE__ */(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};updateEdgePath=(e,t)=>{const n=this.get().edges.find(t=>t.id===e);if(!n)return;const a=n.type,o=Oo[t],{style:r,markerEnd:i}=dl(a,o);this.set({edges:this.get().edges.map(t=>t.id===e?{...t,style:r,markerEnd:i}:{...t}),updatedAt:/* @__PURE__ */(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};addEdge=e=>{const{flowId:t,connection:n,hidden:a}=e,o=this.get().nodes,r=this.get().edges,{source:i,target:s,sourceHandle:l,targetHandle:c}=n,{sourceNode:d,targetNode:u}=((e,t,n)=>{const a=e.find(e=>e.id===t);if(!a)return{sourceNode:null,targetNode:null};const o=e.find(e=>e.id===n);return o?{sourceNode:a,targetNode:o}:{sourceNode:null,targetNode:null}})(o,i,s);if(!d||!u)return null;const p=pl({flowId:t,hidden:a,sourceNode:d,targetNode:u,positionGetter:e=>r.filter(t=>t.type===e).length,edges:r});if(!p)return null;this.set({edges:[...this.get().edges,{...p,sourceHandle:l,targetHandle:c}],updatedAt:/* @__PURE__ */(new Date).toISOString()}),this.resetEdgeOrdersAndPositions();return this.get().edges.find(e=>e.id===p.id)??p};onEdgeDoubleClick=(e,t)=>{if(Array.from(document.querySelectorAll(".modal-root .modal")).filter(e=>null!==e.querySelector(".modal-content").offsetParent).length>0)return;const n=wn(this.get().flowId);if(n){const e=n.querySelector(`[data-edge-node-id="${t.source}"]`);if(e)e.setAttribute("data-edge-id",t.id),e.click();else{const e=n.querySelector(`[data-edge-node-id="${t.target}"]`);e&&(e.setAttribute("data-edge-id",t.id),e.click())}}};getEdgeSourceAgent=e=>{const t=this.get().nodes.find(t=>t.id===e.source);if(t&&"agent"===t.type)return t};getEdgeTargetAgent=e=>{const t=this.get().nodes.find(t=>t.id===e.target);if(t&&"agent"===t.type)return t};onReconnect=(e,t)=>{const n=this.get().nodes;if(!((e,t)=>{const n=t.find(t=>t.id===e.target);return!(!t.find(t=>t.id===e.source)||!n)})(t,n))return;const{oldSourceNode:a,oldTargetNode:o,newSourceNode:r,newTargetNode:i,color:s}=((e,t,n)=>{let a,o,r,i,s;for(const l of n)if(l.id===e.source&&(a=l),l.id===e.target&&(o=l),l.id===t.source&&(r=l,s=Oo[r.data.agentType]),l.id===t.target&&(i=l),a&&o&&r&&i)break;return{oldSourceNode:a,oldTargetNode:o,newSourceNode:r,newTargetNode:i,color:s}})(e,t,n);if(!(a&&o&&r&&i))return;if(!s)return!1;const l=e.data?.label;e.data&&l===`${a.data.agentType} => ${o.data.agentType}`&&(e.data.label=ul(r,i)),this.set({edges:[...this.get().edges.map(n=>n.id!==e.id?n:{...e,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle,...dl(e.type,s),data:{...n.data,realSource:r.id,realTarget:i.id,sourceType:r.data.agentType,targetType:i.data.agentType}})],updatedAt:/* @__PURE__ */(new Date).toISOString()}),this.resetEdgeOrdersAndPositions()};onEdgesChange=e=>{const t=I(e,this.get().edges);this.set({edges:t,updatedAt:/* @__PURE__ */(new Date).toISOString()})};resetEdgeOrdersAndPositions=()=>{hl(this.get,this.set)}}class Rl{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new Rl(e,t)}getViewport=()=>this.get().viewport;getRfInstance=()=>this.get().rfInstance;setRfInstance=e=>{const t=this.get().rfInstance;this.set({rfInstance:e}),t||(kl(this.get,this.set),Sl(this.get,this.set))};getFlowInfo=()=>{const{flowId:e,storageId:t,name:n,description:a,tags:o,requirements:r,createdAt:i,updatedAt:s,isAsync:l,cacheSeed:c}=this.get();return{flowId:e,storageId:t??e,name:n??"Untitled Flow",description:a??"A new Waldiez flow",tags:o??[],requirements:r??[],createdAt:i,updatedAt:s,isAsync:l??!1,cacheSeed:void 0!==c?c:42}};onFlowChanged=()=>{const{onChange:e}=this.get(),t=this.exportFlow(!1);return e&&e(JSON.stringify(t)),t};getFlowEdges=()=>{const e=this.get().edges.filter(e=>"chat"===e.type),t=[],n=[];e.forEach(e=>{let a;a="number"==typeof e.data?.order?e.data.order:-1,a>=0?t.push(e):n.push(e)});return{used:t.sort((e,t)=>(e.data?.order??0)-(t.data?.order??0)),remaining:n}};saveFlow=()=>{const{onSave:e}=this.get();if("function"==typeof e){const t=this.exportFlow(!1);e(JSON.stringify(t))}};onViewportChange=(e,t)=>{if("model"===t||"tool"===t){if(e.zoom!==this.get().viewport?.zoom){const{nodes:n,rfInstance:a,flowId:o}=this.get();this.set({nodes:cl(n,o,t,a),updatedAt:/* @__PURE__ */(new Date).toISOString()}),setTimeout(()=>{ll(this.get().rfInstance),this.set({viewport:e})},100)}}else this.set({viewport:e})};importFlow=(e,t,n)=>{const{storageId:a,name:o,description:r,tags:i,requirements:s,nodes:l,edges:c,isAsync:d,rfInstance:u}=this.get(),p={name:o??"Untitled Flow",description:r??"A new Waldiez flow",tags:i??[],requirements:s??[],nodes:l,edges:c,isAsync:d??!1},{name:g,createdAt:m,description:h,tags:f,requirements:b,isAsync:y,nodes:v,edges:C}=((e,t,n,a)=>{let o=e.override?{...n,nodes:[],edges:[]}:{...t};if(e.everything){const c=e.override?n.nodes:xl(t.nodes,n.nodes,a);o=e.override?n:{...o,name:(r=t.name,i=n.name,s=t.nodes,l=t.edges,0===s.length&&0===l.length?i:r),description:Al(t.description,n.description,t.nodes,t.edges),tags:vl(t.tags,n.tags),requirements:Cl(t.requirements,n.requirements),isAsync:n.isAsync??t.isAsync,cacheSeed:n.cacheSeed??t.cacheSeed??null,nodes:c,edges:wl(c,t.edges,n.edges)}}else Il(e,t,n,a,o);var r,i,s,l;return o})(e,p,t,n);this.set({name:g,description:h,tags:f,requirements:b,isAsync:y,storageId:a??`wf-${Zt()}`,createdAt:m??/* @__PURE__ */(new Date).toISOString(),updatedAt:/* @__PURE__ */(new Date).toISOString(),nodes:v,edges:C}),hl(this.get,this.set),kl(this.get,this.set),Sl(this.get,this.set),setTimeout(()=>{u?.fitView({includeHiddenNodes:!1,padding:.2,duration:100})},200)};exportFlow=e=>{const{isAsync:t,cacheSeed:n,viewport:a,rfInstance:o,name:r,description:i,tags:s,requirements:l,createdAt:c,updatedAt:d,flowId:u,storageId:p}=this.get(),g={nodes:this.get().nodes,edges:this.get().edges,viewport:o?.getViewport()??a??{zoom:1,x:20,y:20},name:r??"Untitled Flow",description:i??"A new Waldiez flow",tags:s??[],requirements:l??[],createdAt:c??/* @__PURE__ */(new Date).toISOString(),updatedAt:d??/* @__PURE__ */(new Date).toISOString(),flowId:u,storageId:p??u,isAsync:t??!1,cacheSeed:n};return Yi.exportFlow(g,e,!1)};updateFlowOrder=e=>{const t=/* @__PURE__ */(new Date).toISOString();this.set({edges:this.get().edges.map(t=>{const n=e.find(e=>e.id===t.id)?.order??t.data?.order??-1;return{...t,data:{...t.data,order:n}}}),updatedAt:t})};updateFlowPrerequisites=e=>{fl(e,this.get,this.set)};updateFlowInfo=e=>{this.set({name:e.name,description:e.description,tags:e.tags,requirements:e.requirements,updatedAt:/* @__PURE__ */(new Date).toISOString(),isAsync:e.isAsync,cacheSeed:e.cacheSeed})}}class Dl{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new Dl(e,t)}getModels=()=>this.get().nodes.filter(e=>"model"===e.type);getModelById=e=>{const t=this.get().nodes.find(t=>t.id===e);return t&&"model"===t.type?t:null};addModel=()=>{const e=this.get().nodes.filter(e=>"model"===e.type).length,t=this.get().flowId,n=this.get().rfInstance,a=sl(e,t,n),o=ni.create(),r=Ci(o,a);this.set({nodes:[...this.get().nodes,{...r,type:"model"}],updatedAt:/* @__PURE__ */(new Date).toISOString()}),kl(this.get,this.set),ll(n);return this.get().nodes.find(e=>e.id===r.id)};cloneModel=e=>{const t=this.get().nodes.find(t=>t.id===e);if(!t||"model"!==t.type)return null;const n=this.get().rfInstance;kl(this.get,this.set),ll(n);const a=t.data.label+" (copy)",o=this.getClonedModel(e,n);o.data.label=a,this.set({nodes:[...this.get().nodes.map(t=>t.id===e?{...t,selected:!1}:t),{...o,type:"model",selected:!0}],updatedAt:/* @__PURE__ */(new Date).toISOString()}),kl(this.get,this.set),ll(n);return this.get().nodes.find(e=>e.id===o.id)};updateModelData=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);if(!n||"model"!==n.type)return;const a=/* @__PURE__ */(new Date).toISOString();this.set({nodes:[...this.get().nodes.map(n=>n.id===e?{...n,data:{...n.data,...t,updatedAt:a}}:n)],updatedAt:a})};deleteModel=e=>{const t=this.get().rfInstance,n=this.getNodesAfterModelDeletion(e,t);this.set({nodes:n,updatedAt:/* @__PURE__ */(new Date).toISOString()}),kl(this.get,this.set),ll(t)};importModel=(e,t,n,a=!0)=>{const o=yi(e),r=Ci(o,n);return r.id=t,n&&(r.position=n),a&&this.set({nodes:this.get().nodes.map(e=>e.id===t?r:e)}),r};exportModel=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);if(!n||"model"!==n.type)throw new Error(`Model with id ${e} not found`);return vi(n,t)};getClonedModel=(e,t)=>{if(!this.get().nodes.find(t=>t.id===e))throw new Error(`Model with id ${e} not found`);const n=this.get().nodes.filter(e=>"model"===e.type).length,a=this.get().flowId,o=sl(n,a,t),r=ni.create();return Ci(r,o)};getNodesAfterModelDeletion=(e,t)=>{const n=this.get().nodes.filter(t=>"model"===t.type&&t.id!==e),a=n.length,o=this.get().flowId;for(let s=0;s<a;s++){const e=n[s],a=sl(s,o,t);n[s]={...e,id:e?.id||`wa-${Zt()}`,data:e?.data||{},position:a}}const r=n.concat(this.get().nodes.filter(e=>"model"!==e.type)),i=[];return r.forEach(t=>{if("agent"===t.type){const n=t;n.data.modelIds.includes(e)?i.push({...n,data:{...n.data,modelIds:n.data.modelIds.filter(t=>t!==e)}}):i.push(n)}else i.push(t)}),i}}class Ol{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new Ol(e,t)}showNodes=e=>{"agent"!==e?(this.isShowingAgents()&&this.storePreviousViewport(),ll(this.get().rfInstance)):this.restorePreviousViewport(),this.set({nodes:this.get().nodes.map(t=>t.type===e?{...t,hidden:!1}:{...t,hidden:!0})})};isShowingAgents=()=>this.get().nodes.some(e=>"agent"===e.type&&!1===e.hidden);storePreviousViewport=()=>{const e=this.get().rfInstance;let t;t=e?{x:e.getViewport().x,y:e.getViewport().y,zoom:e.getViewport().zoom}:this.get().viewport,this.set({previousViewport:t,updatedAt:/* @__PURE__ */(new Date).toISOString()})};restorePreviousViewport=()=>{const e=this.get().previousViewport;if(e){this.set({viewport:e,updatedAt:/* @__PURE__ */(new Date).toISOString()});const t=this.get().rfInstance;t&&t.setViewport(e)}};onNodesChange=e=>{const t=N(e,this.get().nodes);this.set({nodes:t,updatedAt:/* @__PURE__ */(new Date).toISOString()})};onNodeDoubleClick=(e,t)=>{if(Array.from(document.querySelectorAll(".modal-root .modal")).filter(e=>null!==e.querySelector(".modal-content").offsetParent).length>0)return;const n=this.get().flowId,a=wn(n);if(a){const e=a.querySelector(`[data-node-id="${t.id}"]`);e&&e.click()}};reselectNode=e=>{const t=this.get().nodes.find(t=>t.id===e);t&&(t.selected&&this.set({nodes:this.get().nodes.map(t=>t.id===e?{...t,selected:!1}:t)}),this.set({nodes:this.get().nodes.map(t=>t.id===e?{...t,selected:!0}:{...t,selected:!1})}))};highlightNode=e=>{this.set({nodes:this.get().nodes.map(t=>({...t,className:t.id===e?"highlight":""}))})};clearNodeHighlight=()=>{this.set({nodes:this.get().nodes.map(e=>({...e,className:""}))})}}class Pl{get;set;constructor(e,t){this.get=e,this.set=t}static create(e,t){return new Pl(e,t)}getTools=()=>this.get().nodes.filter(e=>"tool"===e.type);getToolById=e=>{const t=this.get().nodes.find(t=>t.id===e);return t&&"tool"===t.type?t:null};addTool=()=>{const e=this.get().nodes.filter(e=>"tool"===e.type),t=this.get().flowId,n=this.get().rfInstance,a=e.length,o=sl(a,t,n),r=ui.create(),i=Si(r,o);this.set({nodes:[...this.get().nodes,{...i,type:"tool"}],updatedAt:/* @__PURE__ */(new Date).toISOString()}),Sl(this.get,this.set),ll(n);return this.get().nodes.find(e=>e.id===i.id)};cloneTool=e=>{const t=this.get().nodes.find(t=>t.id===e);if(!t||"tool"!==t.type)return null;const n=this.get().rfInstance,a=this.getClonedTool(t,n);this.set({nodes:[...this.get().nodes.map(t=>t.id===e?{...t,selected:!1}:t),{...a,type:"tool",selected:!0}],updatedAt:/* @__PURE__ */(new Date).toISOString()}),Sl(this.get,this.set),ll(n);return this.get().nodes.find(e=>e.id===a.id)};updateToolData=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);if(!n||"tool"!==n.type)return;const a=/* @__PURE__ */(new Date).toISOString();this.set({nodes:[...this.get().nodes.map(o=>"tool"===o.type&&o.id===e?{...o,data:{...n.data,...t,updatedAt:a}}:o)],updatedAt:a})};deleteTool=e=>{const t=this.get().rfInstance,n=this.getAgentsAfterToolDeletion(e,t);this.set({nodes:n,updatedAt:/* @__PURE__ */(new Date).toISOString()}),Sl(this.get,this.set),ll(t)};importTool=(e,t,n,a)=>{const o=Ni(e),r=Si(o,n);return r.id=t,n&&(r.position=n),a&&this.set({nodes:this.get().nodes.map(e=>e.id===t?r:e)}),r};exportTool=(e,t)=>{const n=this.get().nodes.find(t=>t.id===e);return n&&"tool"===n.type?ki(n,t):{}};getClonedTool=(e,t)=>{const n=/* @__PURE__ */(new Date).toISOString(),a=n,o=this.get().nodes.filter(e=>"tool"===e.type).length,r=this.get().flowId,i=sl(o,r,t),s=e.data.label+" (copy)";return{...e,id:`wt-${Zt()}`,data:{...e.data,label:s,createdAt:n,updatedAt:a},position:i}};getAgentAfterToolDeletion=(e,t)=>{const n=t.data.tools.filter(t=>t.id!==e),a=t.data.codeExecutionConfig;if("boolean"==typeof a)return{...t,data:{...t.data,tools:n}};const o=(a.functions??[]).filter(t=>t!==e);return{...t,data:{...t.data,tools:n,codeExecutionConfig:{...a,functions:o}}}};getAgentsAfterToolDeletion=(e,t)=>{const n=this.get().nodes.filter(t=>"tool"===t.type&&t.id!==e),a=n.length,o=this.get().flowId;for(let s=0;s<a;s++){const e=n[s],a=sl(s,o,t);n[s]={...e,id:e?.id||`wa-${Zt()}`,data:e?.data||{},position:a}}const r=n.concat(this.get().nodes.filter(e=>"tool"!==e.type)),i=[];return r.forEach(t=>{if("agent"===t.type){const n=this.getAgentAfterToolDeletion(e,t);i.push(n)}else i.push(t)}),i}}const Ll=(e,t)=>{const n=rl(e,t);return 0===n.length||n.every(e=>("CREATE"!==e.type||2!==e.path.length)&&((1!==e.path.length||"string"!=typeof e.path[0]||!["name","description","tags","requirements"].includes(e.path[0]))&&((!e.path.includes("nodes")||!e.path.includes("data"))&&!(e.path.includes("edges")&&e.path.includes("data")&&!e.path.includes("position")))))};function Bl({children:e,...t}){const a=o(void 0),r="boolean"==typeof t.isReadOnly&&t.isReadOnly,i=t.nodes,s=t.edges,l=t.flowId,c=t.name,d=t.description,u=t.tags,p=t.requirements,g=t.createdAt,m=t.updatedAt,h=t.storageId,f=t.onUpload??null,b=t.onChange??null,y=t.onSave??null,v=t.onRun??null,w=t.onStepRun??null,x=t.onConvert??null,A=t.checkpoints??null,I=t.rfInstance,N=t.isAsync??!1;t.cacheSeed;const k=n(()=>(a.current=(e=>{const{flowId:t=`wf-${Zt()}`,isAsync:n=!1,isReadOnly:a=!1,skipExport:o=!1,skipImport:r=!1,edges:i=[],nodes:s=[],name:l="Untitled Flow",description:c="A new Waldiez flow",tags:d=[],requirements:u=[],createdAt:p=/* @__PURE__ */(new Date).toISOString(),updatedAt:g=/* @__PURE__ */(new Date).toISOString(),viewport:m={zoom:1,x:50,y:50},onUpload:h=null,onChange:f=null,onSave:b=null,onRun:y=null,onStepRun:v=null,onConvert:C=null,checkpoints:w=null}=e,x=e.storageId??t;return X()(U((A,I)=>({rfInstance:e?.rfInstance,flowId:t,isAsync:n,isReadOnly:a,skipExport:o,skipImport:r,storageId:x,name:l,description:c,tags:d,requirements:u,createdAt:p,updatedAt:g,viewport:m,nodes:s,edges:i,onUpload:h,onChange:f,onSave:b,onRun:y,onStepRun:v,onConvert:C,checkpoints:w,activeSenderId:null,activeRecipientId:null,activeEventType:null,...El.create(I,A),...Tl.create(I,A),...Dl.create(I,A),...Pl.create(I,A),...Ol.create(I,A),...Ml.create(I,A),...Rl.create(I,A)}),{equality:Ll,partialize:e=>{const{flowId:t,nodes:n,edges:a,name:o,description:r,requirements:i,tags:s}=e;return{flowId:t,nodes:n,edges:a,name:o,description:r,requirements:i,tags:s}}}))})({flowId:l,isAsync:N,isReadOnly:r,name:c,description:d,tags:u,requirements:p,storageId:h,createdAt:g,updatedAt:m,nodes:i,edges:s,rfInstance:I,onUpload:f,onChange:b,onSave:y,onRun:v,onStepRun:w,onConvert:x,checkpoints:A}),a.current),[l]);/* @__PURE__ */
return C(nl.Provider,{value:k,children:e})}const Gl=(e,t)=>{const{undo:n,redo:a,futureStates:o,pastStates:r}=(e=>{const t=c(nl);if(!t)throw new Error("Missing WaldiezContext.Provider in the tree");return tl(t.temporal,e,Gs)})(e=>e),i=!0===al(e=>e.isReadOnly),s=al(e=>e.deleteAgent),l=al(e=>e.deleteEdge),d=al(e=>e.deleteModel),u=al(e=>e.deleteTool),p=al(e=>e.saveFlow),g="function"==typeof t&&!i,m=()=>{const t=wn(e);if(!t)return!1;const n=t.getBoundingClientRect();return n.width>0&&n.height>0};Ns("mod+z",()=>{r.length>0&&m()&&n()},{scopes:e}),Ns(["shift+mod+z","mod+y"],()=>{o.length>0&&m()&&a()},{scopes:e}),g&&Ns("mod+s",e=>{m()&&(e.preventDefault(),p())},{scopes:e});const h=e=>{const t=e.getAttribute("data-id");if(t){const n=e.classList.contains("react-flow__node-agent"),a=e.classList.contains("react-flow__node-model"),o=e.classList.contains("react-flow__node-tool");n?s(t):a?d(t):o&&u(t)}},f=e=>{const t=e.getAttribute("data-id");t&&l(t)};return{onKeyDown:e=>{i||"Delete"!==e?.key&&"Backspace"!==e?.key||m()&&(e=>{if(i)return;const t=e.target;t instanceof Element&&t.classList.contains("react-flow__node")?h(t):t instanceof Element&&(t.classList.contains("react-flow__edge")||t.classList.contains("edge-data-view"))&&f(t)})(e)}}};function zl(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),!1===n||!a.defaultPrevented)return t?.(a)}}function _l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Vl(...e){return t=>{let n=!1;const a=e.map(e=>{const a=_l(e,t);return n||"function"!=typeof a||(n=!0),a});if(n)return()=>{for(let t=0;t<a.length;t++){const n=a[t];"function"==typeof n?n():_l(e[t],null)}}}}function Hl(...t){return e.useCallback(Vl(...t),t)}function Wl(t,n=[]){let a=[];const o=()=>{const n=a.map(t=>e.createContext(t));return function(a){const o=a?.[t]||n;return e.useMemo(()=>({[`__scope${t}`]:{...a,[t]:o}}),[a,o])}};return o.scopeName=t,[function(n,o){const r=e.createContext(o),i=a.length;a=[...a,o];const s=n=>{const{scope:a,children:o,...s}=n,l=a?.[t]?.[i]||r,c=e.useMemo(()=>s,Object.values(s));/* @__PURE__ */
return C(l.Provider,{value:c,children:o})};return s.displayName=n+"Provider",[s,function(a,s){const l=s?.[t]?.[i]||r,c=e.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${a}\` must be used within \`${n}\``)}]},Fl(o,...n)]}function Fl(...t){const n=t[0];if(1===t.length)return n;const a=()=>{const a=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const o=a.reduce((e,{useScope:n,scopeName:a})=>({...e,...n(t)[`__scope${a}`]}),{});return e.useMemo(()=>({[`__scope${n.scopeName}`]:o}),[o])}};return a.scopeName=n.scopeName,a}function jl(t){const n=/* @__PURE__ */Ul(t),a=e.forwardRef((t,a)=>{const{children:o,...r}=t,i=e.Children.toArray(o),s=i.find(Jl);if(s){const t=s.props.children,o=i.map(n=>n===s?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n);/* @__PURE__ */
return C(n,{...r,ref:a,children:e.isValidElement(t)?e.cloneElement(t,void 0,o):null})}/* @__PURE__ */
return C(n,{...r,ref:a,children:o})});return a.displayName=`${t}.Slot`,a}function Ul(t){const n=e.forwardRef((t,n)=>{const{children:a,...o}=t;if(e.isValidElement(a)){const t=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(a),r=function(e,t){const n={...t};for(const a in t){const o=e[a],r=t[a];/^on[A-Z]/.test(a)?o&&r?n[a]=(...e)=>{const t=r(...e);return o(...e),t}:o&&(n[a]=o):"style"===a?n[a]={...o,...r}:"className"===a&&(n[a]=[o,r].filter(Boolean).join(" "))}return{...e,...n}}(o,a.props);return a.type!==e.Fragment&&(r.ref=n?Vl(n,t):t),e.cloneElement(a,r)}return e.Children.count(a)>1?e.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Xl=Symbol("radix.slottable");function Zl(e){const t=({children:e})=>/* @__PURE__ */C(x,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=Xl,t}function Jl(t){return e.isValidElement(t)&&"function"==typeof t.type&&"__radixId"in t.type&&t.type.__radixId===Xl}var Yl=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((t,n)=>{const a=/* @__PURE__ */jl(`Primitive.${n}`),o=e.forwardRef((e,t)=>{const{asChild:o,...r}=e,i=o?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),/* @__PURE__ */C(i,{...r,ref:t})});return o.displayName=`Primitive.${n}`,{...t,[n]:o}},{});function ql(t){const n=e.useRef(t);return e.useEffect(()=>{n.current=t}),e.useMemo(()=>(...e)=>n.current?.(...e),[])}var $l,Ql="dismissableLayer.update",Kl="dismissableLayer.pointerDownOutside",ec="dismissableLayer.focusOutside",tc=e.createContext({layers:/* @__PURE__ */new Set,layersWithOutsidePointerEventsDisabled:/* @__PURE__ */new Set,branches:/* @__PURE__ */new Set}),nc=e.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=t,d=e.useContext(tc),[u,p]=e.useState(null),g=u?.ownerDocument??globalThis?.document,[,m]=e.useState({}),h=Hl(n,e=>p(e)),f=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=f.indexOf(b),v=u?f.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,x=v>=y,A=function(t,n=globalThis?.document){const a=ql(t),o=e.useRef(!1),r=e.useRef(()=>{});return e.useEffect(()=>{const e=e=>{if(e.target&&!o.current){let t=function(){oc(Kl,a,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",r.current),r.current=t,n.addEventListener("click",r.current,{once:!0})):t()}else n.removeEventListener("click",r.current);o.current=!1},t=window.setTimeout(()=>{n.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",r.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}(e=>{const t=e.target,n=[...d.branches].some(e=>e.contains(t));x&&!n&&(r?.(e),s?.(e),e.defaultPrevented||l?.())},g),I=function(t,n=globalThis?.document){const a=ql(t),o=e.useRef(!1);return e.useEffect(()=>{const e=e=>{if(e.target&&!o.current){oc(ec,a,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(i?.(e),s?.(e),e.defaultPrevented||l?.())},g);return function(t,n=globalThis?.document){const a=ql(t);e.useEffect(()=>{const e=e=>{"Escape"===e.key&&a(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})},[a,n])}(e=>{v===d.layers.size-1&&(o?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},g),e.useEffect(()=>{if(u)return a&&(0===d.layersWithOutsidePointerEventsDisabled.size&&($l=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),ac(),()=>{a&&1===d.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=$l)}},[u,g,a,d]),e.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),ac())},[u,d]),e.useEffect(()=>{const e=()=>m({});return document.addEventListener(Ql,e),()=>document.removeEventListener(Ql,e)},[]),/* @__PURE__ */C(Yl.div,{...c,ref:h,style:{pointerEvents:w?x?"auto":"none":void 0,...t.style},onFocusCapture:zl(t.onFocusCapture,I.onFocusCapture),onBlurCapture:zl(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:zl(t.onPointerDownCapture,A.onPointerDownCapture)})});nc.displayName="DismissableLayer";function ac(){const e=new CustomEvent(Ql);document.dispatchEvent(e)}function oc(e,t,n,{discrete:a}){const o=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),a?function(e,t){e&&W.flushSync(()=>e.dispatchEvent(t))}(o,r):o.dispatchEvent(r)}e.forwardRef((t,n)=>{const a=e.useContext(tc),o=e.useRef(null),r=Hl(n,o);return e.useEffect(()=>{const e=o.current;if(e)return a.branches.add(e),()=>{a.branches.delete(e)}},[a.branches]),/* @__PURE__ */C(Yl.div,{...t,ref:r})}).displayName="DismissableLayerBranch";var rc=globalThis?.document?e.useLayoutEffect:()=>{},ic=e[" useId ".trim().toString()]||(()=>{}),sc=0;var lc="undefined"!=typeof document?p:function(){};function cc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,a,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(!cc(e[a],t[a]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(a=n;0!==a--;)if(!{}.hasOwnProperty.call(t,o[a]))return!1;for(a=n;0!==a--;){const n=o[a];if(("_owner"!==n||!e.$$typeof)&&!cc(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function dc(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uc(e,t){const n=dc(e);return Math.round(t*n)/n}function pc(t){const n=e.useRef(t);return lc(()=>{n.current=t}),n}const gc=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:a}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?ee({element:n.current,padding:a}).fn(t):{}:n?ee({element:n,padding:a}).fn(t):{};var o}}),mc=(e,t)=>({...J(e),options:[e,t]}),hc=(e,t)=>({...Q(e),options:[e,t]}),fc=(e,t)=>({...Y(e),options:[e,t]}),bc=(e,t)=>({...q(e),options:[e,t]}),yc=(e,t)=>({...$(e),options:[e,t]}),vc=(e,t)=>({...gc(e),options:[e,t]});var Cc=e.forwardRef((e,t)=>{const{children:n,width:a=10,height:o=5,...r}=e;/* @__PURE__ */
return C(Yl.svg,{...r,ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:/* @__PURE__ */C("polygon",{points:"0,0 30,0 15,10"})})});Cc.displayName="Arrow";var wc=Cc;function xc(t){const[n,a]=e.useState(void 0);return rc(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const e=new ResizeObserver(e=>{if(!Array.isArray(e))return;if(!e.length)return;const n=e[0];let o,r;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,r=t.blockSize}else o=t.offsetWidth,r=t.offsetHeight;a({width:o,height:r})});return e.observe(t,{box:"border-box"}),()=>e.unobserve(t)}a(void 0)},[t]),n}var Ac="Popper",[Ic,Nc]=Wl(Ac),[kc,Sc]=Ic(Ac),Tc=t=>{const{__scopePopper:n,children:a}=t,[o,r]=e.useState(null);/* @__PURE__ */
return C(kc,{scope:n,anchor:o,onAnchorChange:r,children:a})};Tc.displayName=Ac;var Ec="PopperAnchor",Mc=e.forwardRef((t,n)=>{const{__scopePopper:a,virtualRef:o,...r}=t,i=Sc(Ec,a),s=e.useRef(null),l=Hl(n,s),c=e.useRef(null);return e.useEffect(()=>{const e=c.current;c.current=o?.current||s.current,e!==c.current&&i.onAnchorChange(c.current)}),o?null:/* @__PURE__ */C(Yl.div,{...r,ref:l})});Mc.displayName=Ec;var Rc="PopperContent",[Dc,Oc]=Ic(Rc),Pc=e.forwardRef((t,n)=>{const{__scopePopper:a,side:o="bottom",sideOffset:r=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:h,...f}=t,b=Sc(Rc,a),[y,v]=e.useState(null),w=Hl(n,e=>v(e)),[x,A]=e.useState(null),I=xc(x),N=I?.width??0,k=I?.height??0,S=o+("center"!==i?"-"+i:""),T="number"==typeof u?u:{top:0,right:0,bottom:0,left:0,...u},E=Array.isArray(d)?d:[d],M=E.length>0,R={padding:T,boundary:E.filter(zc),altBoundary:M},{refs:D,floatingStyles:O,placement:P,isPositioned:L,middlewareData:B}=function(t){void 0===t&&(t={});const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,p]=e.useState({x:0,y:0,strategy:a,placement:n,middlewareData:{},isPositioned:!1}),[g,m]=e.useState(o);cc(g,o)||m(o);const[h,f]=e.useState(null),[b,y]=e.useState(null),v=e.useCallback(e=>{e!==A.current&&(A.current=e,f(e))},[]),C=e.useCallback(e=>{e!==I.current&&(I.current=e,y(e))},[]),w=i||h,x=s||b,A=e.useRef(null),I=e.useRef(null),N=e.useRef(u),k=null!=c,S=pc(c),T=pc(r),E=pc(d),M=e.useCallback(()=>{if(!A.current||!I.current)return;const e={placement:n,strategy:a,middleware:g};T.current&&(e.platform=T.current),K(A.current,I.current,e).then(e=>{const t={...e,isPositioned:!1!==E.current};R.current&&!cc(N.current,t)&&(N.current=t,W.flushSync(()=>{p(t)}))})},[g,n,a,T,E]);lc(()=>{!1===d&&N.current.isPositioned&&(N.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[d]);const R=e.useRef(!1);lc(()=>(R.current=!0,()=>{R.current=!1}),[]),lc(()=>{if(w&&(A.current=w),x&&(I.current=x),w&&x){if(S.current)return S.current(w,x,M);M()}},[w,x,M,S,k]);const D=e.useMemo(()=>({reference:A,floating:I,setReference:v,setFloating:C}),[v,C]),O=e.useMemo(()=>({reference:w,floating:x}),[w,x]),P=e.useMemo(()=>{const e={position:a,left:0,top:0};if(!O.floating)return e;const t=uc(O.floating,u.x),n=uc(O.floating,u.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...dc(O.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:t,top:n}},[a,l,O.floating,u.x,u.y]);return e.useMemo(()=>({...u,update:M,refs:D,elements:O,floatingStyles:P}),[u,M,D,O,P])}({strategy:"fixed",placement:S,whileElementsMounted:(...e)=>te(...e,{animationFrame:"always"===m}),elements:{reference:b.anchor},middleware:[(G={mainAxis:r+k,alignmentAxis:s},{...Z(G),options:[G,z]}),c&&mc({mainAxis:!0,crossAxis:!1,limiter:"partial"===p?hc():void 0,...R}),c&&fc({...R}),bc({...R,apply:({elements:e,rects:t,availableWidth:n,availableHeight:a})=>{const{width:o,height:r}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${n}px`),i.setProperty("--radix-popper-available-height",`${a}px`),i.setProperty("--radix-popper-anchor-width",`${o}px`),i.setProperty("--radix-popper-anchor-height",`${r}px`)}}),x&&vc({element:x,padding:l}),_c({arrowWidth:N,arrowHeight:k}),g&&yc({strategy:"referenceHidden",...R})]});var G,z;const[_,V]=Vc(P),H=ql(h);rc(()=>{L&&H?.()},[L,H]);const F=B.arrow?.x,j=B.arrow?.y,U=0!==B.arrow?.centerOffset,[X,J]=e.useState();return rc(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),/* @__PURE__ */C("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:L?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:/* @__PURE__ */C(Dc,{scope:a,placedSide:_,onArrowChange:A,arrowX:F,arrowY:j,shouldHideArrow:U,children:/* @__PURE__ */C(Yl.div,{"data-side":_,"data-align":V,...f,ref:w,style:{...f.style,animation:L?void 0:"none"}})})})});Pc.displayName=Rc;var Lc="PopperArrow",Bc={top:"bottom",right:"left",bottom:"top",left:"right"},Gc=e.forwardRef(function(e,t){const{__scopePopper:n,...a}=e,o=Oc(Lc,n),r=Bc[o.placedSide];
/* @__PURE__ */
return C("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:/* @__PURE__ */C(wc,{...a,ref:t,style:{...a.style,display:"block"}})})});function zc(e){return null!==e}Gc.displayName=Lc;var _c=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:a,middlewareData:o}=t,r=0!==o.arrow?.centerOffset,i=r?0:e.arrowWidth,s=r?0:e.arrowHeight,[l,c]=Vc(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(o.arrow?.x??0)+i/2,p=(o.arrow?.y??0)+s/2;let g="",m="";return"bottom"===l?(g=r?d:`${u}px`,m=-s+"px"):"top"===l?(g=r?d:`${u}px`,m=`${a.floating.height+s}px`):"right"===l?(g=-s+"px",m=r?d:`${p}px`):"left"===l&&(g=`${a.floating.width+s}px`,m=r?d:`${p}px`),{data:{x:g,y:m}}}});function Vc(e){const[t,n="center"]=e.split("-");return[t,n]}var Hc=Tc,Wc=Mc,Fc=Pc,jc=Gc,Uc=e.forwardRef((t,n)=>{const{container:a,...o}=t,[r,i]=e.useState(!1);rc(()=>i(!0),[]);const s=a||r&&globalThis?.document?.body;return s?F.createPortal(/* @__PURE__ */C(Yl.div,{...o,ref:n}),s):null});Uc.displayName="Portal";var Xc=t=>{const{present:n,children:a}=t,o=function(t){const[n,a]=e.useState(),o=e.useRef(null),r=e.useRef(t),i=e.useRef("none"),s=t?"mounted":"unmounted",[l,c]=function(t,n){return e.useReducer((e,t)=>n[e][t]??e,t)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return e.useEffect(()=>{const e=Zc(o.current);i.current="mounted"===l?e:"none"},[l]),rc(()=>{const e=o.current,n=r.current;if(n!==t){const a=i.current,o=Zc(e);if(t)c("MOUNT");else if("none"===o||"none"===e?.display)c("UNMOUNT");else{c(n&&a!==o?"ANIMATION_OUT":"UNMOUNT")}r.current=t}},[t,c]),rc(()=>{if(n){let e;const t=n.ownerDocument.defaultView??window,a=a=>{const i=Zc(o.current).includes(CSS.escape(a.animationName));if(a.target===n&&i&&(c("ANIMATION_END"),!r.current)){const a=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=a)})}},s=e=>{e.target===n&&(i.current=Zc(o.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",a),n.addEventListener("animationend",a),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",a),n.removeEventListener("animationend",a)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:e.useCallback(e=>{o.current=e?getComputedStyle(e):null,a(e)},[])}}(n),r="function"==typeof a?a({present:o.isPresent}):e.Children.only(a),i=Hl(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r));return"function"==typeof a||o.isPresent?e.cloneElement(r,{ref:i}):null};function Zc(e){return e?.animationName||"none"}Xc.displayName="Presence";var Jc=e[" useInsertionEffect ".trim().toString()]||rc;function Yc({prop:t,defaultProp:n,onChange:a=()=>{},caller:o}){const[r,i,s]=function({defaultProp:t,onChange:n}){const[a,o]=e.useState(t),r=e.useRef(a),i=e.useRef(n);return Jc(()=>{i.current=n},[n]),e.useEffect(()=>{r.current!==a&&(i.current?.(a),r.current=a)},[a,r]),[a,o,i]}({defaultProp:n,onChange:a}),l=void 0!==t,c=l?t:r;{const n=e.useRef(void 0!==t);e.useEffect(()=>{const e=n.current;if(e!==l){}n.current=l},[l,o])}const d=e.useCallback(e=>{if(l){const n=function(e){return"function"==typeof e}(e)?e(t):e;n!==t&&s.current?.(n)}else i(e)},[l,t,i,s]);return[c,d]}var qc=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$c=e.forwardRef((e,t)=>/* @__PURE__ */C(Yl.span,{...e,ref:t,style:{...qc,...e.style}}));$c.displayName="VisuallyHidden";var Qc=$c,[Kc]=Wl("Tooltip",[Nc]),ed=Nc(),td="TooltipProvider",nd=700,ad="tooltip.open",[od,rd]=Kc(td),id=t=>{const{__scopeTooltip:n,delayDuration:a=nd,skipDelayDuration:o=300,disableHoverableContent:r=!1,children:i}=t,s=e.useRef(!0),l=e.useRef(!1),c=e.useRef(0);return e.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),/* @__PURE__ */C(od,{scope:n,isOpenDelayedRef:s,delayDuration:a,onOpen:e.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:e.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,o)},[o]),isPointerInTransitRef:l,onPointerInTransitChange:e.useCallback(e=>{l.current=e},[]),disableHoverableContent:r,children:i})};id.displayName=td;var sd="Tooltip",[ld,cd]=Kc(sd),dd=t=>{const{__scopeTooltip:n,children:a,open:o,defaultOpen:r,onOpenChange:i,disableHoverableContent:s,delayDuration:l}=t,c=rd(sd,t.__scopeTooltip),d=ed(n),[u,p]=e.useState(null),g=function(t){const[n,a]=e.useState(ic());return rc(()=>{a(e=>e??String(sc++))},[t]),n?`radix-${n}`:""}(),m=e.useRef(0),h=s??c.disableHoverableContent,f=l??c.delayDuration,b=e.useRef(!1),[y,v]=Yc({prop:o,defaultProp:r??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(ad))):c.onClose(),i?.(e)},caller:sd}),w=e.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),x=e.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),A=e.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),I=e.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},f)},[f,v]);return e.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),/* @__PURE__ */C(Hc,{...d,children:/* @__PURE__ */C(ld,{scope:n,contentId:g,open:y,stateAttribute:w,trigger:u,onTriggerChange:p,onTriggerEnter:e.useCallback(()=>{c.isOpenDelayedRef.current?I():x()},[c.isOpenDelayedRef,I,x]),onTriggerLeave:e.useCallback(()=>{h?A():(window.clearTimeout(m.current),m.current=0)},[A,h]),onOpen:x,onClose:A,disableHoverableContent:h,children:a})})};dd.displayName=sd;var ud="TooltipTrigger",pd=e.forwardRef((t,n)=>{const{__scopeTooltip:a,...o}=t,r=cd(ud,a),i=rd(ud,a),s=ed(a),l=Hl(n,e.useRef(null),r.onTriggerChange),c=e.useRef(!1),d=e.useRef(!1),u=e.useCallback(()=>c.current=!1,[]);return e.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),/* @__PURE__ */C(Wc,{asChild:!0,...s,children:/* @__PURE__ */C(Yl.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...o,ref:l,onPointerMove:zl(t.onPointerMove,e=>{"touch"!==e.pointerType&&(d.current||i.isPointerInTransitRef.current||(r.onTriggerEnter(),d.current=!0))}),onPointerLeave:zl(t.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:zl(t.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:zl(t.onFocus,()=>{c.current||r.onOpen()}),onBlur:zl(t.onBlur,r.onClose),onClick:zl(t.onClick,r.onClose)})})});pd.displayName=ud;var gd="TooltipPortal",[md,hd]=Kc(gd,{forceMount:void 0}),fd=e=>{const{__scopeTooltip:t,forceMount:n,children:a,container:o}=e,r=cd(gd,t);/* @__PURE__ */
return C(md,{scope:t,forceMount:n,children:/* @__PURE__ */C(Xc,{present:n||r.open,children:/* @__PURE__ */C(Uc,{asChild:!0,container:o,children:a})})})};fd.displayName=gd;var bd="TooltipContent",yd=e.forwardRef((e,t)=>{const n=hd(bd,e.__scopeTooltip),{forceMount:a=n.forceMount,side:o="top",...r}=e,i=cd(bd,e.__scopeTooltip);/* @__PURE__ */
return C(Xc,{present:a||i.open,children:i.disableHoverableContent?/* @__PURE__ */C(Ad,{side:o,...r,ref:t}):/* @__PURE__ */C(vd,{side:o,...r,ref:t})})}),vd=e.forwardRef((t,n)=>{const a=cd(bd,t.__scopeTooltip),o=rd(bd,t.__scopeTooltip),r=e.useRef(null),i=Hl(n,r),[s,l]=e.useState(null),{trigger:c,onClose:d}=a,u=r.current,{onPointerInTransitChange:p}=o,g=e.useCallback(()=>{l(null),p(!1)},[p]),m=e.useCallback((e,t)=>{const n=e.currentTarget,a={x:e.clientX,y:e.clientY},o=function(e,t,n=5){const a=[];switch(t){case"top":a.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":a.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":a.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":a.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return a}(a,function(e,t){const n=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),r=Math.abs(t.left-e.x);switch(Math.min(n,a,o,r)){case r:return"left";case o:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}(a,n.getBoundingClientRect())),r=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const n=e[a];for(;t.length>=2;){const e=t[t.length-1],a=t[t.length-2];if(!((e.x-a.x)*(n.y-a.y)>=(e.y-a.y)*(n.x-a.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let a=e.length-1;a>=0;a--){const t=e[a];for(;n.length>=2;){const e=n[n.length-1],a=n[n.length-2];if(!((e.x-a.x)*(t.y-a.y)>=(e.y-a.y)*(t.x-a.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...o,...function(e){const{top:t,right:n,bottom:a,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:a},{x:o,y:a}]}(t.getBoundingClientRect())]);l(r),p(!0)},[p]);return e.useEffect(()=>()=>g(),[g]),e.useEffect(()=>{if(c&&u){const e=e=>m(e,u),t=e=>m(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[c,u,m,g]),e.useEffect(()=>{if(s){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},a=c?.contains(t)||u?.contains(t),o=!function(e,t){const{x:n,y:a}=e;let o=!1;for(let r=0,i=t.length-1;r<t.length;i=r++){const e=t[r],s=t[i],l=e.x,c=e.y,d=s.x,u=s.y;c>a!=u>a&&n<(d-l)*(a-c)/(u-c)+l&&(o=!o)}return o}(n,s);a?g():o&&(g(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,u,s,d,g]),/* @__PURE__ */C(Ad,{...t,ref:i})}),[Cd,wd]=Kc(sd,{isInside:!1}),xd=/* @__PURE__ */Zl("TooltipContent"),Ad=e.forwardRef((t,n)=>{const{__scopeTooltip:a,children:o,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=t,c=cd(bd,a),d=ed(a),{onClose:u}=c;return e.useEffect(()=>(document.addEventListener(ad,u),()=>document.removeEventListener(ad,u)),[u]),e.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;t?.contains(c.trigger)&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),/* @__PURE__ */C(nc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:/* @__PURE__ */w(Fc,{"data-state":c.stateAttribute,...d,...l,ref:n,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[
/* @__PURE__ */C(xd,{children:o}),
/* @__PURE__ */C(Cd,{scope:a,isInside:!0,children:/* @__PURE__ */C(Qc,{id:c.contentId,role:"tooltip",children:r||o})})]})})});yd.displayName=bd;var Id="TooltipArrow",Nd=e.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,o=ed(n);return wd(Id,n).isInside?null:/* @__PURE__ */C(jc,{...o,...a,ref:t})});Nd.displayName=Id;var kd=id,Sd=dd,Td=pd,Ed=fd,Md=yd,Rd=Nd;function Dd(t){const n=e.useRef({value:t,previous:t});return e.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var Od="Checkbox",[Pd]=Wl(Od),[Ld,Bd]=Pd(Od);function Gd(t){const{__scopeCheckbox:n,checked:a,children:o,defaultChecked:r,disabled:i,form:s,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:p}=t,[g,m]=Yc({prop:a,defaultProp:r??!1,onChange:c,caller:Od}),[h,f]=e.useState(null),[b,y]=e.useState(null),v=e.useRef(!1),w=!h||(!!s||!!h.closest("form")),x={checked:g,disabled:i,setChecked:m,control:h,setControl:f,name:l,form:s,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:!Xd(r)&&r,isFormControl:w,bubbleInput:b,setBubbleInput:y};/* @__PURE__ */
return C(Ld,{scope:n,...x,children:Ud(p)?p(x):o})}var zd="CheckboxTrigger",_d=e.forwardRef(({__scopeCheckbox:t,onKeyDown:n,onClick:a,...o},r)=>{const{control:i,value:s,disabled:l,checked:c,required:d,setControl:u,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:m,bubbleInput:h}=Bd(zd,t),f=Hl(r,u),b=e.useRef(c);return e.useEffect(()=>{const e=i?.form;if(e){const t=()=>p(b.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,p]),/* @__PURE__ */C(Yl.button,{type:"button",role:"checkbox","aria-checked":Xd(c)?"mixed":c,"aria-required":d,"data-state":Zd(c),"data-disabled":l?"":void 0,disabled:l,value:s,...o,ref:f,onKeyDown:zl(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:zl(a,e=>{p(e=>!!Xd(e)||!e),h&&m&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});_d.displayName=zd;var Vd=e.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:o,defaultChecked:r,required:i,disabled:s,value:l,onCheckedChange:c,form:d,...u}=e;/* @__PURE__ */
return C(Gd,{__scopeCheckbox:n,checked:o,defaultChecked:r,disabled:s,required:i,onCheckedChange:c,name:a,form:d,value:l,internal_do_not_use_render:({isFormControl:e})=>/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C(_d,{...u,ref:t,__scopeCheckbox:n}),e&&/* @__PURE__ */C(jd,{__scopeCheckbox:n})]})})});Vd.displayName=Od;var Hd="CheckboxIndicator",Wd=e.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...o}=e,r=Bd(Hd,n);/* @__PURE__ */
return C(Xc,{present:a||Xd(r.checked)||!0===r.checked,children:/* @__PURE__ */C(Yl.span,{"data-state":Zd(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Wd.displayName=Hd;var Fd="CheckboxBubbleInput",jd=e.forwardRef(({__scopeCheckbox:t,...n},a)=>{const{control:o,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:s,required:l,disabled:c,name:d,value:u,form:p,bubbleInput:g,setBubbleInput:m}=Bd(Fd,t),h=Hl(a,m),f=Dd(i),b=xc(o);e.useEffect(()=>{const e=g;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,a=!r.current;if(f!==i&&n){const t=new Event("click",{bubbles:a});e.indeterminate=Xd(i),n.call(e,!Xd(i)&&i),e.dispatchEvent(t)}},[g,f,i,r]);const y=e.useRef(!Xd(i)&&i);/* @__PURE__ */
return C(Yl.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??y.current,required:l,disabled:c,name:d,value:u,form:p,...n,tabIndex:-1,ref:h,style:{...n.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Ud(e){return"function"==typeof e}function Xd(e){return"indeterminate"===e}function Zd(e){return Xd(e)?"indeterminate":e?"checked":"unchecked"}jd.displayName=Fd;const Jd=g(({id:e,label:t,isChecked:n,onCheckedChange:a})=>/* @__PURE__ */w("div",{className:"flex items-center margin-bottom-10 margin-top-5","data-testid":`checkbox-input-container-${e}`,children:[
/* @__PURE__ */C(Vd,{className:"checkbox-root",id:`checkbox-input-${e}`,checked:n,onCheckedChange:a,"data-testid":e,"aria-label":"string"==typeof t?t:"Label for checkbox",children:/* @__PURE__ */C(Wd,{className:"checkbox-indicator",children:"âœ“"})}),
/* @__PURE__ */C("label",{className:"clickable no-padding padding-10 margin-top--5",style:{width:"max-content"},htmlFor:`checkbox-input-${e}`,children:t})]})),Yd=g(e=>{const{id:t,label:n,info:a,checked:o,onChange:r}=e,i="function"==typeof n?n():n,s="function"==typeof a?a():a;/* @__PURE__ */
return C("div",{className:"info-checkbox-container",children:/* @__PURE__ */w("div",{className:"info-checkbox-wrapper",children:[
/* @__PURE__ */C(Jd,{id:t,label:i,isChecked:o,onCheckedChange:r}),
/* @__PURE__ */C(kd,{delayDuration:100,children:/* @__PURE__ */w(Sd,{children:[
/* @__PURE__ */C(Td,{asChild:!0,children:/* @__PURE__ */C("button",{type:"button","aria-label":"More info",className:"tooltip-button inline-flex items-center justify-center cursor-help",children:/* @__PURE__ */C(ne,{})})}),
/* @__PURE__ */C(Ed,{children:/* @__PURE__ */w(Md,{side:"top",align:"center",sideOffset:6,collisionPadding:8,className:"tooltip-content",children:[s,
/* @__PURE__ */C(Rd,{className:"fill-[var(--info-tooltip-bg)]"})]})})]})})]})})});function qd(e){return(qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $d(e){var t=function(e,t){if("object"!=qd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=qd(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qd(t)?t:t+""}function Qd(e,t,n){return(t=$d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(n),!0).forEach(function(t){Qd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function nu(e,t){if(e){if("string"==typeof e)return tu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(e,t):void 0}}function au(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,r,i,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(d){c=!0,o=d}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||nu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}Yd.displayName="InfoCheckbox";var ru=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iu.apply(null,arguments)}function su(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$d(a.key),a)}}function lu(e,t){return(lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cu(e){return(cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function du(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(du=function(){return!!e})()}function uu(e,t){if(t&&("object"==qd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pu(e){return function(e){if(Array.isArray(e))return tu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gu=/* @__PURE__ */function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Tg){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),mu="-ms-",hu="-moz-",fu="-webkit-",bu="comm",yu="rule",vu="decl",Cu="@keyframes",wu=Math.abs,xu=String.fromCharCode,Au=Object.assign;function Iu(e){return e.trim()}function Nu(e,t,n){return e.replace(t,n)}function ku(e,t){return e.indexOf(t)}function Su(e,t){return 0|e.charCodeAt(t)}function Tu(e,t,n){return e.slice(t,n)}function Eu(e){return e.length}function Mu(e){return e.length}function Ru(e,t){return t.push(e),e}var Du=1,Ou=1,Pu=0,Lu=0,Bu=0,Gu="";function zu(e,t,n,a,o,r,i){return{value:e,root:t,parent:n,type:a,props:o,children:r,line:Du,column:Ou,length:i,return:""}}function _u(e,t){return Au(zu("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vu(){return Bu=Lu>0?Su(Gu,--Lu):0,Ou--,10===Bu&&(Ou=1,Du--),Bu}function Hu(){return Bu=Lu<Pu?Su(Gu,Lu++):0,Ou++,10===Bu&&(Ou=1,Du++),Bu}function Wu(){return Su(Gu,Lu)}function Fu(){return Lu}function ju(e,t){return Tu(Gu,e,t)}function Uu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xu(e){return Du=Ou=1,Pu=Eu(Gu=e),Lu=0,[]}function Zu(e){return Gu="",e}function Ju(e){return Iu(ju(Lu-1,$u(91===e?e+2:40===e?e+1:e)))}function Yu(e){for(;(Bu=Wu())&&Bu<33;)Hu();return Uu(e)>2||Uu(Bu)>3?"":" "}function qu(e,t){for(;--t&&Hu()&&!(Bu<48||Bu>102||Bu>57&&Bu<65||Bu>70&&Bu<97););return ju(e,Fu()+(t<6&&32==Wu()&&32==Hu()))}function $u(e){for(;Hu();)switch(Bu){case e:return Lu;case 34:case 39:34!==e&&39!==e&&$u(Bu);break;case 40:41===e&&$u(e);break;case 92:Hu()}return Lu}function Qu(e,t){for(;Hu()&&e+Bu!==57&&(e+Bu!==84||47!==Wu()););return"/*"+ju(t,Lu-1)+"*"+xu(47===e?e:Hu())}function Ku(e){for(;!Uu(Wu());)Hu();return ju(e,Lu)}function ep(e){return Zu(tp("",null,null,null,[""],e=Xu(e),0,[0],e))}function tp(e,t,n,a,o,r,i,s,l){for(var c=0,d=0,u=i,p=0,g=0,m=0,h=1,f=1,b=1,y=0,v="",C=o,w=r,x=a,A=v;f;)switch(m=y,y=Hu()){case 40:if(108!=m&&58==Su(A,u-1)){-1!=ku(A+=Nu(Ju(y),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:A+=Ju(y);break;case 9:case 10:case 13:case 32:A+=Yu(m);break;case 92:A+=qu(Fu()-1,7);continue;case 47:switch(Wu()){case 42:case 47:Ru(ap(Qu(Hu(),Fu()),t,n),l);break;default:A+="/"}break;case 123*h:s[c++]=Eu(A)*b;case 125*h:case 59:case 0:switch(y){case 0:case 125:f=0;case 59+d:-1==b&&(A=Nu(A,/\f/g,"")),g>0&&Eu(A)-u&&Ru(g>32?op(A+";",a,n,u-1):op(Nu(A," ","")+";",a,n,u-2),l);break;case 59:A+=";";default:if(Ru(x=np(A,t,n,c,d,o,s,v,C=[],w=[],u),r),123===y)if(0===d)tp(A,t,x,x,C,r,u,s,w);else switch(99===p&&110===Su(A,3)?100:p){case 100:case 108:case 109:case 115:tp(e,x,x,a&&Ru(np(e,x,x,0,0,o,s,v,o,C=[],u),w),o,w,u,s,a?C:w);break;default:tp(A,x,x,x,[""],w,0,s,w)}}c=d=g=0,h=b=1,v=A="",u=i;break;case 58:u=1+Eu(A),g=m;default:if(h<1)if(123==y)--h;else if(125==y&&0==h++&&125==Vu())continue;switch(A+=xu(y),y*h){case 38:b=d>0?1:(A+="\f",-1);break;case 44:s[c++]=(Eu(A)-1)*b,b=1;break;case 64:45===Wu()&&(A+=Ju(Hu())),p=Wu(),d=u=Eu(v=A+=Ku(Fu())),y++;break;case 45:45===m&&2==Eu(A)&&(h=0)}}return r}function np(e,t,n,a,o,r,i,s,l,c,d){for(var u=o-1,p=0===o?r:[""],g=Mu(p),m=0,h=0,f=0;m<a;++m)for(var b=0,y=Tu(e,u+1,u=wu(h=i[m])),v=e;b<g;++b)(v=Iu(h>0?p[b]+" "+y:Nu(y,/&\f/g,p[b])))&&(l[f++]=v);return zu(e,t,n,0===o?yu:s,l,c,d)}function ap(e,t,n){return zu(e,t,n,bu,xu(Bu),Tu(e,2,-2),0)}function op(e,t,n,a){return zu(e,t,n,vu,Tu(e,0,a),Tu(e,a+1,-1),a)}function rp(e,t){for(var n="",a=Mu(e),o=0;o<a;o++)n+=t(e[o],o,e,t)||"";return n}function ip(e,t,n,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case vu:return e.return=e.return||e.value;case bu:return"";case Cu:return e.return=e.value+"{"+rp(e.children,a)+"}";case yu:e.value=e.props.join(",")}return Eu(n=rp(e.children,a))?e.return=e.value+"{"+n+"}":""}function sp(e){var t=/* @__PURE__ */Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var lp=function(e,t,n){for(var a=0,o=0;a=o,o=Wu(),38===a&&12===o&&(t[n]=1),!Uu(o);)Hu();return ju(e,Lu)},cp=function(e,t){return Zu(function(e,t){var n=-1,a=44;do{switch(Uu(a)){case 0:38===a&&12===Wu()&&(t[n]=1),e[n]+=lp(Lu-1,t,n);break;case 2:e[n]+=Ju(a);break;case 4:if(44===a){e[++n]=58===Wu()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=xu(a)}}while(a=Hu());return e}(Xu(e),t))},dp=/* @__PURE__ */new WeakMap,up=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||dp.get(n))&&!a){dp.set(e,!0);for(var o=[],r=cp(t,o),i=n.props,s=0,l=0;s<r.length;s++)for(var c=0;c<i.length;c++,l++)e.props[l]=o[s]?r[s].replace(/&\f/g,i[c]):i[c]+" "+r[s]}}},pp=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function gp(e,t){switch(function(e,t){return 45^Su(e,0)?(((t<<2^Su(e,0))<<2^Su(e,1))<<2^Su(e,2))<<2^Su(e,3):0}(e,t)){case 5103:return fu+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fu+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fu+e+hu+e+mu+e+e;case 6828:case 4268:return fu+e+mu+e+e;case 6165:return fu+e+mu+"flex-"+e+e;case 5187:return fu+e+Nu(e,/(\w+).+(:[^]+)/,fu+"box-$1$2"+mu+"flex-$1$2")+e;case 5443:return fu+e+mu+"flex-item-"+Nu(e,/flex-|-self/,"")+e;case 4675:return fu+e+mu+"flex-line-pack"+Nu(e,/align-content|flex-|-self/,"")+e;case 5548:return fu+e+mu+Nu(e,"shrink","negative")+e;case 5292:return fu+e+mu+Nu(e,"basis","preferred-size")+e;case 6060:return fu+"box-"+Nu(e,"-grow","")+fu+e+mu+Nu(e,"grow","positive")+e;case 4554:return fu+Nu(e,/([^-])(transform)/g,"$1"+fu+"$2")+e;case 6187:return Nu(Nu(Nu(e,/(zoom-|grab)/,fu+"$1"),/(image-set)/,fu+"$1"),e,"")+e;case 5495:case 3959:return Nu(e,/(image-set\([^]*)/,fu+"$1$`$1");case 4968:return Nu(Nu(e,/(.+:)(flex-)?(.*)/,fu+"box-pack:$3"+mu+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fu+e+e;case 4095:case 3583:case 4068:case 2532:return Nu(e,/(.+)-inline(.+)/,fu+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Eu(e)-1-t>6)switch(Su(e,t+1)){case 109:if(45!==Su(e,t+4))break;case 102:return Nu(e,/(.+:)(.+)-([^]+)/,"$1"+fu+"$2-$3$1"+hu+(108==Su(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ku(e,"stretch")?gp(Nu(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Su(e,t+1))break;case 6444:switch(Su(e,Eu(e)-3-(~ku(e,"!important")&&10))){case 107:return Nu(e,":",":"+fu)+e;case 101:return Nu(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fu+(45===Su(e,14)?"inline-":"")+"box$3$1"+fu+"$2$3$1"+mu+"$2box$3")+e}break;case 5936:switch(Su(e,t+11)){case 114:return fu+e+mu+Nu(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fu+e+mu+Nu(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fu+e+mu+Nu(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return fu+e+mu+e+e}return e}var mp,hp=[function(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case vu:e.return=gp(e.value,e.length);break;case Cu:return rp([_u(e,{value:Nu(e.value,"@","@"+fu)})],a);case yu:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rp([_u(e,{props:[Nu(t,/:(read-\w+)/,":-moz-$1")]})],a);case"::placeholder":return rp([_u(e,{props:[Nu(t,/:(plac\w+)/,":"+fu+"input-$1")]}),_u(e,{props:[Nu(t,/:(plac\w+)/,":-moz-$1")]}),_u(e,{props:[Nu(t,/:(plac\w+)/,mu+"input-$1")]})],a)}return""})}}],fp=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a,o,r=e.stylisPlugins||hp,i={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;s.push(e)});var l,c,d,u,p=[ip,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],g=(c=[up,pp].concat(r,p),d=Mu(c),function(e,t,n,a){for(var o="",r=0;r<d;r++)o+=c[r](e,t,n,a)||"";return o});o=function(e,t,n,a){l=n,rp(ep(e?e+"{"+t.styles+"}":t.styles),g),a&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new gu({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:o};return m.sheet.hydrate(s),m},bp={exports:{}},yp={};var vp,Cp,wp,xp,Ap={};function Ip(){return Cp||(Cp=1,"production"===process.env.NODE_ENV?bp.exports=function(){if(mp)return yp;mp=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,r=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,f=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:switch(e=e.type){case l:case c:case a:case r:case o:case u:return e;default:switch(e=e&&e.$$typeof){case s:case d:case m:case g:case i:return e;default:return p}}case n:return p}}}function C(e){return v(e)===c}return yp.AsyncMode=l,yp.ConcurrentMode=c,yp.ContextConsumer=s,yp.ContextProvider=i,yp.Element=t,yp.ForwardRef=d,yp.Fragment=a,yp.Lazy=m,yp.Memo=g,yp.Portal=n,yp.Profiler=r,yp.StrictMode=o,yp.Suspense=u,yp.isAsyncMode=function(e){return C(e)||v(e)===l},yp.isConcurrentMode=C,yp.isContextConsumer=function(e){return v(e)===s},yp.isContextProvider=function(e){return v(e)===i},yp.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},yp.isForwardRef=function(e){return v(e)===d},yp.isFragment=function(e){return v(e)===a},yp.isLazy=function(e){return v(e)===m},yp.isMemo=function(e){return v(e)===g},yp.isPortal=function(e){return v(e)===n},yp.isProfiler=function(e){return v(e)===r},yp.isStrictMode=function(e){return v(e)===o},yp.isSuspense=function(e){return v(e)===u},yp.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===r||e===o||e===u||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===i||e.$$typeof===s||e.$$typeof===d||e.$$typeof===f||e.$$typeof===b||e.$$typeof===y||e.$$typeof===h)},yp.typeOf=v,yp}():bp.exports=(vp||(vp=1,"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,r=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,f=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:var h=e.type;switch(h){case l:case c:case a:case r:case o:case u:return h;default:var f=h&&h.$$typeof;switch(f){case s:case d:case m:case g:case i:return f;default:return p}}case n:return p}}}var C=l,w=c,x=s,A=i,I=t,N=d,k=a,S=m,T=g,E=n,M=r,R=o,D=u,O=!1;function P(e){return v(e)===c}Ap.AsyncMode=C,Ap.ConcurrentMode=w,Ap.ContextConsumer=x,Ap.ContextProvider=A,Ap.Element=I,Ap.ForwardRef=N,Ap.Fragment=k,Ap.Lazy=S,Ap.Memo=T,Ap.Portal=E,Ap.Profiler=M,Ap.StrictMode=R,Ap.Suspense=D,Ap.isAsyncMode=function(e){return O||(O=!0),P(e)||v(e)===l},Ap.isConcurrentMode=P,Ap.isContextConsumer=function(e){return v(e)===s},Ap.isContextProvider=function(e){return v(e)===i},Ap.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Ap.isForwardRef=function(e){return v(e)===d},Ap.isFragment=function(e){return v(e)===a},Ap.isLazy=function(e){return v(e)===m},Ap.isMemo=function(e){return v(e)===g},Ap.isPortal=function(e){return v(e)===n},Ap.isProfiler=function(e){return v(e)===r},Ap.isStrictMode=function(e){return v(e)===o},Ap.isSuspense=function(e){return v(e)===u},Ap.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===r||e===o||e===u||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===i||e.$$typeof===s||e.$$typeof===d||e.$$typeof===f||e.$$typeof===b||e.$$typeof===y||e.$$typeof===h)},Ap.typeOf=v}()),Ap)),bp.exports}!function(){if(xp)return wp;xp=1;var e=Ip(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function r(n){return e.isMemo(n)?a:o[n.$$typeof]||t}o[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[e.Memo]=a;var i=Object.defineProperty,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,u=Object.prototype;wp=function e(t,a,o){if("string"!=typeof a){if(u){var p=d(a);p&&p!==u&&e(t,p,o)}var g=s(a);l&&(g=g.concat(l(a)));for(var m=r(t),h=r(a),f=0;f<g.length;++f){var b=g[f];if(!(n[b]||o&&o[b]||h&&h[b]||m&&m[b])){var y=c(a,b);try{i(t,b,y)}catch(Tg){}}}}return t}}();var Np=function(e,t,n){var a=e.key+"-"+t.name;!1===n&&void 0===e.registered[a]&&(e.registered[a]=t.styles)};var kp={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sp=/[A-Z]|^ms/g,Tp=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ep=function(e){return 45===e.charCodeAt(1)},Mp=function(e){return null!=e&&"boolean"!=typeof e},Rp=/* @__PURE__ */sp(function(e){return Ep(e)?e:e.replace(Sp,"-$&").toLowerCase()}),Dp=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Tp,function(e,t,n){return Pp={name:t,styles:n,next:Pp},t})}return 1===kp[e]||Ep(e)||"number"!=typeof t||0===t?t:t+"px"};function Op(e,t,n){if(null==n)return"";var a=n;if(void 0!==a.__emotion_styles)return a;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return Pp={name:o.name,styles:o.styles,next:Pp},o.name;var r=n;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)Pp={name:i.name,styles:i.styles,next:Pp},i=i.next;return r.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var o=0;o<n.length;o++)a+=Op(e,t,n[o])+";";else for(var r in n){var i=n[r];if("object"!=typeof i){var s=i;Mp(s)&&(a+=Rp(r)+":"+Dp(r,s)+";")}else if(Array.isArray(i)&&"string"==typeof i[0]&&null==t)for(var l=0;l<i.length;l++)Mp(i[l])&&(a+=Rp(r)+":"+Dp(r,i[l])+";");else{var c=Op(e,t,i);switch(r){case"animation":case"animationName":a+=Rp(r)+":"+c+";";break;default:a+=r+"{"+c+"}"}}}return a}(e,t,n);case"function":if(void 0!==e){var s=Pp,l=n(e);return Pp=s,Op(e,t,l)}}return n}var Pp,Lp=/label:\s*([^\s;{]+)\s*(;|$)/g;function Bp(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,o="";Pp=void 0;var r=e[0];null==r||void 0===r.raw?(a=!1,o+=Op(n,t,r)):o+=r[0];for(var i=1;i<e.length;i++){if(o+=Op(n,t,e[i]),a)o+=r[i]}Lp.lastIndex=0;for(var s,l="";null!==(s=Lp.exec(o));)l+="-"+s[1];var c=function(e){for(var t,n=0,a=0,o=e.length;o>=4;++a,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(a)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:Pp}}var Gp=!!e.useInsertionEffect&&e.useInsertionEffect||function(e){return e()},zp=/* @__PURE__ */e.createContext("undefined"!=typeof HTMLElement?/* @__PURE__ */fp({key:"css"}):null);zp.Provider;var _p,Vp,Hp=function(e){/* @__PURE__ */
return m(function(t,n){var a=c(zp);return e(t,a,n)})},Wp=/* @__PURE__ */e.createContext({}),Fp={}.hasOwnProperty,jp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Up=function(e){var t=e.cache,n=e.serialized,a=e.isStringTag;return Np(t,n,a),Gp(function(){return function(e,t,n){Np(e,t,n);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+a:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,n,a)}),null},Xp=/* @__PURE__ */Hp(function(t,n,a){var o=t.css;"string"==typeof o&&void 0!==n.registered[o]&&(o=n.registered[o]);var r=t[jp],i=[o],s="";"string"==typeof t.className?s=function(e,t,n){var a="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(a+=n+" ")}),a}(n.registered,i,t.className):null!=t.className&&(s=t.className+" ");var l=Bp(i,void 0,e.useContext(Wp));s+=n.key+"-"+l.name;var c={};for(var d in t)Fp.call(t,d)&&"css"!==d&&d!==jp&&(c[d]=t[d]);return c.className=s,a&&(c.ref=a),/* @__PURE__ */e.createElement(e.Fragment,null,/* @__PURE__ */e.createElement(Up,{cache:n,serialized:l,isStringTag:"string"==typeof r}),/* @__PURE__ */e.createElement(r,c))}),Zp=function(t,n){var a=arguments;if(null==n||!Fp.call(n,"css"))return e.createElement.apply(void 0,a);var o=a.length,r=new Array(o);r[0]=Xp,r[1]=function(e,t){var n={};for(var a in t)Fp.call(t,a)&&(n[a]=t[a]);return n[jp]=e,n}(t,n);for(var i=2;i<o;i++)r[i]=a[i];return e.createElement.apply(null,r)};function Jp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bp(t)}_p=Zp||(Zp={}),Vp||(Vp=_p.JSX||(_p.JSX={}));var Yp=p,qp=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],$p=function(){};function Qp(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Kp(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var r=[].concat(a);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(Qp(e,i)));return r.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var eg=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===qd(e)&&null!==e?[e]:[];var t},tg=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,eu({},ou(e,qp))},ng=function(e,t,n){var a=e.cx,o=e.getStyles,r=e.getClassNames,i=e.className;return{css:o(t,e),className:a(null!=n?n:{},r(t,e),i)}};function ag(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function og(e){return ag(e)?window.pageYOffset:e.scrollTop}function rg(e,t){ag(e)?window.scrollTo(0,t):e.scrollTop=t}function ig(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$p,o=og(e),r=t-o,i=0;!function t(){var s,l=r*((s=(s=i+=10)/n-1)*s*s+1)+o;rg(e,l),i<n?window.requestAnimationFrame(t):a(e)}()}function sg(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=t.offsetHeight/3;a.bottom+o>n.bottom?rg(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):a.top-o<n.top&&rg(e,Math.max(t.offsetTop-o,0))}function lg(){try{return document.createEvent("TouchEvent"),!0}catch(Tg){return!1}}var cg=!1,dg={get passive(){return cg=!0}},ug="undefined"!=typeof window?window:{};ug.addEventListener&&ug.removeEventListener&&(ug.addEventListener("p",$p,dg),ug.removeEventListener("p",$p,!1));var pg=cg;function gg(e){return null!=e}function mg(e,t,n){return e?t:n}var hg=["children","innerProps"],fg=["children","innerProps"];function bg(e){var t=e.maxHeight,n=e.menuEl,a=e.minHeight,o=e.placement,r=e.shouldScroll,i=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,a=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&a.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d,u=l.getBoundingClientRect().height,p=n.getBoundingClientRect(),g=p.bottom,m=p.height,h=p.top,f=n.offsetParent.getBoundingClientRect().top,b=i?window.innerHeight:ag(d=l)?window.innerHeight:d.clientHeight,y=og(l),v=parseInt(getComputedStyle(n).marginBottom,10),C=parseInt(getComputedStyle(n).marginTop,10),w=f-C,x=b-h,A=w+y,I=u-y-h,N=g-b+y+v,k=y+h-C,S=160;switch(o){case"auto":case"bottom":if(x>=m)return{placement:"bottom",maxHeight:t};if(I>=m&&!i)return r&&ig(l,N,S),{placement:"bottom",maxHeight:t};if(!i&&I>=a||i&&x>=a)return r&&ig(l,N,S),{placement:"bottom",maxHeight:i?x-v:I-v};if("auto"===o||i){var T=t,E=i?w:A;return E>=a&&(T=Math.min(E-v-s,t)),{placement:"top",maxHeight:T}}if("bottom"===o)return r&&rg(l,N),{placement:"bottom",maxHeight:t};break;case"top":if(w>=m)return{placement:"top",maxHeight:t};if(A>=m&&!i)return r&&ig(l,k,S),{placement:"top",maxHeight:t};if(!i&&A>=a||i&&w>=a){var M=t;return(!i&&A>=a||i&&w>=a)&&(M=i?w-C:A-C),r&&ig(l,k,S),{placement:"top",maxHeight:M}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}var yg,vg=function(e){return"auto"===e?"bottom":e},Cg=/* @__PURE__ */l(null),wg=function(e){var t=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,r=e.menuPlacement,s=e.menuPosition,l=e.menuShouldScrollIntoView,d=e.theme,u=(c(Cg)||{}).setPortalPlacement,p=o(null),g=au(i(a),2),m=g[0],h=g[1],f=au(i(null),2),b=f[0],y=f[1],v=d.spacing.controlHeight;return Yp(function(){var e=p.current;if(e){var t="fixed"===s,o=bg({maxHeight:a,menuEl:e,minHeight:n,placement:r,shouldScroll:l&&!t,isFixedPosition:t,controlHeight:v});h(o.maxHeight),y(o.placement),null==u||u(o.placement)}},[a,r,s,l,n,u,v]),t({ref:p,placerProps:eu(eu({},e),{},{placement:b||vg(r),maxHeight:m})})},xg=function(e){var t=e.children,n=e.innerRef,a=e.innerProps;return Zp("div",iu({},ng(e,"menu",{menu:!0}),{ref:n},a),t)},Ag=function(e,t){var n=e.theme,a=n.spacing.baseUnit,o=n.colors;return eu({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(2*a,"px ").concat(3*a,"px")})},Ig=Ag,Ng=Ag,kg=["size"],Sg=["innerProps","isRtl","size"];var Tg,Eg,Mg="production"===process.env.NODE_ENV?{name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"}:{name:"tj5bde-Svg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;label:Svg;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlCSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgSlNYLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3gsIGtleWZyYW1lcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuaW1wb3J0IHtcbiAgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWUsXG4gIENTU09iamVjdFdpdGhMYWJlbCxcbiAgR3JvdXBCYXNlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdHlsZVByb3BzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgSWNvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTdmcgPSAoe1xuICBzaXplLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIGhlaWdodD17c2l6ZX1cbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgIGZvY3VzYWJsZT1cImZhbHNlXCJcbiAgICBjc3M9e3tcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBsaW5lSGVpZ2h0OiAxLFxuICAgICAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IHR5cGUgQ3Jvc3NJY29uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgQ3Jvc3NJY29uID0gKHByb3BzOiBDcm9zc0ljb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNMTQuMzQ4IDE0Ljg0OWMtMC40NjkgMC40NjktMS4yMjkgMC40NjktMS42OTcgMGwtMi42NTEtMy4wMzAtMi42NTEgMy4wMjljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDAtMC40NjktMC40NjktMC40NjktMS4yMjkgMC0xLjY5N2wyLjc1OC0zLjE1LTIuNzU5LTMuMTUyYy0wLjQ2OS0wLjQ2OS0wLjQ2OS0xLjIyOCAwLTEuNjk3czEuMjI4LTAuNDY5IDEuNjk3IDBsMi42NTIgMy4wMzEgMi42NTEtMy4wMzFjMC40NjktMC40NjkgMS4yMjgtMC40NjkgMS42OTcgMHMwLjQ2OSAxLjIyOSAwIDEuNjk3bC0yLjc1OCAzLjE1MiAyLjc1OCAzLjE1YzAuNDY5IDAuNDY5IDAuNDY5IDEuMjI5IDAgMS42OTh6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuZXhwb3J0IHR5cGUgRG93bkNoZXZyb25Qcm9wcyA9IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU/OiBudW1iZXIgfTtcbmV4cG9ydCBjb25zdCBEb3duQ2hldnJvbiA9IChwcm9wczogRG93bkNoZXZyb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNNC41MTYgNy41NDhjMC40MzYtMC40NDYgMS4wNDMtMC40ODEgMS41NzYgMGwzLjkwOCAzLjc0NyAzLjkwOC0zLjc0N2MwLjUzMy0wLjQ4MSAxLjE0MS0wLjQ0NiAxLjU3NCAwIDAuNDM2IDAuNDQ1IDAuNDA4IDEuMTk3IDAgMS42MTUtMC40MDYgMC40MTgtNC42OTUgNC41MDItNC42OTUgNC41MDItMC4yMTcgMC4yMjMtMC41MDIgMC4zMzUtMC43ODcgMC4zMzVzLTAuNTctMC4xMTItMC43ODktMC4zMzVjMCAwLTQuMjg3LTQuMDg0LTQuNjk1LTQuNTAycy0wLjQzNi0xLjE3IDAtMS42MTV6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgQnV0dG9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBUaGUgY2hpbGRyZW4gdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBpbmRpY2F0b3IuICovXG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xuICAvKiogUHJvcHMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgY2hpbGRyZW4uICovXG4gIGlubmVyUHJvcHM6IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snZGl2J107XG4gIC8qKiBUaGUgZm9jdXNlZCBzdGF0ZSBvZiB0aGUgc2VsZWN0LiAqL1xuICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IGJhc2VDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgdGhlbWU6IHtcbiAgICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICAgIGNvbG9ycyxcbiAgICB9LFxuICB9OlxuICAgIHwgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuICAgIHwgQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2luZGljYXRvckNvbnRhaW5lcicsXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgdHJhbnNpdGlvbjogJ2NvbG9yIDE1MG1zJyxcbiAgLi4uKHVuc3R5bGVkXG4gICAgPyB7fVxuICAgIDoge1xuICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw2MCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIHBhZGRpbmc6IGJhc2VVbml0ICogMixcbiAgICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw4MCA6IGNvbG9ycy5uZXV0cmFsNDAsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJvcGRvd25JbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IERyb3Bkb3duSW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnZHJvcGRvd25JbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2Ryb3Bkb3duLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8RG93bkNoZXZyb24gLz59XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENsZWFySW5kaWNhdG9yUHJvcHM8XG4gIE9wdGlvbiA9IHVua25vd24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPiA9IEdyb3VwQmFzZTxPcHRpb24+XG4+IGV4dGVuZHMgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWU8T3B0aW9uLCBJc011bHRpLCBHcm91cD4ge1xuICAvKiogVGhlIGNoaWxkcmVuIHRvIGJlIHJlbmRlcmVkIGluc2lkZSB0aGUgaW5kaWNhdG9yLiAqL1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgY2xlYXJJbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IENsZWFySW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnY2xlYXJJbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2NsZWFyLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8Q3Jvc3NJY29uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTZXBhcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGljYXRvclNlcGFyYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpbm5lclByb3BzPzogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ107XG59XG5cbmV4cG9ydCBjb25zdCBpbmRpY2F0b3JTZXBhcmF0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0Rpc2FibGVkLFxuICAgIHRoZW1lOiB7XG4gICAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gICAgICBjb2xvcnMsXG4gICAgfSxcbiAgfTogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JTZXBhcmF0b3InLFxuICBhbGlnblNlbGY6ICdzdHJldGNoJyxcbiAgd2lkdGg6IDEsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0Rpc2FibGVkID8gY29sb3JzLm5ldXRyYWwxMCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogYmFzZVVuaXQgKiAyLFxuICAgICAgICBtYXJnaW5Ub3A6IGJhc2VVbml0ICogMixcbiAgICAgIH0pLFxufSk7XG5cbmV4cG9ydCBjb25zdCBJbmRpY2F0b3JTZXBhcmF0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgaW5uZXJQcm9wcyB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgICAgey4uLmdldFN0eWxlUHJvcHMocHJvcHMsICdpbmRpY2F0b3JTZXBhcmF0b3InLCB7XG4gICAgICAgICdpbmRpY2F0b3Itc2VwYXJhdG9yJzogdHJ1ZSxcbiAgICAgIH0pfVxuICAgIC8+XG4gICk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIExvYWRpbmdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBsb2FkaW5nRG90QW5pbWF0aW9ucyA9IGtleWZyYW1lc2BcbiAgMCUsIDgwJSwgMTAwJSB7IG9wYWNpdHk6IDA7IH1cbiAgNDAlIHsgb3BhY2l0eTogMTsgfVxuYDtcblxuZXhwb3J0IGNvbnN0IGxvYWRpbmdJbmRpY2F0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgc2l6ZSxcbiAgICB0aGVtZToge1xuICAgICAgY29sb3JzLFxuICAgICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgIH0sXG4gIH06IExvYWRpbmdJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2xvYWRpbmdJbmRpY2F0b3InLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHRyYW5zaXRpb246ICdjb2xvciAxNTBtcycsXG4gIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gIGZvbnRTaXplOiBzaXplLFxuICBsaW5lSGVpZ2h0OiAxLFxuICBtYXJnaW5SaWdodDogc2l6ZSxcbiAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBwYWRkaW5nOiBiYXNlVW5pdCAqIDIsXG4gICAgICB9KSxcbn0pO1xuXG5pbnRlcmZhY2UgTG9hZGluZ0RvdFByb3BzIHtcbiAgZGVsYXk6IG51bWJlcjtcbiAgb2Zmc2V0OiBib29sZWFuO1xufVxuY29uc3QgTG9hZGluZ0RvdCA9ICh7IGRlbGF5LCBvZmZzZXQgfTogTG9hZGluZ0RvdFByb3BzKSA9PiAoXG4gIDxzcGFuXG4gICAgY3NzPXt7XG4gICAgICBhbmltYXRpb246IGAke2xvYWRpbmdEb3RBbmltYXRpb25zfSAxcyBlYXNlLWluLW91dCAke2RlbGF5fW1zIGluZmluaXRlO2AsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdjdXJyZW50Q29sb3InLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMWVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbWFyZ2luTGVmdDogb2Zmc2V0ID8gJzFlbScgOiB1bmRlZmluZWQsXG4gICAgICBoZWlnaHQ6ICcxZW0nLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aWR0aDogJzFlbScsXG4gICAgfX1cbiAgLz5cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGluZ0luZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAvKiogU2V0IHNpemUgb2YgdGhlIGNvbnRhaW5lci4gKi9cbiAgc2l6ZTogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpbm5lclByb3BzLFxuICBpc1J0bCxcbiAgc2l6ZSA9IDQsXG4gIC4uLnJlc3RQcm9wc1xufTogTG9hZGluZ0luZGljYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgey4uLmdldFN0eWxlUHJvcHMoXG4gICAgICAgIHsgLi4ucmVzdFByb3BzLCBpbm5lclByb3BzLCBpc1J0bCwgc2l6ZSB9LFxuICAgICAgICAnbG9hZGluZ0luZGljYXRvcicsXG4gICAgICAgIHtcbiAgICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICAgJ2xvYWRpbmctaW5kaWNhdG9yJzogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXswfSBvZmZzZXQ9e2lzUnRsfSAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezE2MH0gb2Zmc2V0IC8+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MzIwfSBvZmZzZXQ9eyFpc1J0bH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXX0= */",toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}},Rg=function(e){var t=e.size,n=ou(e,kg);return Zp("svg",iu({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Mg},n))},Dg=function(e){return Zp(Rg,iu({size:20},e),Zp("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Og=function(e){return Zp(Rg,iu({size:20},e),Zp("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Pg=function(e,t){var n=e.isFocused,a=e.theme,o=a.spacing.baseUnit,r=a.colors;return eu({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?r.neutral60:r.neutral20,padding:2*o,":hover":{color:n?r.neutral80:r.neutral40}})},Lg=Pg,Bg=Pg,Gg=function(){var e=Jp.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(yg||(Tg=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Eg||(Eg=Tg.slice(0)),yg=Object.freeze(Object.defineProperties(Tg,{raw:{value:Object.freeze(Eg)}})))),zg=function(e){var t=e.delay,n=e.offset;return Zp("span",{css:/* @__PURE__ */Jp({animation:"".concat(Gg," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"production"===process.env.NODE_ENV?"":";label:LoadingDot;","production"===process.env.NODE_ENV?"":"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1RSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgSlNYLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3gsIGtleWZyYW1lcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuaW1wb3J0IHtcbiAgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWUsXG4gIENTU09iamVjdFdpdGhMYWJlbCxcbiAgR3JvdXBCYXNlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdHlsZVByb3BzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgSWNvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTdmcgPSAoe1xuICBzaXplLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIGhlaWdodD17c2l6ZX1cbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgIGZvY3VzYWJsZT1cImZhbHNlXCJcbiAgICBjc3M9e3tcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBsaW5lSGVpZ2h0OiAxLFxuICAgICAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IHR5cGUgQ3Jvc3NJY29uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgQ3Jvc3NJY29uID0gKHByb3BzOiBDcm9zc0ljb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNMTQuMzQ4IDE0Ljg0OWMtMC40NjkgMC40NjktMS4yMjkgMC40NjktMS42OTcgMGwtMi42NTEtMy4wMzAtMi42NTEgMy4wMjljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDAtMC40NjktMC40NjktMC40NjktMS4yMjkgMC0xLjY5N2wyLjc1OC0zLjE1LTIuNzU5LTMuMTUyYy0wLjQ2OS0wLjQ2OS0wLjQ2OS0xLjIyOCAwLTEuNjk3czEuMjI4LTAuNDY5IDEuNjk3IDBsMi42NTIgMy4wMzEgMi42NTEtMy4wMzFjMC40NjktMC40NjkgMS4yMjgtMC40NjkgMS42OTcgMHMwLjQ2OSAxLjIyOSAwIDEuNjk3bC0yLjc1OCAzLjE1MiAyLjc1OCAzLjE1YzAuNDY5IDAuNDY5IDAuNDY5IDEuMjI5IDAgMS42OTh6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuZXhwb3J0IHR5cGUgRG93bkNoZXZyb25Qcm9wcyA9IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU/OiBudW1iZXIgfTtcbmV4cG9ydCBjb25zdCBEb3duQ2hldnJvbiA9IChwcm9wczogRG93bkNoZXZyb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNNC41MTYgNy41NDhjMC40MzYtMC40NDYgMS4wNDMtMC40ODEgMS41NzYgMGwzLjkwOCAzLjc0NyAzLjkwOC0zLjc0N2MwLjUzMy0wLjQ4MSAxLjE0MS0wLjQ0NiAxLjU3NCAwIDAuNDM2IDAuNDQ1IDAuNDA4IDEuMTk3IDAgMS42MTUtMC40MDYgMC40MTgtNC42OTUgNC41MDItNC42OTUgNC41MDItMC4yMTcgMC4yMjMtMC41MDIgMC4zMzUtMC43ODcgMC4zMzVzLTAuNTctMC4xMTItMC43ODktMC4zMzVjMCAwLTQuMjg3LTQuMDg0LTQuNjk1LTQuNTAycy0wLjQzNi0xLjE3IDAtMS42MTV6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgQnV0dG9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBUaGUgY2hpbGRyZW4gdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBpbmRpY2F0b3IuICovXG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xuICAvKiogUHJvcHMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgY2hpbGRyZW4uICovXG4gIGlubmVyUHJvcHM6IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snZGl2J107XG4gIC8qKiBUaGUgZm9jdXNlZCBzdGF0ZSBvZiB0aGUgc2VsZWN0LiAqL1xuICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IGJhc2VDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgdGhlbWU6IHtcbiAgICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICAgIGNvbG9ycyxcbiAgICB9LFxuICB9OlxuICAgIHwgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuICAgIHwgQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2luZGljYXRvckNvbnRhaW5lcicsXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgdHJhbnNpdGlvbjogJ2NvbG9yIDE1MG1zJyxcbiAgLi4uKHVuc3R5bGVkXG4gICAgPyB7fVxuICAgIDoge1xuICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw2MCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIHBhZGRpbmc6IGJhc2VVbml0ICogMixcbiAgICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw4MCA6IGNvbG9ycy5uZXV0cmFsNDAsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJvcGRvd25JbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IERyb3Bkb3duSW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnZHJvcGRvd25JbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2Ryb3Bkb3duLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8RG93bkNoZXZyb24gLz59XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENsZWFySW5kaWNhdG9yUHJvcHM8XG4gIE9wdGlvbiA9IHVua25vd24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPiA9IEdyb3VwQmFzZTxPcHRpb24+XG4+IGV4dGVuZHMgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWU8T3B0aW9uLCBJc011bHRpLCBHcm91cD4ge1xuICAvKiogVGhlIGNoaWxkcmVuIHRvIGJlIHJlbmRlcmVkIGluc2lkZSB0aGUgaW5kaWNhdG9yLiAqL1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgY2xlYXJJbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IENsZWFySW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnY2xlYXJJbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2NsZWFyLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8Q3Jvc3NJY29uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTZXBhcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGljYXRvclNlcGFyYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpbm5lclByb3BzPzogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ107XG59XG5cbmV4cG9ydCBjb25zdCBpbmRpY2F0b3JTZXBhcmF0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0Rpc2FibGVkLFxuICAgIHRoZW1lOiB7XG4gICAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gICAgICBjb2xvcnMsXG4gICAgfSxcbiAgfTogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JTZXBhcmF0b3InLFxuICBhbGlnblNlbGY6ICdzdHJldGNoJyxcbiAgd2lkdGg6IDEsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0Rpc2FibGVkID8gY29sb3JzLm5ldXRyYWwxMCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogYmFzZVVuaXQgKiAyLFxuICAgICAgICBtYXJnaW5Ub3A6IGJhc2VVbml0ICogMixcbiAgICAgIH0pLFxufSk7XG5cbmV4cG9ydCBjb25zdCBJbmRpY2F0b3JTZXBhcmF0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgaW5uZXJQcm9wcyB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgICAgey4uLmdldFN0eWxlUHJvcHMocHJvcHMsICdpbmRpY2F0b3JTZXBhcmF0b3InLCB7XG4gICAgICAgICdpbmRpY2F0b3Itc2VwYXJhdG9yJzogdHJ1ZSxcbiAgICAgIH0pfVxuICAgIC8+XG4gICk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIExvYWRpbmdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBsb2FkaW5nRG90QW5pbWF0aW9ucyA9IGtleWZyYW1lc2BcbiAgMCUsIDgwJSwgMTAwJSB7IG9wYWNpdHk6IDA7IH1cbiAgNDAlIHsgb3BhY2l0eTogMTsgfVxuYDtcblxuZXhwb3J0IGNvbnN0IGxvYWRpbmdJbmRpY2F0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgc2l6ZSxcbiAgICB0aGVtZToge1xuICAgICAgY29sb3JzLFxuICAgICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgIH0sXG4gIH06IExvYWRpbmdJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2xvYWRpbmdJbmRpY2F0b3InLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHRyYW5zaXRpb246ICdjb2xvciAxNTBtcycsXG4gIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gIGZvbnRTaXplOiBzaXplLFxuICBsaW5lSGVpZ2h0OiAxLFxuICBtYXJnaW5SaWdodDogc2l6ZSxcbiAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBwYWRkaW5nOiBiYXNlVW5pdCAqIDIsXG4gICAgICB9KSxcbn0pO1xuXG5pbnRlcmZhY2UgTG9hZGluZ0RvdFByb3BzIHtcbiAgZGVsYXk6IG51bWJlcjtcbiAgb2Zmc2V0OiBib29sZWFuO1xufVxuY29uc3QgTG9hZGluZ0RvdCA9ICh7IGRlbGF5LCBvZmZzZXQgfTogTG9hZGluZ0RvdFByb3BzKSA9PiAoXG4gIDxzcGFuXG4gICAgY3NzPXt7XG4gICAgICBhbmltYXRpb246IGAke2xvYWRpbmdEb3RBbmltYXRpb25zfSAxcyBlYXNlLWluLW91dCAke2RlbGF5fW1zIGluZmluaXRlO2AsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdjdXJyZW50Q29sb3InLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMWVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbWFyZ2luTGVmdDogb2Zmc2V0ID8gJzFlbScgOiB1bmRlZmluZWQsXG4gICAgICBoZWlnaHQ6ICcxZW0nLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aWR0aDogJzFlbScsXG4gICAgfX1cbiAgLz5cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGluZ0luZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAvKiogU2V0IHNpemUgb2YgdGhlIGNvbnRhaW5lci4gKi9cbiAgc2l6ZTogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpbm5lclByb3BzLFxuICBpc1J0bCxcbiAgc2l6ZSA9IDQsXG4gIC4uLnJlc3RQcm9wc1xufTogTG9hZGluZ0luZGljYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgey4uLmdldFN0eWxlUHJvcHMoXG4gICAgICAgIHsgLi4ucmVzdFByb3BzLCBpbm5lclByb3BzLCBpc1J0bCwgc2l6ZSB9LFxuICAgICAgICAnbG9hZGluZ0luZGljYXRvcicsXG4gICAgICAgIHtcbiAgICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICAgJ2xvYWRpbmctaW5kaWNhdG9yJzogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXswfSBvZmZzZXQ9e2lzUnRsfSAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezE2MH0gb2Zmc2V0IC8+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MzIwfSBvZmZzZXQ9eyFpc1J0bH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXX0= */")})},_g=function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,o=e.innerRef,r=e.innerProps,i=e.menuIsOpen;return Zp("div",iu({ref:o},ng(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":i}),r,{"aria-disabled":n||void 0}),t)},Vg=["data"],Hg=function(e){var t=e.children,n=e.cx,a=e.getStyles,o=e.getClassNames,r=e.Heading,i=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return Zp("div",iu({},ng(e,"group",{group:!0}),s),Zp(r,iu({},i,{selectProps:d,theme:c,getStyles:a,getClassNames:o,cx:n}),l),Zp("div",null,t))},Wg=["innerRef","isDisabled","isHidden","inputClassName"],Fg={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},jg={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":eu({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Fg)},Ug=function(e){return eu({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Fg)},Xg=function(e){var t=e.children,n=e.innerProps;return Zp("div",n,t)};var Zg={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Zp("div",iu({},ng(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Zp(Dg,null))},Control:_g,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Zp("div",iu({},ng(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Zp(Og,null))},DownChevron:Og,CrossIcon:Dg,Group:Hg,GroupHeading:function(e){var t=tg(e);t.data;var n=ou(t,Vg);return Zp("div",iu({},ng(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Zp("div",iu({},ng(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Zp("span",iu({},t,ng(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,a=tg(e),o=a.innerRef,r=a.isDisabled,i=a.isHidden,s=a.inputClassName,l=ou(a,Wg);return Zp("div",iu({},ng(e,"input",{"input-container":!0}),{"data-value":n||""}),Zp("input",iu({className:t({input:!0},s),ref:o,style:Ug(i),disabled:r},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,a=e.size,o=void 0===a?4:a,r=ou(e,Sg);return Zp("div",iu({},ng(eu(eu({},r),{},{innerProps:t,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Zp(zg,{delay:0,offset:n}),Zp(zg,{delay:160,offset:!0}),Zp(zg,{delay:320,offset:!n}))},Menu:xg,MenuList:function(e){var t=e.children,n=e.innerProps,a=e.innerRef,o=e.isMulti;return Zp("div",iu({},ng(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:a},n),t)},MenuPortal:function(e){var t=e.appendTo,a=e.children,s=e.controlElement,l=e.innerProps,c=e.menuPlacement,d=e.menuPosition,u=o(null),p=o(null),g=au(i(vg(c)),2),m=g[0],h=g[1],f=n(function(){return{setPortalPlacement:h}},[]),b=au(i(null),2),y=b[0],v=b[1],C=r(function(){if(s){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(s),t="fixed"===d?0:window.pageYOffset,n=e[m]+t;n===(null==y?void 0:y.offset)&&e.left===(null==y?void 0:y.rect.left)&&e.width===(null==y?void 0:y.rect.width)||v({offset:n,rect:e})}},[s,d,m,null==y?void 0:y.offset,null==y?void 0:y.rect.left,null==y?void 0:y.rect.width]);Yp(function(){C()},[C]);var w=r(function(){"function"==typeof p.current&&(p.current(),p.current=null),s&&u.current&&(p.current=te(s,u.current,C,{elementResize:"ResizeObserver"in window}))},[s,C]);Yp(function(){w()},[w]);var x=r(function(e){u.current=e,w()},[w]);if(!t&&"fixed"!==d||!y)return null;var A=Zp("div",iu({ref:x},ng(eu(eu({},e),{},{offset:y.offset,position:d,rect:y.rect}),"menuPortal",{"menu-portal":!0}),l),a);return Zp(Cg.Provider,{value:f},t?/* @__PURE__ */j(A,t):A)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,a=e.innerProps,o=ou(e,fg);return Zp("div",iu({},ng(eu(eu({},o),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,a=e.innerProps,o=ou(e,hg);return Zp("div",iu({},ng(eu(eu({},o),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},MultiValue:function(e){var t=e.children,n=e.components,a=e.data,o=e.innerProps,r=e.isDisabled,i=e.removeProps,s=e.selectProps,l=n.Container,c=n.Label,d=n.Remove;return Zp(l,{data:a,innerProps:eu(eu({},ng(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":r})),o),selectProps:s},Zp(c,{data:a,innerProps:eu({},ng(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),Zp(d,{data:a,innerProps:eu(eu({},ng(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:s}))},MultiValueContainer:Xg,MultiValueLabel:Xg,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Zp("div",iu({role:"button"},n),t||Zp(Dg,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,o=e.isSelected,r=e.innerRef,i=e.innerProps;return Zp("div",iu({},ng(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":o}),{ref:r,"aria-disabled":n},i),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Zp("div",iu({},ng(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,a=e.isDisabled,o=e.isRtl;return Zp("div",iu({},ng(e,"container",{"--is-disabled":a,"--is-rtl":o}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,a=e.innerProps;return Zp("div",iu({},ng(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,a=e.isMulti,o=e.hasValue;return Zp("div",iu({},ng(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o}),n),t)}},Jg=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Yg(e,t){return e===t||!(!Jg(e)||!Jg(t))}function qg(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Yg(e[n],t[n]))return!1;return!0}for(var $g="production"===process.env.NODE_ENV?{name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"}:{name:"1f43avz-a11yText-A11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;label:A11yText;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkExMXlUZXh0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPSSIsImZpbGUiOiJBMTF5VGV4dC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IEpTWCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGpzeCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuLy8gQXNzaXN0aXZlIHRleHQgdG8gZGVzY3JpYmUgdmlzdWFsIGVsZW1lbnRzLiBIaWRkZW4gZm9yIHNpZ2h0ZWQgdXNlcnMuXG5jb25zdCBBMTF5VGV4dCA9IChwcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ10pID0+IChcbiAgPHNwYW5cbiAgICBjc3M9e3tcbiAgICAgIGxhYmVsOiAnYTExeVRleHQnLFxuICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgY2xpcDogJ3JlY3QoMXB4LCAxcHgsIDFweCwgMXB4KScsXG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICB3aWR0aDogMSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQTExeVRleHQ7XG4iXX0= */",toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}},Qg=function(e){return Zp("span",iu({css:$g},e))},Kg={guidance:function(e){var t=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,o=e.context,r=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return r?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,a=void 0===n?"":n,o=e.labels,r=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return"option ".concat(a,r?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,a=e.options,o=e.label,r=void 0===o?"":o,i=e.selectValue,s=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&i)return"value ".concat(r," focused, ").concat(d(i,n),".");if("menu"===t&&c){var u=s?" disabled":"",p="".concat(l?" selected":"").concat(u);return"".concat(r).concat(p,", ").concat(d(a,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},em=function(e){var t=e.ariaSelection,a=e.focusedOption,o=e.focusedValue,r=e.focusableOptions,i=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,d=e.isAppleDevice,u=l.ariaLiveMessages,p=l.getOptionLabel,g=l.inputValue,m=l.isMulti,f=l.isOptionDisabled,b=l.isSearchable,y=l.menuIsOpen,v=l.options,C=l.screenReaderStatus,w=l.tabSelectsValue,x=l.isLoading,A=l["aria-label"],I=l["aria-live"],N=n(function(){return eu(eu({},Kg),u||{})},[u]),k=n(function(){var e,n="";if(t&&N.onChange){var a=t.option,o=t.options,r=t.removedValue,i=t.removedValues,l=t.value,c=r||a||(e=l,Array.isArray(e)?null:e),d=c?p(c):"",u=o||i||void 0,g=u?u.map(p):[],m=eu({isDisabled:c&&f(c,s),label:d,labels:g},t);n=N.onChange(m)}return n},[t,N,f,s,p]),S=n(function(){var e="",t=a||o,n=!!(a&&s&&s.includes(a));if(t&&N.onFocus){var i={focused:t,label:p(t),isDisabled:f(t,s),isSelected:n,options:r,context:t===a?"menu":"value",selectValue:s,isAppleDevice:d};e=N.onFocus(i)}return e},[a,o,p,f,N,r,s,d]),T=n(function(){var e="";if(y&&v.length&&!x&&N.onFilter){var t=C({count:r.length});e=N.onFilter({inputValue:g,resultsMessage:t})}return e},[r,g,y,N,v,C,x]),E="initial-input-focus"===(null==t?void 0:t.action),M=n(function(){var e="";if(N.guidance){var t=o?"value":y?"menu":"input";e=N.guidance({"aria-label":A,context:t,isDisabled:a&&f(a,s),isMulti:m,isSearchable:b,tabSelectsValue:w,isInitialFocus:E})}return e},[A,a,o,m,f,b,y,N,s,w,E]),R=Zp(h,null,Zp("span",{id:"aria-selection"},k),Zp("span",{id:"aria-focused"},S),Zp("span",{id:"aria-results"},T),Zp("span",{id:"aria-guidance"},M));return Zp(h,null,Zp(Qg,{id:c},E&&R),Zp(Qg,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!E&&R))},tm=[{base:"A",letters:"Aâ’¶ï¼¡Ã€ÃÃ‚áº¦áº¤áºªáº¨ÃƒÄ€Ä‚áº°áº®áº´áº²È¦Ç Ã„Çžáº¢Ã…ÇºÇÈ€È‚áº áº¬áº¶á¸€Ä„Èºâ±¯"},{base:"AA",letters:"êœ²"},{base:"AE",letters:"Ã†Ç¼Ç¢"},{base:"AO",letters:"êœ´"},{base:"AU",letters:"êœ¶"},{base:"AV",letters:"êœ¸êœº"},{base:"AY",letters:"êœ¼"},{base:"B",letters:"Bâ’·ï¼¢á¸‚á¸„á¸†ÉƒÆ‚Æ"},{base:"C",letters:"Câ’¸ï¼£Ä†ÄˆÄŠÄŒÃ‡á¸ˆÆ‡È»êœ¾"},{base:"D",letters:"Dâ’¹ï¼¤á¸ŠÄŽá¸Œá¸á¸’á¸ŽÄÆ‹ÆŠÆ‰ê¹"},{base:"DZ",letters:"Ç±Ç„"},{base:"Dz",letters:"Ç²Ç…"},{base:"E",letters:"Eâ’ºï¼¥ÃˆÃ‰ÃŠá»€áº¾á»„á»‚áº¼Ä’á¸”á¸–Ä”Ä–Ã‹áººÄšÈ„È†áº¸á»†È¨á¸œÄ˜á¸˜á¸šÆÆŽ"},{base:"F",letters:"Fâ’»ï¼¦á¸žÆ‘ê»"},{base:"G",letters:"Gâ’¼ï¼§Ç´Äœá¸ ÄžÄ Ç¦Ä¢Ç¤Æ“êž ê½ê¾"},{base:"H",letters:"Hâ’½ï¼¨Ä¤á¸¢á¸¦Èžá¸¤á¸¨á¸ªÄ¦â±§â±µêž"},{base:"I",letters:"Iâ’¾ï¼©ÃŒÃÃŽÄ¨ÄªÄ¬Ä°Ãá¸®á»ˆÇÈˆÈŠá»ŠÄ®á¸¬Æ—"},{base:"J",letters:"Jâ’¿ï¼ªÄ´Éˆ"},{base:"K",letters:"Kâ“€ï¼«á¸°Ç¨á¸²Ä¶á¸´Æ˜â±©ê€ê‚ê„êž¢"},{base:"L",letters:"Lâ“ï¼¬Ä¿Ä¹Ä½á¸¶á¸¸Ä»á¸¼á¸ºÅÈ½â±¢â± êˆê†êž€"},{base:"LJ",letters:"Ç‡"},{base:"Lj",letters:"Çˆ"},{base:"M",letters:"Mâ“‚ï¼­á¸¾á¹€á¹‚â±®Æœ"},{base:"N",letters:"Nâ“ƒï¼®Ç¸ÅƒÃ‘á¹„Å‡á¹†Å…á¹Šá¹ˆÈ Æêžêž¤"},{base:"NJ",letters:"ÇŠ"},{base:"Nj",letters:"Ç‹"},{base:"O",letters:"Oâ“„ï¼¯Ã’Ã“Ã”á»’á»á»–á»”Ã•á¹ŒÈ¬á¹ŽÅŒá¹á¹’ÅŽÈ®È°Ã–Èªá»ŽÅÇ‘ÈŒÈŽÆ á»œá»šá» á»žá»¢á»Œá»˜ÇªÇ¬Ã˜Ç¾Æ†ÆŸêŠêŒ"},{base:"OI",letters:"Æ¢"},{base:"OO",letters:"êŽ"},{base:"OU",letters:"È¢"},{base:"P",letters:"Pâ“…ï¼°á¹”á¹–Æ¤â±£êê’ê”"},{base:"Q",letters:"Qâ“†ï¼±ê–ê˜ÉŠ"},{base:"R",letters:"Râ“‡ï¼²Å”á¹˜Å˜ÈÈ’á¹šá¹œÅ–á¹žÉŒâ±¤êšêž¦êž‚"},{base:"S",letters:"Sâ“ˆï¼³áºžÅšá¹¤Åœá¹ Å á¹¦á¹¢á¹¨È˜Åžâ±¾êž¨êž„"},{base:"T",letters:"Tâ“‰ï¼´á¹ªÅ¤á¹¬ÈšÅ¢á¹°á¹®Å¦Æ¬Æ®È¾êž†"},{base:"TZ",letters:"êœ¨"},{base:"U",letters:"Uâ“Šï¼µÃ™ÃšÃ›Å¨á¹¸Åªá¹ºÅ¬ÃœÇ›Ç—Ç•Ç™á»¦Å®Å°Ç“È”È–Æ¯á»ªá»¨á»®á»¬á»°á»¤á¹²Å²á¹¶á¹´É„"},{base:"V",letters:"Vâ“‹ï¼¶á¹¼á¹¾Æ²êžÉ…"},{base:"VY",letters:"ê "},{base:"W",letters:"Wâ“Œï¼·áº€áº‚Å´áº†áº„áºˆâ±²"},{base:"X",letters:"Xâ“ï¼¸áºŠáºŒ"},{base:"Y",letters:"Yâ“Žï¼¹á»²ÃÅ¶á»¸È²áºŽÅ¸á»¶á»´Æ³ÉŽá»¾"},{base:"Z",letters:"Zâ“ï¼ºÅ¹áºÅ»Å½áº’áº”ÆµÈ¤â±¿â±«ê¢"},{base:"a",letters:"aâ“ï½áºšÃ Ã¡Ã¢áº§áº¥áº«áº©Ã£ÄÄƒáº±áº¯áºµáº³È§Ç¡Ã¤ÇŸáº£Ã¥Ç»ÇŽÈÈƒáº¡áº­áº·á¸Ä…â±¥É"},{base:"aa",letters:"êœ³"},{base:"ae",letters:"Ã¦Ç½Ç£"},{base:"ao",letters:"êœµ"},{base:"au",letters:"êœ·"},{base:"av",letters:"êœ¹êœ»"},{base:"ay",letters:"êœ½"},{base:"b",letters:"bâ“‘ï½‚á¸ƒá¸…á¸‡Æ€ÆƒÉ“"},{base:"c",letters:"câ“’ï½ƒÄ‡Ä‰Ä‹ÄÃ§á¸‰ÆˆÈ¼êœ¿â†„"},{base:"d",letters:"dâ““ï½„á¸‹Äá¸á¸‘á¸“á¸Ä‘ÆŒÉ–É—êº"},{base:"dz",letters:"Ç³Ç†"},{base:"e",letters:"eâ“”ï½…Ã¨Ã©Ãªá»áº¿á»…á»ƒáº½Ä“á¸•á¸—Ä•Ä—Ã«áº»Ä›È…È‡áº¹á»‡È©á¸Ä™á¸™á¸›É‡É›Ç"},{base:"f",letters:"fâ“•ï½†á¸ŸÆ’ê¼"},{base:"g",letters:"gâ“–ï½‡ÇµÄá¸¡ÄŸÄ¡Ç§Ä£Ç¥É êž¡áµ¹ê¿"},{base:"h",letters:"hâ“—ï½ˆÄ¥á¸£á¸§ÈŸá¸¥á¸©á¸«áº–Ä§â±¨â±¶É¥"},{base:"hv",letters:"Æ•"},{base:"i",letters:"iâ“˜ï½‰Ã¬Ã­Ã®Ä©Ä«Ä­Ã¯á¸¯á»‰ÇÈ‰È‹á»‹Ä¯á¸­É¨Ä±"},{base:"j",letters:"jâ“™ï½ŠÄµÇ°É‰"},{base:"k",letters:"kâ“šï½‹á¸±Ç©á¸³Ä·á¸µÆ™â±ªêêƒê…êž£"},{base:"l",letters:"lâ“›ï½ŒÅ€ÄºÄ¾á¸·á¸¹Ä¼á¸½á¸»Å¿Å‚ÆšÉ«â±¡ê‰êžê‡"},{base:"lj",letters:"Ç‰"},{base:"m",letters:"mâ“œï½á¸¿á¹á¹ƒÉ±É¯"},{base:"n",letters:"nâ“ï½ŽÇ¹Å„Ã±á¹…Åˆá¹‡Å†á¹‹á¹‰ÆžÉ²Å‰êž‘êž¥"},{base:"nj",letters:"ÇŒ"},{base:"o",letters:"oâ“žï½Ã²Ã³Ã´á»“á»‘á»—á»•Ãµá¹È­á¹Åá¹‘á¹“ÅÈ¯È±Ã¶È«á»Å‘Ç’ÈÈÆ¡á»á»›á»¡á»Ÿá»£á»á»™Ç«Ç­Ã¸Ç¿É”ê‹êÉµ"},{base:"oi",letters:"Æ£"},{base:"ou",letters:"È£"},{base:"oo",letters:"ê"},{base:"p",letters:"pâ“Ÿï½á¹•á¹—Æ¥áµ½ê‘ê“ê•"},{base:"q",letters:"qâ“ ï½‘É‹ê—ê™"},{base:"r",letters:"râ“¡ï½’Å•á¹™Å™È‘È“á¹›á¹Å—á¹ŸÉÉ½ê›êž§êžƒ"},{base:"s",letters:"sâ“¢ï½“ÃŸÅ›á¹¥Åá¹¡Å¡á¹§á¹£á¹©È™ÅŸÈ¿êž©êž…áº›"},{base:"t",letters:"tâ“£ï½”á¹«áº—Å¥á¹­È›Å£á¹±á¹¯Å§Æ­Êˆâ±¦êž‡"},{base:"tz",letters:"êœ©"},{base:"u",letters:"uâ“¤ï½•Ã¹ÃºÃ»Å©á¹¹Å«á¹»Å­Ã¼ÇœÇ˜Ç–Çšá»§Å¯Å±Ç”È•È—Æ°á»«á»©á»¯á»­á»±á»¥á¹³Å³á¹·á¹µÊ‰"},{base:"v",letters:"vâ“¥ï½–á¹½á¹¿Ê‹êŸÊŒ"},{base:"vy",letters:"ê¡"},{base:"w",letters:"wâ“¦ï½—áºáºƒÅµáº‡áº…áº˜áº‰â±³"},{base:"x",letters:"xâ“§ï½˜áº‹áº"},{base:"y",letters:"yâ“¨ï½™á»³Ã½Å·á»¹È³áºÃ¿á»·áº™á»µÆ´Éá»¿"},{base:"z",letters:"zâ“©ï½šÅºáº‘Å¼Å¾áº“áº•Æ¶È¥É€â±¬ê£"}],nm=new RegExp("["+tm.map(function(e){return e.letters}).join("")+"]","g"),am={},om=0;om<tm.length;om++)for(var rm=tm[om],im=0;im<rm.letters.length;im++)am[rm.letters[im]]=rm.base;var sm=function(e){return e.replace(nm,function(e){return am[e]})},lm=function(e,t){void 0===t&&(t=qg);var n=null;function a(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var r=e.apply(this,a);return n={lastResult:r,lastArgs:a,lastThis:this},r}return a.clear=function(){n=null},a}(sm),cm=function(e){return e.replace(/^\s+|\s+$/g,"")},dm=function(e){return"".concat(e.label," ").concat(e.value)},um=["innerRef"];function pm(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object.entries(e).filter(function(e){var t=au(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=au(t,2),a=n[0],o=n[1];return e[a]=o,e},{})}(ou(e,um),"onExited","in","enter","exit","appear");return Zp("input",iu({ref:t},n,{css:/* @__PURE__ */Jp({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"production"===process.env.NODE_ENV?"":";label:DummyInput;","production"===process.env.NODE_ENV?"":"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkR1bW15SW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlCTSIsImZpbGUiOiJEdW1teUlucHV0LnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgSlNYLCBSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5pbXBvcnQgeyByZW1vdmVQcm9wcyB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRHVtbXlJbnB1dCh7XG4gIGlubmVyUmVmLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydpbnB1dCddICYge1xuICByZWFkb25seSBpbm5lclJlZjogUmVmPEhUTUxJbnB1dEVsZW1lbnQ+O1xufSkge1xuICAvLyBSZW1vdmUgYW5pbWF0aW9uIHByb3BzIG5vdCBtZWFudCBmb3IgSFRNTCBlbGVtZW50c1xuICBjb25zdCBmaWx0ZXJlZFByb3BzID0gcmVtb3ZlUHJvcHMoXG4gICAgcHJvcHMsXG4gICAgJ29uRXhpdGVkJyxcbiAgICAnaW4nLFxuICAgICdlbnRlcicsXG4gICAgJ2V4aXQnLFxuICAgICdhcHBlYXInXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIHJlZj17aW5uZXJSZWZ9XG4gICAgICB7Li4uZmlsdGVyZWRQcm9wc31cbiAgICAgIGNzcz17e1xuICAgICAgICBsYWJlbDogJ2R1bW15SW5wdXQnLFxuICAgICAgICAvLyBnZXQgcmlkIG9mIGFueSBkZWZhdWx0IHN0eWxlc1xuICAgICAgICBiYWNrZ3JvdW5kOiAwLFxuICAgICAgICBib3JkZXI6IDAsXG4gICAgICAgIC8vIGltcG9ydGFudCEgdGhpcyBoaWRlcyB0aGUgZmxhc2hpbmcgY3Vyc29yXG4gICAgICAgIGNhcmV0Q29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIGZvbnRTaXplOiAnaW5oZXJpdCcsXG4gICAgICAgIGdyaWRBcmVhOiAnMSAvIDEgLyAyIC8gMycsXG4gICAgICAgIG91dGxpbmU6IDAsXG4gICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgIC8vIGltcG9ydGFudCEgd2l0aG91dCBgd2lkdGhgIGJyb3dzZXJzIHdvbid0IGFsbG93IGZvY3VzXG4gICAgICAgIHdpZHRoOiAxLFxuXG4gICAgICAgIC8vIHJlbW92ZSBjdXJzb3Igb24gZGVza3RvcFxuICAgICAgICBjb2xvcjogJ3RyYW5zcGFyZW50JyxcblxuICAgICAgICAvLyByZW1vdmUgY3Vyc29yIG9uIG1vYmlsZSB3aGlsc3QgbWFpbnRhaW5pbmcgXCJzY3JvbGwgaW50byB2aWV3XCIgYmVoYXZpb3VyXG4gICAgICAgIGxlZnQ6IC0xMDAsXG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSguMDEpJyxcbiAgICAgIH19XG4gICAgLz5cbiAgKTtcbn1cbiJdfQ== */")}))}var gm=["boxSizing","height","overflow","paddingRight","position"],mm={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function hm(e){e.cancelable&&e.preventDefault()}function fm(e){e.stopPropagation()}function bm(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ym(){return"ontouchstart"in window||navigator.maxTouchPoints}var vm=!("undefined"==typeof window||!window.document||!window.document.createElement),Cm=0,wm={capture:!1,passive:!1};var xm=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Am="production"===process.env.NODE_ENV?{name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"}:{name:"bp8cua-ScrollManager",styles:"position:fixed;left:0;bottom:0;right:0;top:0;label:ScrollManager;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbE1hbmFnZXIudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9EVSIsImZpbGUiOiJTY3JvbGxNYW5hZ2VyLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsganN4IH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIFJlYWN0RWxlbWVudCwgUmVmQ2FsbGJhY2ssIE1vdXNlRXZlbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU2Nyb2xsQ2FwdHVyZSBmcm9tICcuL3VzZVNjcm9sbENhcHR1cmUnO1xuaW1wb3J0IHVzZVNjcm9sbExvY2sgZnJvbSAnLi91c2VTY3JvbGxMb2NrJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgcmVhZG9ubHkgY2hpbGRyZW46IChyZWY6IFJlZkNhbGxiYWNrPEhUTUxFbGVtZW50PikgPT4gUmVhY3RFbGVtZW50O1xuICByZWFkb25seSBsb2NrRW5hYmxlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY2FwdHVyZUVuYWJsZWQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IG9uQm90dG9tQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Cb3R0b21MZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IG9uVG9wQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Ub3BMZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG59XG5cbmNvbnN0IGJsdXJTZWxlY3RJbnB1dCA9IChldmVudDogTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRGl2RWxlbWVudDtcbiAgcmV0dXJuIChcbiAgICBlbGVtZW50Lm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJlxuICAgIChlbGVtZW50Lm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuYmx1cigpXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTY3JvbGxNYW5hZ2VyKHtcbiAgY2hpbGRyZW4sXG4gIGxvY2tFbmFibGVkLFxuICBjYXB0dXJlRW5hYmxlZCA9IHRydWUsXG4gIG9uQm90dG9tQXJyaXZlLFxuICBvbkJvdHRvbUxlYXZlLFxuICBvblRvcEFycml2ZSxcbiAgb25Ub3BMZWF2ZSxcbn06IFByb3BzKSB7XG4gIGNvbnN0IHNldFNjcm9sbENhcHR1cmVUYXJnZXQgPSB1c2VTY3JvbGxDYXB0dXJlKHtcbiAgICBpc0VuYWJsZWQ6IGNhcHR1cmVFbmFibGVkLFxuICAgIG9uQm90dG9tQXJyaXZlLFxuICAgIG9uQm90dG9tTGVhdmUsXG4gICAgb25Ub3BBcnJpdmUsXG4gICAgb25Ub3BMZWF2ZSxcbiAgfSk7XG4gIGNvbnN0IHNldFNjcm9sbExvY2tUYXJnZXQgPSB1c2VTY3JvbGxMb2NrKHsgaXNFbmFibGVkOiBsb2NrRW5hYmxlZCB9KTtcblxuICBjb25zdCB0YXJnZXRSZWY6IFJlZkNhbGxiYWNrPEhUTUxFbGVtZW50PiA9IChlbGVtZW50KSA9PiB7XG4gICAgc2V0U2Nyb2xsQ2FwdHVyZVRhcmdldChlbGVtZW50KTtcbiAgICBzZXRTY3JvbGxMb2NrVGFyZ2V0KGVsZW1lbnQpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEZyYWdtZW50PlxuICAgICAge2xvY2tFbmFibGVkICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIG9uQ2xpY2s9e2JsdXJTZWxlY3RJbnB1dH1cbiAgICAgICAgICBjc3M9e3sgcG9zaXRpb246ICdmaXhlZCcsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAsIHRvcDogMCB9fVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtjaGlsZHJlbih0YXJnZXRSZWYpfVxuICAgIDwvRnJhZ21lbnQ+XG4gICk7XG59XG4iXX0= */",toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}};function Im(e){var t=e.children,n=e.lockEnabled,a=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,a=e.onBottomLeave,i=e.onTopArrive,l=e.onTopLeave,c=o(!1),d=o(!1),u=o(0),p=o(null),g=r(function(e,t){if(null!==p.current){var o=p.current,r=o.scrollTop,s=o.scrollHeight,u=o.clientHeight,g=p.current,m=t>0,h=s-u-r,f=!1;h>t&&c.current&&(a&&a(e),c.current=!1),m&&d.current&&(l&&l(e),d.current=!1),m&&t>h?(n&&!c.current&&n(e),g.scrollTop=s,f=!0,c.current=!0):!m&&-t>r&&(i&&!d.current&&i(e),g.scrollTop=0,f=!0,d.current=!0),f&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}},[n,a,i,l]),m=r(function(e){g(e,e.deltaY)},[g]),h=r(function(e){u.current=e.changedTouches[0].clientY},[]),f=r(function(e){var t=u.current-e.changedTouches[0].clientY;g(e,t)},[g]),b=r(function(e){if(e){var t=!!pg&&{passive:!1};e.addEventListener("wheel",m,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",f,t)}},[f,h,m]),y=r(function(e){e&&(e.removeEventListener("wheel",m,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",f,!1))},[f,h,m]);return s(function(){if(t){var e=p.current;return b(e),function(){y(e)}}},[t,b,y]),function(e){p.current=e}}({isEnabled:void 0===a||a,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),l=function(e){var t=e.isEnabled,n=e.accountForScrollbars,a=void 0===n||n,i=o({}),l=o(null),c=r(function(e){if(vm){var t=document.body,n=t&&t.style;if(a&&gm.forEach(function(e){var t=n&&n[e];i.current[e]=t}),a&&Cm<1){var o=parseInt(i.current.paddingRight,10)||0,r=document.body?document.body.clientWidth:0,s=window.innerWidth-r+o||0;Object.keys(mm).forEach(function(e){var t=mm[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(s,"px"))}t&&ym()&&(t.addEventListener("touchmove",hm,wm),e&&(e.addEventListener("touchstart",bm,wm),e.addEventListener("touchmove",fm,wm))),Cm+=1}},[a]),d=r(function(e){if(vm){var t=document.body,n=t&&t.style;Cm=Math.max(Cm-1,0),a&&Cm<1&&gm.forEach(function(e){var t=i.current[e];n&&(n[e]=t)}),t&&ym()&&(t.removeEventListener("touchmove",hm,wm),e&&(e.removeEventListener("touchstart",bm,wm),e.removeEventListener("touchmove",fm,wm)))}},[a]);return s(function(){if(t){var e=l.current;return c(e),function(){d(e)}}},[t,c,d]),function(e){l.current=e}}({isEnabled:n});return Zp(h,null,n&&Zp("div",{onClick:xm,css:Am}),t(function(e){i(e),l(e)}))}var Nm="production"===process.env.NODE_ENV?{name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"}:{name:"5kkxb2-requiredInput-RequiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%;label:RequiredInput;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlcXVpcmVkSW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNJIiwiZmlsZSI6IlJlcXVpcmVkSW5wdXQudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBGb2N1c0V2ZW50SGFuZGxlciwgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmNvbnN0IFJlcXVpcmVkSW5wdXQ6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgcmVhZG9ubHkgbmFtZT86IHN0cmluZztcbiAgcmVhZG9ubHkgb25Gb2N1czogRm9jdXNFdmVudEhhbmRsZXI8SFRNTElucHV0RWxlbWVudD47XG59PiA9ICh7IG5hbWUsIG9uRm9jdXMgfSkgPT4gKFxuICA8aW5wdXRcbiAgICByZXF1aXJlZFxuICAgIG5hbWU9e25hbWV9XG4gICAgdGFiSW5kZXg9ey0xfVxuICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICBjc3M9e3tcbiAgICAgIGxhYmVsOiAncmVxdWlyZWRJbnB1dCcsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH19XG4gICAgLy8gUHJldmVudCBgU3dpdGNoaW5nIGZyb20gdW5jb250cm9sbGVkIHRvIGNvbnRyb2xsZWRgIGVycm9yXG4gICAgdmFsdWU9XCJcIlxuICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX1cbiAgLz5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJlcXVpcmVkSW5wdXQ7XG4iXX0= */",toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}},km=function(e){var t=e.name,n=e.onFocus;return Zp("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Nm,value:"",onChange:function(){}})};function Sm(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Tm(){return Sm(/^Mac/i)}function Em(){return Sm(/^iPhone/i)||Sm(/^iPad/i)||Tm()&&navigator.maxTouchPoints>1}var Mm,Rm={clearIndicator:Bg,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,a=e.isFocused,o=e.theme,r=o.colors,i=o.borderRadius;return eu({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?r.neutral5:r.neutral0,borderColor:n?r.neutral10:a?r.primary:r.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(r.primary):void 0,"&:hover":{borderColor:a?r.primary:r.neutral30}})},dropdownIndicator:Lg,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,a=n.colors,o=n.spacing;return eu({label:"group",cursor:"default",display:"block"},t?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*o.baseUnit,paddingRight:3*o.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,a=e.theme,o=a.spacing.baseUnit,r=a.colors;return eu({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?r.neutral10:r.neutral20,marginBottom:2*o,marginTop:2*o})},input:function(e,t){var n=e.isDisabled,a=e.value,o=e.theme,r=o.spacing,i=o.colors;return eu(eu({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},jg),t?{}:{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,a=e.size,o=e.theme,r=o.colors,i=o.spacing.baseUnit;return eu({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?r.neutral60:r.neutral20,padding:2*i})},loadingMessage:Ng,menu:function(e,t){var n,a=e.placement,o=e.theme,r=o.borderRadius,i=o.spacing,s=o.colors;return eu((Qd(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(a),"100%"),Qd(n,"position","absolute"),Qd(n,"width","100%"),Qd(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:r,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return eu({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:a,paddingTop:a})},menuPortal:function(e){var t=e.rect,n=e.offset,a=e.position;return{left:t.left,position:a,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,a=n.spacing,o=n.borderRadius,r=n.colors;return eu({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:r.neutral10,borderRadius:o/2,margin:a.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,a=n.borderRadius,o=n.colors,r=e.cropWithEllipsis;return eu({overflow:"hidden",textOverflow:r||void 0===r?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:a/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,a=n.spacing,o=n.borderRadius,r=n.colors,i=e.isFocused;return eu({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:i?r.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:r.dangerLight,color:r.danger}})},noOptionsMessage:Ig,option:function(e,t){var n=e.isDisabled,a=e.isFocused,o=e.isSelected,r=e.theme,i=r.spacing,s=r.colors;return eu({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?s.primary:a?s.primary25:"transparent",color:n?s.neutral20:o?s.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:n?void 0:o?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,a=n.spacing,o=n.colors;return eu({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,a=e.theme,o=a.spacing,r=a.colors;return eu({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?r.neutral40:r.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,a=e.isMulti,o=e.hasValue,r=e.selectProps.controlShouldRenderValue;return eu({alignItems:"center",display:a&&o&&r?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},Dm={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Om={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:lg(),captureMenuScroll:!lg(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=eu({ignoreCase:!0,ignoreAccents:!0,stringify:dm,trim:!0,matchFrom:"any"},Mm),a=n.ignoreCase,o=n.ignoreAccents,r=n.stringify,i=n.trim,s=n.matchFrom,l=i?cm(t):t,c=i?cm(r(e)):r(e);return a&&(l=l.toLowerCase(),c=c.toLowerCase()),o&&(l=lm(l),c=sm(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(Tg){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Pm(e,t,n,a){return{type:"option",data:t,isDisabled:Wm(e,t,n),isSelected:Fm(e,t,n),label:Vm(e,t),value:Hm(e,t),index:a}}function Lm(e,t){return e.options.map(function(n,a){if("options"in n){var o=n.options.map(function(n,a){return Pm(e,n,t,a)}).filter(function(t){return zm(e,t)});return o.length>0?{type:"group",data:n,options:o,index:a}:void 0}var r=Pm(e,n,t,a);return zm(e,r)?r:void 0}).filter(gg)}function Bm(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,pu(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function Gm(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,pu(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function zm(e,t){var n=e.inputValue,a=void 0===n?"":n,o=t.data,r=t.isSelected,i=t.label,s=t.value;return(!Um(e)||!r)&&jm(e,{label:i,value:s,data:o},a)}var _m=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},Vm=function(e,t){return e.getOptionLabel(t)},Hm=function(e,t){return e.getOptionValue(t)};function Wm(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Fm(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var a=Hm(e,t);return n.some(function(t){return Hm(e,t)===a})}function jm(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Um=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Xm=1,Zm=/* @__PURE__ */function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lu(e,t)}(n,d);var t=function(e){var t=du();return function(){var n,a=cu(e);if(t){var o=cu(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return uu(this,n)}}(n);function n(e){var a;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(e){a.controlRef=e},a.focusedOptionRef=null,a.getFocusedOptionRef=function(e){a.focusedOptionRef=e},a.menuListRef=null,a.getMenuListRef=function(e){a.menuListRef=e},a.inputRef=null,a.getInputRef=function(e){a.inputRef=e},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(e,t){var n=a.props,o=n.onChange,r=n.name;t.name=r,a.ariaOnChange(e,t),o(e,t)},a.setValue=function(e,t,n){var o=a.props,r=o.closeMenuOnSelect,i=o.isMulti,s=o.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:s}),r&&(a.setState({inputIsHiddenAfterUpdate:!i}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(e,{action:t,option:n})},a.selectOption=function(e){var t=a.props,n=t.blurInputOnSelect,o=t.isMulti,r=t.name,i=a.state.selectValue,s=o&&a.isOptionSelected(e,i),l=a.isOptionDisabled(e,i);if(s){var c=a.getOptionValue(e);a.setValue(i.filter(function(e){return a.getOptionValue(e)!==c}),"deselect-option",e)}else{if(l)return void a.ariaOnChange(e,{action:"select-option",option:e,name:r});o?a.setValue([].concat(pu(i),[e]),"select-option",e):a.setValue(e,"select-option")}n&&a.blurInput()},a.removeValue=function(e){var t=a.props.isMulti,n=a.state.selectValue,o=a.getOptionValue(e),r=n.filter(function(e){return a.getOptionValue(e)!==o}),i=mg(t,r,r[0]||null);a.onChange(i,{action:"remove-value",removedValue:e}),a.focusInput()},a.clearValue=function(){var e=a.state.selectValue;a.onChange(mg(a.props.isMulti,[],null),{action:"clear",removedValues:e})},a.popValue=function(){var e=a.props.isMulti,t=a.state.selectValue,n=t[t.length-1],o=t.slice(0,t.length-1),r=mg(e,o,o[0]||null);n&&a.onChange(r,{action:"pop-value",removedValue:n})},a.getFocusedOptionId=function(e){return _m(a.state.focusableOptionsWithIds,e)},a.getFocusableOptionsWithIds=function(){return Gm(Lm(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kp.apply(void 0,[a.props.classNamePrefix].concat(t))},a.getOptionLabel=function(e){return Vm(a.props,e)},a.getOptionValue=function(e){return Hm(a.props,e)},a.getStyles=function(e,t){var n=a.props.unstyled,o=Rm[e](t,n);o.boxSizing="border-box";var r=a.props.styles[e];return r?r(o,t):o},a.getClassNames=function(e,t){var n,o;return null===(n=(o=a.props.classNames)[e])||void 0===n?void 0:n.call(o,t)},a.getElementId=function(e){return"".concat(a.state.instancePrefix,"-").concat(e)},a.getComponents=function(){return e=a.props,eu(eu({},Zg),e.components);var e},a.buildCategorizedOptions=function(){return Lm(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return Bm(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(e,t){a.setState({ariaSelection:eu({value:e},t)})},a.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(e){a.blockOptionHover=!1},a.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&a.onMenuClose():t&&a.openMenu("first"):(t&&(a.openAfterFocus=!0),a.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},a.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||a.props.isDisabled)){var t=a.props,n=t.isMulti,o=t.menuIsOpen;a.focusInput(),o?(a.setState({inputIsHiddenAfterUpdate:!n}),a.onMenuClose()):a.openMenu("first"),e.preventDefault()}},a.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(a.clearValue(),e.preventDefault(),a.openAfterFocus=!1,"touchend"===e.type?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(e){"boolean"==typeof a.props.closeMenuOnScroll?e.target instanceof HTMLElement&&ag(e.target)&&a.props.onMenuClose():"function"==typeof a.props.closeMenuOnScroll&&a.props.closeMenuOnScroll(e)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(a.initialTouchX=n.clientX,a.initialTouchY=n.clientY,a.userIsDragging=!1)},a.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var o=Math.abs(n.clientX-a.initialTouchX),r=Math.abs(n.clientY-a.initialTouchY);a.userIsDragging=o>5||r>5}},a.onTouchEnd=function(e){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(e.target)&&a.menuListRef&&!a.menuListRef.contains(e.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(e){a.userIsDragging||a.onControlMouseDown(e)},a.onClearIndicatorTouchEnd=function(e){a.userIsDragging||a.onClearIndicatorMouseDown(e)},a.onDropdownIndicatorTouchEnd=function(e){a.userIsDragging||a.onDropdownIndicatorMouseDown(e)},a.handleInputChange=function(e){var t=a.props.inputValue,n=e.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(n,{action:"input-change",prevInputValue:t}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(e){a.props.onFocus&&a.props.onFocus(e),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(e){var t=a.props.inputValue;a.menuListRef&&a.menuListRef.contains(document.activeElement)?a.inputRef.focus():(a.props.onBlur&&a.props.onBlur(e),a.onInputChange("",{action:"input-blur",prevInputValue:t}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1}))},a.onOptionHover=function(e){if(!a.blockOptionHover&&a.state.focusedOption!==e){var t=a.getFocusableOptions().indexOf(e);a.setState({focusedOption:e,focusedOptionId:t>-1?a.getFocusedOptionId(e):null})}},a.shouldHideSelectedOptions=function(){return Um(a.props)},a.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),a.focus()},a.onKeyDown=function(e){var t=a.props,n=t.isMulti,o=t.backspaceRemovesValue,r=t.escapeClearsValue,i=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,p=t.openMenuOnFocus,g=a.state,m=g.focusedOption,h=g.focusedValue,f=g.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(a.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||i)return;a.focusValue("previous");break;case"ArrowRight":if(!n||i)return;a.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(h)a.removeValue(h);else{if(!o)return;n?a.popValue():s&&a.clearValue()}break;case"Tab":if(a.isComposing)return;if(e.shiftKey||!c||!u||!m||p&&a.isOptionSelected(m,f))return;a.selectOption(m);break;case"Enter":if(229===e.keyCode)break;if(c){if(!m)return;if(a.isComposing)return;a.selectOption(m);break}return;case"Escape":c?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:i}),a.onMenuClose()):s&&r&&a.clearValue();break;case" ":if(i)return;if(!c){a.openMenu("first");break}if(!m)return;a.selectOption(m);break;case"ArrowUp":c?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":c?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!c)return;a.focusOption("pageup");break;case"PageDown":if(!c)return;a.focusOption("pagedown");break;case"Home":if(!c)return;a.focusOption("first");break;case"End":if(!c)return;a.focusOption("last");break;default:return}e.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Xm),a.state.selectValue=eg(e.value),e.menuIsOpen&&a.state.selectValue.length){var o=a.getFocusableOptionsWithIds(),r=a.buildFocusableOptions(),i=r.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=o,a.state.focusedOption=r[i],a.state.focusedOptionId=_m(o,r[i])}return a}return function(e,t,n){t&&su(e.prototype,t),n&&su(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&sg(this.menuListRef,this.focusedOptionRef),(Tm()||Em())&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,a=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&a&&!e.menuIsOpen)&&this.focusInput(),o&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):o||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(sg(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,a=n.selectValue,o=n.isFocused,r=this.buildFocusableOptions(),i="first"===e?0:r.length-1;if(!this.props.isMulti){var s=r.indexOf(a[0]);s>-1&&(i=s)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:r[i],focusedOptionId:this.getFocusedOptionId(r[i])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,a=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=n.indexOf(a);a||(o=-1);var r=n.length-1,i=-1;if(n.length){switch(e){case"previous":i=0===o?0:-1===o?r:o-1;break;case"next":o>-1&&o<r&&(i=o+1)}this.setState({inputIsHidden:-1!==i,focusedValue:n[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var o=0,r=a.indexOf(n);n||(r=-1),"up"===e?o=r>0?r-1:a.length-1:"down"===e?o=(r+1)%a.length:"pageup"===e?(o=r-t)<0&&(o=0):"pagedown"===e?(o=r+t)>a.length-1&&(o=a.length-1):"last"===e&&(o=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[o],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[o])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Dm):eu(eu({},Dm),this.props.theme):Dm}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,a=this.getClassNames,o=this.getValue,r=this.selectOption,i=this.setValue,s=this.props,l=s.isMulti,c=s.isRtl,d=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:a,getValue:o,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:d,selectOption:r,selectProps:s,setValue:i,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Wm(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Fm(this.props,e,t)}},{key:"filterOption",value:function(e,t){return jm(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:a})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,n=t.isDisabled,a=t.isSearchable,o=t.inputId,r=t.inputValue,i=t.tabIndex,s=t.form,l=t.menuIsOpen,c=t.required,d=this.getComponents().Input,u=this.state,p=u.inputIsHidden,g=u.ariaSelection,m=this.commonProps,h=o||this.getElementId("input"),f=eu(eu(eu({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==g?void 0:g.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?/* @__PURE__ */e.createElement(d,iu({},m,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:h,innerRef:this.getInputRef,isDisabled:n,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:i,form:s,type:"text",value:r},f)):/* @__PURE__ */e.createElement(pm,iu({id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:$p,onFocus:this.onInputFocus,disabled:n,tabIndex:i,inputMode:"none",form:s,value:""},f))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,n=this.getComponents(),a=n.MultiValue,o=n.MultiValueContainer,r=n.MultiValueLabel,i=n.MultiValueRemove,s=n.SingleValue,l=n.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,p=d.isDisabled,g=d.isMulti,m=d.inputValue,h=d.placeholder,f=this.state,b=f.selectValue,y=f.focusedValue,v=f.isFocused;if(!this.hasValue()||!u)return m?null:/* @__PURE__ */e.createElement(l,iu({},c,{key:"placeholder",isDisabled:p,isFocused:v,innerProps:{id:this.getElementId("placeholder")}}),h);if(g)return b.map(function(n,s){var l=n===y,d="".concat(t.getOptionLabel(n),"-").concat(t.getOptionValue(n));/* @__PURE__ */
return e.createElement(a,iu({},c,{components:{Container:o,Label:r,Remove:i},isFocused:l,isDisabled:p,key:d,index:s,removeProps:{onClick:function(){return t.removeValue(n)},onTouchEnd:function(){return t.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),t.formatOptionLabel(n,"value"))});if(m)return null;var C=b[0];/* @__PURE__ */
return e.createElement(s,iu({},c,{data:C,isDisabled:p}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,n=this.commonProps,a=this.props,o=a.isDisabled,r=a.isLoading,i=this.state.isFocused;if(!this.isClearable()||!t||o||!this.hasValue()||r)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};/* @__PURE__ */
return e.createElement(t,iu({},n,{innerProps:s,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,n=this.commonProps,a=this.props,o=a.isDisabled,r=a.isLoading,i=this.state.isFocused;if(!t||!r)return null;/* @__PURE__ */
return e.createElement(t,iu({},n,{innerProps:{"aria-hidden":"true"},isDisabled:o,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),n=t.DropdownIndicator,a=t.IndicatorSeparator;if(!n||!a)return null;var o=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused;/* @__PURE__ */
return e.createElement(a,iu({},o,{isDisabled:r,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;if(!t)return null;var n=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused,r={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};/* @__PURE__ */
return e.createElement(t,iu({},n,{innerProps:r,isDisabled:a,isFocused:o}))}},{key:"renderMenu",value:function(){var t=this,n=this.getComponents(),a=n.Group,o=n.GroupHeading,r=n.Menu,i=n.MenuList,s=n.MenuPortal,l=n.LoadingMessage,c=n.NoOptionsMessage,d=n.Option,u=this.commonProps,p=this.state.focusedOption,g=this.props,m=g.captureMenuScroll,h=g.inputValue,f=g.isLoading,b=g.loadingMessage,y=g.minMenuHeight,v=g.maxMenuHeight,C=g.menuIsOpen,w=g.menuPlacement,x=g.menuPosition,A=g.menuPortalTarget,I=g.menuShouldBlockScroll,N=g.menuShouldScrollIntoView,k=g.noOptionsMessage,S=g.onMenuScrollToTop,T=g.onMenuScrollToBottom;if(!C)return null;var E,M=function(n,a){var o=n.type,r=n.data,i=n.isDisabled,s=n.isSelected,l=n.label,c=n.value,g=p===r,m=i?void 0:function(){return t.onOptionHover(r)},h=i?void 0:function(){return t.selectOption(r)},f="".concat(t.getElementId("option"),"-").concat(a),b={id:f,onClick:h,onMouseMove:m,onMouseOver:m,tabIndex:-1,role:"option","aria-selected":t.state.isAppleDevice?void 0:s};/* @__PURE__ */
return e.createElement(d,iu({},u,{innerProps:b,data:r,isDisabled:i,isSelected:s,key:f,label:l,type:o,value:c,isFocused:g,innerRef:g?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())E=this.getCategorizedOptions().map(function(n){if("group"===n.type){var r=n.data,i=n.options,s=n.index,l="".concat(t.getElementId("group"),"-").concat(s),c="".concat(l,"-heading");/* @__PURE__ */
return e.createElement(a,iu({},u,{key:l,data:r,options:i,Heading:o,headingProps:{id:c,data:n.data},label:t.formatGroupLabel(n.data)}),n.options.map(function(e){return M(e,"".concat(s,"-").concat(e.index))}))}if("option"===n.type)return M(n,"".concat(n.index))});else if(f){var R=b({inputValue:h});if(null===R)return null;E=/* @__PURE__ */e.createElement(l,u,R)}else{var D=k({inputValue:h});if(null===D)return null;E=/* @__PURE__ */e.createElement(c,u,D)}var O={minMenuHeight:y,maxMenuHeight:v,menuPlacement:w,menuPosition:x,menuShouldScrollIntoView:N},P=/* @__PURE__ */e.createElement(wg,iu({},u,O),function(n){var a=n.ref,o=n.placerProps,s=o.placement,l=o.maxHeight;/* @__PURE__ */
return e.createElement(r,iu({},u,O,{innerRef:a,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:f,placement:s}),/* @__PURE__ */e.createElement(Im,{captureEnabled:m,onTopArrive:S,onBottomArrive:T,lockEnabled:I},function(n){/* @__PURE__ */
return e.createElement(i,iu({},u,{innerRef:function(e){t.getMenuListRef(e),n(e)},innerProps:{role:"listbox","aria-multiselectable":u.isMulti,id:t.getElementId("listbox")},isLoading:f,maxHeight:l,focusedOption:p}),E)}))});return A||"fixed"===x?/* @__PURE__ */e.createElement(s,iu({},u,{appendTo:A,controlElement:this.controlRef,menuPlacement:w,menuPosition:x}),P):P}},{key:"renderFormField",value:function(){var t=this,n=this.props,a=n.delimiter,o=n.isDisabled,r=n.isMulti,i=n.name,s=n.required,l=this.state.selectValue;if(s&&!this.hasValue()&&!o)/* @__PURE__ */
return e.createElement(km,{name:i,onFocus:this.onValueInputFocus});if(i&&!o){if(r){if(a){var c=l.map(function(e){return t.getOptionValue(e)}).join(a);/* @__PURE__ */
return e.createElement("input",{name:i,type:"hidden",value:c})}var d=l.length>0?l.map(function(n,a){/* @__PURE__ */
return e.createElement("input",{key:"i-".concat(a),name:i,type:"hidden",value:t.getOptionValue(n)})}):/* @__PURE__ */e.createElement("input",{name:i,type:"hidden",value:""});/* @__PURE__ */
return e.createElement("div",null,d)}var u=l[0]?this.getOptionValue(l[0]):"";/* @__PURE__ */
return e.createElement("input",{name:i,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,n=this.state,a=n.ariaSelection,o=n.focusedOption,r=n.focusedValue,i=n.isFocused,s=n.selectValue,l=this.getFocusableOptions();/* @__PURE__ */
return e.createElement(em,iu({},t,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:o,focusedValue:r,isFocused:i,selectValue:s,focusableOptions:l,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var t=this.getComponents(),n=t.Control,a=t.IndicatorsContainer,o=t.SelectContainer,r=t.ValueContainer,i=this.props,s=i.className,l=i.id,c=i.isDisabled,d=i.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();/* @__PURE__ */
return e.createElement(o,iu({},p,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),/* @__PURE__ */e.createElement(n,iu({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),/* @__PURE__ */e.createElement(r,iu({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),/* @__PURE__ */e.createElement(a,iu({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,a=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,r=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,l=t.instancePrefix,c=e.options,d=e.value,u=e.menuIsOpen,p=e.inputValue,g=e.isMulti,m=eg(d),h={};if(n&&(d!==n.value||c!==n.options||u!==n.menuIsOpen||p!==n.inputValue)){var f=u?function(e,t){return Bm(Lm(e,t))}(e,m):[],b=u?Gm(Lm(e,m),"".concat(l,"-option")):[],y=a?function(e,t){var n=e.focusedValue,a=e.selectValue.indexOf(n);if(a>-1){if(t.indexOf(n)>-1)return n;if(a<t.length)return t[a]}return null}(t,m):null,v=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,f);h={selectValue:m,focusedOption:v,focusedOptionId:_m(b,v),focusableOptionsWithIds:b,focusedValue:y,clearFocusValueOnUpdate:!1}}var C=null!=o&&e!==n?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},w=r,x=i&&s;return i&&!x&&(w={value:mg(g,m,m[0]||null),options:m,action:"initial-input-focus"},x=!s),"initial-input-focus"===(null==r?void 0:r.action)&&(w=null),eu(eu(eu({},h),C),{},{prevProps:e,ariaSelection:w,prevWasFocused:x})}}]),n}();Zm.defaultProps=Om;var Jm=/* @__PURE__ */m(function(t,n){var a,o,s,l,c,d,u,p,g,m,h,f,b,y,v,C,w,x,A,I,N,k,S,T,E,M,R,D,O,P,L,B=(o=(a=t).defaultInputValue,s=void 0===o?"":o,l=a.defaultMenuIsOpen,c=void 0!==l&&l,d=a.defaultValue,u=void 0===d?null:d,p=a.inputValue,g=a.menuIsOpen,m=a.onChange,h=a.onInputChange,f=a.onMenuClose,b=a.onMenuOpen,y=a.value,v=ou(a,ru),C=au(i(void 0!==p?p:s),2),w=C[0],x=C[1],A=au(i(void 0!==g?g:c),2),I=A[0],N=A[1],k=au(i(void 0!==y?y:u),2),S=k[0],T=k[1],E=r(function(e,t){"function"==typeof m&&m(e,t),T(e)},[m]),M=r(function(e,t){var n;"function"==typeof h&&(n=h(e,t)),x(void 0!==n?n:e)},[h]),R=r(function(){"function"==typeof b&&b(),N(!0)},[b]),D=r(function(){"function"==typeof f&&f(),N(!1)},[f]),O=void 0!==p?p:w,P=void 0!==g?g:I,L=void 0!==y?y:S,eu(eu({},v),{},{inputValue:O,menuIsOpen:P,onChange:E,onInputChange:M,onMenuClose:D,onMenuOpen:R,value:L}));/* @__PURE__ */
return e.createElement(Zm,iu({ref:n},B))});const Ym=m((e,t)=>/* @__PURE__ */C(Jm,{ref:t,...e,className:"select "+(e.className?` ${e.className}`:""),classNamePrefix:"w-select",menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:10001}),menu:e=>({...e,zIndex:10001,width:"max-content",minWidth:"100%"}),...e.styles}})),qm=["GroupChatTarget","NestedChatTarget"],$m=[...qm,"AgentTarget","RandomAgentTarget","GroupManagerTarget","StayTarget"],Qm={AgentTarget:"Pass the floor to another agent",RevertToUserTarget:"Revert to the user agent",RandomAgentTarget:"Choose a random agent",AskUserTarget:"Ask the user",TerminateTarget:"Terminate the flow",GroupChatTarget:"Group Chat",NestedChatTarget:"Trigger a nested chat",GroupManagerTarget:"Return to the group chat manager",StayTarget:"Do Nothing"},Km=g(({target:e,agents:t,onChange:a,isForGroupChat:o=!0})=>{const[s,l]=i(!!e),[c,d]=i(e?.targetType),[u,p]=i("AgentTarget"===e?.targetType?e.value[0]:void 0),[g,m]=i("RandomAgentTarget"===e?.targetType?e.value:[]),h=n(()=>o?$m:qm,[o]),f=n(()=>On.filter(e=>!h.includes(e)).map(e=>({value:e,label:Qm[e]})),[h]),b=n(()=>t.map(e=>({value:e.id,label:e.data.label})),[t]),y=n(()=>c?{label:Qm[c],value:c}:null,[c]),v=n(()=>({label:b.find(e=>e.value===u)?.label,value:u}),[b,u]),x=r(e=>{l(e),e||(d(void 0),a(null))},[a]),A=r(e=>{if(!e?.value)return;const t=e.value;switch(d(t),t){case"AgentTarget":u&&a({targetType:t,value:[u]});break;case"TerminateTarget":case"RevertToUserTarget":case"AskUserTarget":case"GroupManagerTarget":case"StayTarget":a({targetType:t,value:[]});break;case"RandomAgentTarget":g.length>0&&a({targetType:t,value:g})}},[a,u,g]),I=r(e=>{e?.value&&"AgentTarget"===c&&(p(e.value),a({targetType:"AgentTarget",value:[e.value]}))},[a,c]),N=r(e=>{if(!e||"RandomAgentTarget"!==c)return;const t=e.map(e=>e.value);m(t),a({targetType:"RandomAgentTarget",value:t})},[a,c]);/* @__PURE__ */
return w("div",{className:"waldiez-after-work",children:[
/* @__PURE__ */C(Yd,{label:`Include an action to perform after ${o?"the chat ends":"the Agent has no more work to do"}?`,info:"Check this to handle conversation continuation when no further options are available. If no agent is selected and no tool calls have output, we will use this property to determine the next action.",checked:s,id:"afterWork",onChange:x}),s&&/* @__PURE__ */w("div",{className:"flex items-center flex-col margin-bottom-10",children:[
/* @__PURE__ */w("div",{className:"w-full margin-bottom-10",children:[
/* @__PURE__ */C("label",{htmlFor:"afterWorkTargetType",children:"Action to perform after work:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Ym,{inputId:"afterWorkTargetType",options:f,value:y,onChange:A,isMulti:!1})]}),"AgentTarget"===c&&/* @__PURE__ */w("div",{className:"w-full margin-bottom-10",children:[
/* @__PURE__ */C("label",{htmlFor:"afterWorkTargetId",children:"Agent to pass the floor to:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Ym,{inputId:"afterWorkTargetId",options:b,value:v,onChange:I,isClearable:!0,isSearchable:!0,isMulti:!1})]}),"RandomAgentTarget"===c&&/* @__PURE__ */w("div",{className:"w-full",children:[
/* @__PURE__ */C("label",{htmlFor:"afterWorkTargetIds",children:"Agents to choose from:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Ym,{inputId:"afterWorkTargetIds",options:b,value:g.map(e=>({label:b.find(t=>t.value===e)?.label,value:e})),onChange:N,isClearable:!0,isSearchable:!0,isMulti:!0})]})]})]})});Km.displayName="AfterWork";const eh=({isOpen:e,imageUrl:t,onClose:n})=>{const[a,o]=i(!1);if(s(()=>{o(!1)},[t]),s(()=>{const t=t=>{"Escape"===t.key&&e&&n()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,n]),!e||!t)return null;/* @__PURE__ */
return w("div",{className:"image-modal "+(e?"open":""),onClick:n,"data-testid":"modal-overlay",children:[a?/* @__PURE__ */w("div",{className:"modal-error-message",children:[
/* @__PURE__ */C("p",{children:"The image could not be displayed in full size."}),
/* @__PURE__ */C("p",{children:"It may still be available in the chat or might have been removed."})]}):/* @__PURE__ */C("img",{src:t,alt:"Fullscreen preview",className:"modal-image",onClick:e=>{e.stopPropagation()},onError:()=>{o(!0)}}),
/* @__PURE__ */C("button",{type:"button",title:"Close preview",className:"modal-close",onClick:n,"data-testid":"modal-close",children:/* @__PURE__ */C(we,{size:12})})]})},th=(e=3,t=1e3)=>{const n=o(/* @__PURE__ */new Map);return{registerImage:r((a,o)=>{a.onload=()=>{a.classList.remove("loading","failed"),a.style.opacity="1",n.current.delete(o)},a.onerror=()=>{const r=n.current.get(o)||0;r<e?(n.current.set(o,r+1),setTimeout(()=>{a.src=`${o}${o.includes("?")?"&":"?"}retry=${r+1}`},t)):(a.classList.remove("loading"),a.classList.add("failed"),a.style.opacity="0.8")}},[e,t]),resetRetries:r(()=>{n.current.clear()},[])}},nh=({src:e,alt:t="Chat image",className:n,onClick:a})=>{const r=o(null),{registerImage:i}=th();return s(()=>{r.current&&i(r.current,e)},[e,i]),/* @__PURE__ */C("img",{ref:r,src:e,alt:t,className:`loading ${n}`,loading:"lazy",onClick:a})};function ah(e){return(e||"").match(/\S*/)[0]}function oh(e){return t=>{"string"==typeof t&&t!==e.text&&(e.escaped=!0,e.text=t)}}const rh=/[&<>"']/,ih=new RegExp(rh.source,"g"),sh=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,lh=new RegExp(sh.source,"g"),ch={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dh=e=>ch[e];function uh(e,t){if(t){if(rh.test(e))return e.replace(ih,dh)}else if(sh.test(e))return e.replace(lh,dh);return e}const ph={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&#160;":" "},gh=/&(?:amp|lt|gt|quot|nbsp|#(?:0+)?(?:39|160));/g,mh=RegExp(gh.source),hh=(e="")=>mh.test(e)?e.replace(gh,e=>ph[e]||"'"):e,fh=(e,t)=>{if(!t)return e;try{return new URL(e,t).href}catch{return e}};var bh=class{constructor(e){this.renderer=e.renderer}parse(e){this.renderer.elIdList.push(0);const t=e.map(e=>{switch(e.type){case"space":default:return null;case"heading":{const t=e.depth;return this.renderer.heading(this.parseInline(e.tokens),t)}case"paragraph":return this.renderer.paragraph(this.parseInline(e.tokens));case"text":{const t=e;return t.tokens?this.parseInline(t.tokens):e.text}case"blockquote":{const t=e,n=this.parse(t.tokens);return this.renderer.blockquote(n)}case"list":{const t=e;this.renderer.elIdList.push(0);const n=t.items.map(e=>{const t=[];return e.task&&t.push(this.renderer.checkbox(e.checked??!1)),t.push(this.parse(e.tokens)),this.renderer.listItem(t)});return this.renderer.elIdList.pop(),this.renderer.list(n,e.ordered,e.ordered?e.start:void 0)}case"code":return this.renderer.code(e.text,e.lang);case"html":return this.renderer.html(e.text);case"table":{const t=e;this.renderer.elIdList.push(0);const n=t.header.map((t,n)=>this.renderer.tableCell(this.parseInline(t.tokens),{header:!0,align:e.align[n]}));this.renderer.elIdList.pop();const a=this.renderer.tableRow(n),o=this.renderer.tableHeader(a);this.renderer.elIdList.push(0);const r=t.rows.map(t=>{this.renderer.elIdList.push(0);const n=t.map((t,n)=>this.renderer.tableCell(this.parseInline(t.tokens),{header:!1,align:e.align[n]}));return this.renderer.elIdList.pop(),this.renderer.tableRow(n)});this.renderer.elIdList.pop();const i=this.renderer.tableBody(r);return this.renderer.table([o,i])}case"hr":return this.renderer.hr()}});return this.renderer.elIdList.pop(),t}parseInline(e=[]){this.renderer.elIdList.push(0);const t=e.map(e=>{switch(e.type){case"text":return this.renderer.text(hh(e.text));case"strong":return this.renderer.strong(this.parseInline(e.tokens));case"em":return this.renderer.em(this.parseInline(e.tokens));case"del":return this.renderer.del(this.parseInline(e.tokens));case"codespan":return this.renderer.codespan(hh(e.text));case"link":return this.renderer.link(e.href,this.parseInline(e.tokens));case"image":return this.renderer.image(e.href,e.text,e.title);case"html":return this.renderer.html(e.text);case"br":return this.renderer.br();case"escape":return this.renderer.text(e.text);default:return null}});return this.renderer.elIdList.pop(),t}},yh=class{#e;constructor(e={}){this.elIdList=[];const{renderer:t}=e;this.#e=e,t&&"object"==typeof t&&Object.entries(t).forEach(([e,t])=>{const n=e,a=t;this[n]&&"elementId"!==n&&"elIdList"!==n&&"function"==typeof a&&Object.defineProperty(this,n,{value(...e){return this.#t(),a.apply(this,e)},writable:!0,enumerable:!0,configurable:!0})})}#n(e,t=null,n={}){const a={key:`marked-react-${this.elementId}`,suppressHydrationWarning:!0};return this.#t(),u(e,{...n,...a},t)}#t(){this.elIdList[this.elIdList.length-1]+=1}get elementId(){return this.elIdList.join("-")}heading(e,t){return this.#n(`h${t}`,e)}paragraph(e){return this.#n("p",e)}link(e,t){const n=fh(e,this.#e.baseURL),a=this.#e.openLinksInNewTab?"_blank":null;return this.#n("a",t,{href:n,target:a})}image(e,t,n=null){const a=fh(e,this.#e.baseURL);return this.#n("img",null,{src:a,alt:t,title:n})}codespan(e,t=null){const n=t?`${this.#e.langPrefix}${t}`:null;return this.#n("code",e,{className:n})}code(e,t){return this.#n("pre",this.codespan(e,t))}blockquote(e){return this.#n("blockquote",e)}list(e,t,n){return this.#n(t?"ol":"ul",e,t&&1!==n?{start:n}:{})}listItem(e){return this.#n("li",e)}checkbox(e){return this.#n("input",null,{type:"checkbox",disabled:!0,checked:e})}table(e){return this.#n("table",e)}tableHeader(e){return this.#n("thead",e)}tableBody(e){return this.#n("tbody",e)}tableRow(e){return this.#n("tr",e)}tableCell(e,t){const n=t.header?"th":"td";return this.#n(n,e,{align:t.align})}strong(e){return this.#n("strong",e)}em(e){return this.#n("em",e)}del(e){return this.#n("del",e)}text(e){return e}html(e){return e}hr(){return this.#n("hr")}br(){return this.#n("br")}};const vh={isInline:!1,breaks:!1,gfm:!0,baseURL:void 0,openLinksInNewTab:!0,langPrefix:"language-",renderer:void 0},Ch=new Ye;var wh,xh,Ah=e=>{(e=>{if(e.value&&"string"!=typeof e.value)throw new TypeError("[marked-react]: Expected value to be of type string but got "+typeof e.value);if(e.children&&"string"!=typeof e.children)throw new TypeError("[marked-react]: Expected children to be of type string but got "+typeof e.children)})(e);const t={...vh,...e},n=t.instance??Ch,a={breaks:t.breaks,gfm:t.gfm,tokenizer:n.defaults.tokenizer},o=t.value??t.children??"",r=t.isInline?n.Lexer.lexInline(o,a):n.lexer(o,a),i=new bh({renderer:new yh({renderer:t.renderer,baseURL:t.baseURL,openLinksInNewTab:t.openLinksInNewTab,langPrefix:t.langPrefix})});return u(h,null,t.isInline?i.parseInline(r):i.parse(r))};function Ih(){if(xh)return wh;function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(n=>{const a=t[n],o=typeof a;"object"!==o&&"function"!==o||Object.isFrozen(a)||e(a)}),t}xh=1;class t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(e,...t){const n=/* @__PURE__ */Object.create(null);for(const a in e)n[a]=e[a];return t.forEach(function(e){for(const t in e)n[t]=e[t]}),n}const o=e=>!!e.scope;class r{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=n(e)}openNode(e){if(!o(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){o(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const i=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class s{constructor(){this.rootNode=i(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=i({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{s._collapse(e)}))}}class l extends s{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new r(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function c(e){return e?"string"==typeof e?e:e.source:null}function d(e){return g("(?=",e,")")}function u(e){return g("(?:",e,")*")}function p(e){return g("(?:",e,")?")}function g(...e){return e.map(e=>c(e)).join("")}function m(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map(e=>c(e)).join("|")+")"}function h(e){return new RegExp(e.toString()+"|").exec("").length-1}const f=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function b(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let a=c(e),o="";for(;a.length>0;){const e=f.exec(a);if(!e){o+=a;break}o+=a.substring(0,e.index),a=a.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o}).map(e=>`(${e})`).join(t)}const y="[a-zA-Z]\\w*",v="[a-zA-Z_]\\w*",C="\\b\\d+(\\.\\d+)?",w="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",x="\\b(0b[01]+)",A={begin:"\\\\[\\s\\S]",relevance:0},I={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[A]},N={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[A]},k=function(e,t,n={}){const o=a({scope:"comment",begin:e,end:t,contains:[]},n);o.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return o.contains.push({begin:g(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),o},S=k("//","$"),T=k("/\\*","\\*/"),E=k("#","$"),M={scope:"number",begin:C,relevance:0},R={scope:"number",begin:w,relevance:0},D={scope:"number",begin:x,relevance:0},O={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[A,{begin:/\[/,end:/\]/,relevance:0,contains:[A]}]},P={scope:"title",begin:y,relevance:0},L={scope:"title",begin:v,relevance:0},B={begin:"\\.\\s*"+v,relevance:0};var G=/* @__PURE__ */Object.freeze({__proto__:null,APOS_STRING_MODE:I,BACKSLASH_ESCAPE:A,BINARY_NUMBER_MODE:D,BINARY_NUMBER_RE:x,COMMENT:k,C_BLOCK_COMMENT_MODE:T,C_LINE_COMMENT_MODE:S,C_NUMBER_MODE:R,C_NUMBER_RE:w,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:E,IDENT_RE:y,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:B,NUMBER_MODE:M,NUMBER_RE:C,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:N,REGEXP_MODE:O,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=g(t,/.*\b/,e.binary,/\b.*/)),a({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:P,UNDERSCORE_IDENT_RE:v,UNDERSCORE_TITLE_MODE:L});function z(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function _(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function V(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=z,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function H(e,t){Array.isArray(e.illegal)&&(e.illegal=m(...e.illegal))}function W(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function F(e,t){void 0===e.relevance&&(e.relevance=1)}const j=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=g(n.beforeMatch,d(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},U=["of","and","for","in","not","or","if","then","parent","list","value"];function X(e,t,n="keyword"){const a=/* @__PURE__ */Object.create(null);return"string"==typeof e?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach(function(n){Object.assign(a,X(e[n],t,n))}),a;function o(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach(function(t){const n=t.split("|");a[n[0]]=[e,Z(n[0],n[1])]})}}function Z(e,t){return t?Number(t):function(e){return U.includes(e.toLowerCase())}(e)?0:1}const J={},Y=(e,t)=>{J[`${e}/${t}`]||(J[`${e}/${t}`]=!0)},q=new Error;function $(e,t,{key:n}){let a=0;const o=e[n],r={},i={};for(let s=1;s<=t.length;s++)i[s+a]=o[s],r[s+a]=!0,a+=h(t[s-1]);e[n]=i,e[n]._emit=r,e[n]._multi=!0}function Q(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw q;if("object"!=typeof e.beginScope||null===e.beginScope)throw q;$(e,e.begin,{key:"beginScope"}),e.begin=b(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw q;if("object"!=typeof e.endScope||null===e.endScope)throw q;$(e,e.end,{key:"endScope"}),e.end=b(e.end,{joinWith:""})}}(e)}function K(e){function t(t,n){return new RegExp(c(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=h(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(b(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),a=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,a)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=a(e.classNameAliases||{}),function n(r,i){const s=r;if(r.isCompiled)return s;[_,W,Q,j].forEach(e=>e(r,i)),e.compilerExtensions.forEach(e=>e(r,i)),r.__beforeBegin=null,[V,H,F].forEach(e=>e(r,i)),r.isCompiled=!0;let l=null;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),l=r.keywords.$pattern,delete r.keywords.$pattern),l=l||/\w+/,r.keywords&&(r.keywords=X(r.keywords,e.case_insensitive)),s.keywordPatternRe=t(l,!0),i&&(r.begin||(r.begin=/\B|\b/),s.beginRe=t(s.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(s.endRe=t(s.end)),s.terminatorEnd=c(s.end)||"",r.endsWithParent&&i.terminatorEnd&&(s.terminatorEnd+=(r.end?"|":"")+i.terminatorEnd)),r.illegal&&(s.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map(function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return a(e,{variants:null},t)}));if(e.cachedVariants)return e.cachedVariants;if(ee(e))return a(e,{starts:e.starts?a(e.starts):null});if(Object.isFrozen(e))return a(e);return e}("self"===e?r:e)})),r.contains.forEach(function(e){n(e,s)}),r.starts&&n(r.starts,i),s.matcher=function(e){const t=new o;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}function ee(e){return!!e&&(e.endsWithParent||ee(e.starts))}class te extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ne=n,ae=a,oe=Symbol("nomatch"),re=function(n){const a=/* @__PURE__ */Object.create(null),o=/* @__PURE__ */Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let h={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function f(e){return h.noHighlightRe.test(e)}function b(e,t,n){let a="",o="";"object"==typeof t?(a=e,n=t.ignoreIllegals,o=t.language):(Y("10.7.0","highlight(lang, code, ...args) has been deprecated."),Y("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,a=t),void 0===n&&(n=!0);const r={code:a,language:o};k("before:highlight",r);const i=r.result?r.result:y(r.language,r.code,n);return i.code=r.code,k("after:highlight",i),i}function y(e,n,o,r){const l=/* @__PURE__ */Object.create(null);function c(e,t){return e.keywords[t]}function d(){if(!S.keywords)return void E.addText(M);let e=0;S.keywordPatternRe.lastIndex=0;let t=S.keywordPatternRe.exec(M),n="";for(;t;){n+=M.substring(e,t.index);const a=I.case_insensitive?t[0].toLowerCase():t[0],o=c(S,a);if(o){const[e,r]=o;if(E.addText(n),n="",l[a]=(l[a]||0)+1,l[a]<=7&&(R+=r),e.startsWith("_"))n+=t[0];else{const n=I.classNameAliases[e]||e;p(t[0],n)}}else n+=t[0];e=S.keywordPatternRe.lastIndex,t=S.keywordPatternRe.exec(M)}n+=M.substring(e),E.addText(n)}function u(){null!=S.subLanguage?function(){if(""===M)return;let e=null;if("string"==typeof S.subLanguage){if(!a[S.subLanguage])return void E.addText(M);e=y(S.subLanguage,M,!0,T[S.subLanguage]),T[S.subLanguage]=e._top}else e=v(M,S.subLanguage.length?S.subLanguage:null);S.relevance>0&&(R+=e.relevance),E.__addSublanguage(e._emitter,e.language)}():d(),M=""}function p(e,t){""!==e&&(E.startScope(t),E.addText(e),E.endScope())}function g(e,t){let n=1;const a=t.length-1;for(;n<=a;){if(!e._emit[n]){n++;continue}const a=I.classNameAliases[e[n]]||e[n],o=t[n];a?p(o,a):(M=o,d(),M=""),n++}}function m(e,t){return e.scope&&"string"==typeof e.scope&&E.openNode(I.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(p(M,I.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),M=""):e.beginScope._multi&&(g(e.beginScope,t),M="")),S=Object.create(e,{parent:{value:S}}),S}function f(e,n,a){let o=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,a);if(o){if(e["on:end"]){const a=new t(e);e["on:end"](n,a),a.isMatchIgnored&&(o=!1)}if(o){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return f(e.parent,n,a)}function b(e){return 0===S.matcher.regexIndex?(M+=e[0],1):(P=!0,0)}function C(e){const t=e[0],a=n.substring(e.index),o=f(S,e,a);if(!o)return oe;const r=S;S.endScope&&S.endScope._wrap?(u(),p(t,S.endScope._wrap)):S.endScope&&S.endScope._multi?(u(),g(S.endScope,e)):r.skip?M+=t:(r.returnEnd||r.excludeEnd||(M+=t),u(),r.excludeEnd&&(M=t));do{S.scope&&E.closeNode(),S.skip||S.subLanguage||(R+=S.relevance),S=S.parent}while(S!==o.parent);return o.starts&&m(o.starts,e),r.returnEnd?0:t.length}let w={};function x(a,r){const s=r&&r[0];if(M+=a,null==s)return u(),0;if("begin"===w.type&&"end"===r.type&&w.index===r.index&&""===s){if(M+=n.slice(r.index,r.index+1),!i){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=w.rule,t}return 1}if(w=r,"begin"===r.type)return function(e){const n=e[0],a=e.rule,o=new t(a),r=[a.__beforeBegin,a["on:begin"]];for(const t of r)if(t&&(t(e,o),o.isMatchIgnored))return b(n);return a.skip?M+=n:(a.excludeBegin&&(M+=n),u(),a.returnBegin||a.excludeBegin||(M=n)),m(a,e),a.returnBegin?0:n.length}(r);if("illegal"===r.type&&!o){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(S.scope||"<unnamed>")+'"');throw e.mode=S,e}if("end"===r.type){const e=C(r);if(e!==oe)return e}if("illegal"===r.type&&""===s)return M+="\n",1;if(O>1e5&&O>3*r.index){throw new Error("potential infinite loop, way more iterations than matches")}return M+=s,s.length}const I=A(e);if(!I)throw s.replace("{}",e),new Error('Unknown language: "'+e+'"');const N=K(I);let k="",S=r||N;const T={},E=new h.__emitter(h);!function(){const e=[];for(let t=S;t!==I;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>E.openNode(e))}();let M="",R=0,D=0,O=0,P=!1;try{if(I.__emitTokens)I.__emitTokens(n,E);else{for(S.matcher.considerAll();;){O++,P?P=!1:S.matcher.considerAll(),S.matcher.lastIndex=D;const e=S.matcher.exec(n);if(!e)break;const t=x(n.substring(D,e.index),e);D=e.index+t}x(n.substring(D))}return E.finalize(),k=E.toHTML(),{language:e,value:k,relevance:R,illegal:!1,_emitter:E,_top:S}}catch(L){if(L.message&&L.message.includes("Illegal"))return{language:e,value:ne(n),illegal:!0,relevance:0,_illegalBy:{message:L.message,index:D,context:n.slice(D-100,D+100),mode:L.mode,resultSoFar:k},_emitter:E};if(i)return{language:e,value:ne(n),illegal:!1,relevance:0,errorRaised:L,_emitter:E,_top:S};throw L}}function v(e,t){t=t||h.languages||Object.keys(a);const n=function(e){const t={value:ne(e),illegal:!1,relevance:0,_top:c,_emitter:new h.__emitter(h)};return t._emitter.addText(e),t}(e),o=t.filter(A).filter(N).map(t=>y(t,e,!1));o.unshift(n);const r=o.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(A(e.language).supersetOf===t.language)return 1;if(A(t.language).supersetOf===e.language)return-1}return 0}),[i,s]=r,l=i;return l.secondBest=s,l}function C(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=h.languageDetectRe.exec(t);if(n){const e=A(n[1]);return e||s.replace("{}",n[1]),e?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>f(e)||A(e))}(e);if(f(n))return;if(k("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return;if(e.children.length>0&&(h.ignoreUnescapedHTML,h.throwUnescapedHTML)){throw new te("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const a=t.textContent,r=n?b(a,{language:n,ignoreIllegals:!0}):v(a);e.innerHTML=r.value,e.dataset.highlighted="yes",function(e,t,n){const a=t&&o[t]||n;e.classList.add("hljs"),e.classList.add(`language-${a}`)}(e,n,r.language),e.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(e.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),k("after:highlightElement",{el:e,result:r,text:a})}let w=!1;function x(){if("loading"===document.readyState)return w||window.addEventListener("DOMContentLoaded",function(){x()},!1),void(w=!0);document.querySelectorAll(h.cssSelector).forEach(C)}function A(e){return e=(e||"").toLowerCase(),a[e]||a[o[e]]}function I(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{o[e.toLowerCase()]=t})}function N(e){const t=A(e);return t&&!t.disableAutodetect}function k(e,t){const n=e;r.forEach(function(e){e[n]&&e[n](t)})}Object.assign(n,{highlight:b,highlightAuto:v,highlightAll:x,highlightElement:C,highlightBlock:function(e){return Y("10.7.0","highlightBlock will be removed entirely in v12.0"),Y("10.7.0","Please use highlightElement now."),C(e)},configure:function(e){h=ae(h,e)},initHighlighting:()=>{x(),Y("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){x(),Y("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(e,t){let o=null;try{o=t(n)}catch(r){if("Language definition for '{}' could not be registered.".replace("{}",e),!i)throw r;o=c}o.name||(o.name=e),a[e]=o,o.rawDefinition=t.bind(null,n),o.aliases&&I(o.aliases,{languageName:e})},unregisterLanguage:function(e){delete a[e];for(const t of Object.keys(o))o[t]===e&&delete o[t]},listLanguages:function(){return Object.keys(a)},getLanguage:A,registerAliases:I,autoDetection:N,inherit:ae,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),r.push(e)},removePlugin:function(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}),n.debugMode=function(){i=!1},n.safeMode=function(){i=!0},n.versionString="11.11.1",n.regex={concat:g,lookahead:d,either:m,optional:p,anyNumberOfTimes:u};for(const t in G)"object"==typeof G[t]&&e(G[t]);return Object.assign(n,G),n},ie=re({});return ie.newInstance=()=>re({}),wh=ie,ie.HighlightJS=ie,ie.default=ie,wh}const Nh=/* @__PURE__ */zs(/* @__PURE__ */Ih());const kh="[A-Za-z$_][0-9A-Za-z$_]*",Sh=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Th=["true","false","null","undefined","NaN","Infinity"],Eh=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Mh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Rh=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Dh=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Oh=[].concat(Rh,Eh,Mh);const Ph="[A-Za-z$_][0-9A-Za-z$_]*",Lh=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Bh=["true","false","null","undefined","NaN","Infinity"],Gh=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],zh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],_h=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Vh=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Hh=[].concat(_h,Gh,zh);function Wh(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},r=e.inherit(o,{begin:/\(/,end:/\)/}),i=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,s,i,r,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,r,s,i]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}Nh.getLanguage("python")||Nh.registerLanguage("python",function(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),a=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:a,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},r={className:"meta",begin:/^(>>>|\.\.\.) /},i={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,r,s,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,r,s,i]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,i]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",d=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,u=`\\b|${a.join("|")}`,p={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${d}))[eE][+-]?(${c})[jJ]?(?=${u})`},{begin:`(${d})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${u})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${u})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${u})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${u})`},{begin:`\\b(${c})[jJ](?=${u})`}]},g={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},m={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",r,p,l,e.HASH_COMMENT_MODE]}]};return i.contains=[l,p,r],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[r,p,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},l,g,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[m]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[p,m,l]}]}}),Nh.getLanguage("markdown")||Nh.registerLanguage("markdown",function(e){const t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},a={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},o={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},r=e.inherit(a,{contains:[]}),i=e.inherit(o,{contains:[]});a.contains.push(i),o.contains.push(r);let s=[t,n];return[a,o,r,i].forEach(e=>{e.contains=e.contains.concat(s)}),s=s.concat(a,o),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:s},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:s}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a,o,{className:"quote",begin:"^>\\s+",contains:s,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}),Nh.getLanguage("json")||Nh.registerLanguage("json",function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}),Nh.getLanguage("bash")||Nh.registerLanguage("bash",function(e){const t=e.regex,n={},a={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},a]});const o={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},r=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,o]};o.contains.push(s);const l={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},c=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),d={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[c,e.SHEBANG(),d,l,r,i,{match:/(\/[a-z._-]+)+/},s,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}}),Nh.getLanguage("javascript")||Nh.registerLanguage("javascript",function(e){const t=e.regex,n=kh,a="<>",o="</>",r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,a=e.input[n];if("<"===a||","===a)return void t.ignoreMatch();let o;">"===a&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const r=e.input.substring(n);((o=r.match(/^\s*=/))||(o=r.match(/^\s+extends\s+/))&&0===o.index)&&t.ignoreMatch()}},i={$pattern:kh,keyword:Sh,literal:Th,built_in:Oh,"variable.language":Dh},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},u={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"graphql"}},h={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,u]},f={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,m,h,{match:/\$\d+/},d];u.contains=b.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(b)});const y=[].concat(f,u.contains),v=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:i,contains:["self"].concat(y)}]),C={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:v},w={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},x={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Eh,...Mh]}},A={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[C],illegal:/%/},I={match:t.concat(/\b/,(N=[...Rh,"super","import"].map(e=>`${e}\\s*\\(`),t.concat("(?!",N.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var N;const k={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},S={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},C]},T="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",E={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(T)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[C]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:v,CLASS_REFERENCE:x},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,m,h,f,{match:/\$\d+/},d,x,{scope:"attr",match:n+t.lookahead(":"),relevance:0},E,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[f,e.REGEXP_MODE,{className:"function",begin:T,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:v}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a,end:o},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:r.begin,"on:begin":r.isTrulyOpeningTag,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[C,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},k,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[C]},I,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},w,S,{match:/\$[(.]/}]}}),Nh.getLanguage("typescript")||Nh.registerLanguage("typescript",function(e){const t=e.regex,n=function(e){const t=e.regex,n=Ph,a="<>",o="</>",r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,a=e.input[n];if("<"===a||","===a)return void t.ignoreMatch();let o;">"===a&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const r=e.input.substring(n);((o=r.match(/^\s*=/))||(o=r.match(/^\s+extends\s+/))&&0===o.index)&&t.ignoreMatch()}},i={$pattern:Ph,keyword:Lh,literal:Bh,built_in:Hh,"variable.language":Vh},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},u={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"graphql"}},h={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,u]},f={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,m,h,{match:/\$\d+/},d];u.contains=b.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(b)});const y=[].concat(f,u.contains),v=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:i,contains:["self"].concat(y)}]),C={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:v},w={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},x={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Gh,...zh]}},A={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[C],illegal:/%/},I={match:t.concat(/\b/,(N=[..._h,"super","import"].map(e=>`${e}\\s*\\(`),t.concat("(?!",N.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var N;const k={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},S={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},C]},T="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",E={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(T)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[C]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:v,CLASS_REFERENCE:x},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,g,m,h,f,{match:/\$\d+/},d,x,{scope:"attr",match:n+t.lookahead(":"),relevance:0},E,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[f,e.REGEXP_MODE,{className:"function",begin:T,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:v}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a,end:o},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:r.begin,"on:begin":r.isTrulyOpeningTag,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[C,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},k,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[C]},I,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},w,S,{match:/\$[(.]/}]}}(e),a=Ph,o=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],r={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},i={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:o},contains:[n.exports.CLASS_REFERENCE]},s={$pattern:Ph,keyword:Lh.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:Bh,built_in:Hh.concat(o),"variable.language":Vh},l={className:"meta",begin:"@"+a},c=(e,t,n)=>{const a=e.contains.findIndex(e=>e.label===t);if(-1===a)throw new Error("can not find mode to replace");e.contains.splice(a,1,n)};Object.assign(n.keywords,s),n.exports.PARAMS_CONTAINS.push(l);const d=n.contains.find(e=>"attr"===e.scope),u=Object.assign({},d,{match:t.concat(a,t.lookahead(/\s*\?:/))});return n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,d,u]),n.contains=n.contains.concat([l,r,i,u]),c(n,"shebang",e.SHEBANG()),c(n,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),n.contains.find(e=>"func.def"===e.label).relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}),Nh.getLanguage("xml")||Nh.registerLanguage("xml",Wh),Nh.getLanguage("html")||Nh.registerLanguage("html",Wh);const Fh=e=>{if(!e)return"";if("string"==typeof e)return e;if("number"==typeof e)return e.toString();if(Array.isArray(e))return e.map(Fh).filter(Boolean).join("");if("object"==typeof e){if("string"==typeof e.text)return e.text;if("string"==typeof e.prompt)return e.prompt;if(Array.isArray(e.content))return Fh(e.content);if("string"==typeof e.type){const t=e[e.type];if(void 0!==t)return Fh(t)}for(const t of["message","value","data","content"]){if("string"==typeof e[t])return e[t];if(Array.isArray(e[t])||"object"==typeof e[t]){const n=Fh(e[t]);if(n)return n}}}try{return"```json\n"+JSON.stringify(e,null,2)+"\n```"}catch{return""}},jh=({content:e,isDarkMode:t=!1,onImageClick:a})=>{const o=n(()=>Fh(e),[e]),r=n(()=>{return o.length>5&&(e=o,[/\*\*(.*?)\*\*/,/__(.*?)__/,/\[(.*?)\]\((.*?)\)/,/```([\s\S]*?)```/,/#+\s+.*/,/>\s+.*/,/\d+\.\s+.*/,/[\*\-\+]\s+.*/,/\|(.*?)\|/,/!\[(.*?)\]\((.*?)\)/].some(t=>t.test(e)));var e},[o]),i=n(()=>(e=>{let t=e;return t=t.replace(/```md\n([\s\S]*?)```/g,(e,t)=>t),t=t.replace(/```([a-z]*)\n([\s\S]*?)```/g,(e,t,n)=>t&&"md"!==t?`\`\`\`${t}\n${n}\`\`\``:`\`\`\`\n${n}\`\`\``),t})(o),[o]),s=n(()=>{const e=new Ye(function(e){if("function"==typeof e&&(e={highlight:e}),!e||"function"!=typeof e.highlight)throw new Error("Must provide highlight function");return"string"!=typeof e.langPrefix&&(e.langPrefix="language-"),"string"!=typeof e.emptyLangClass&&(e.emptyLangClass=""),{async:!!e.async,walkTokens(t){if("code"!==t.type)return;const n=ah(t.lang);if(e.async)return Promise.resolve(e.highlight(t.text,n,t.lang||"")).then(oh(t));const a=e.highlight(t.text,n,t.lang||"");if(a instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");oh(t)(a)},useNewRenderer:!0,renderer:{code(t,n,a){"object"==typeof t&&(a=t.escaped,n=t.lang,t=t.text);const o=ah(n),r=o?e.langPrefix+uh(o):e.emptyLangClass,i=r?` class="${r}"`:"";return t=t.replace(/\n$/,""),`<pre><code${i}>${a?t:uh(t,!0)}\n</code></pre>`}}}}({langPrefix:"hljs language-",highlight(e,t){const n=Nh.getLanguage(t)?t:"plaintext";return Nh.highlight(e,{language:n}).value}}));return e.setOptions({gfm:!0,breaks:!1,pedantic:!1}),e},[]),l=n(()=>({link:(e,t)=>/* @__PURE__ */C("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"markdown-link",children:e}),image:(e,t)=>/* @__PURE__ */C("img",{src:t,alt:e||"Image",className:"chat-image markdown-image",onClick:()=>t&&a&&a(t)}),heading:(e,t)=>/* @__PURE__ */C(`h${t}`,{className:`markdown-h${t}`,children:e}),list:(e,t)=>/* @__PURE__ */C(t?"ol":"ul",{className:t?"markdown-ol":"markdown-ul",children:e}),listitem:e=>/* @__PURE__ */C("li",{className:"markdown-li",children:e}),blockquote:e=>/* @__PURE__ */C("blockquote",{className:"markdown-blockquote",children:e}),table:e=>/* @__PURE__ */C("table",{className:"markdown-table",children:e}),thead:e=>/* @__PURE__ */C("thead",{className:"markdown-thead",children:e}),tbody:e=>/* @__PURE__ */C("tbody",{className:"markdown-tbody",children:e}),tablerow:e=>/* @__PURE__ */C("tr",{className:"markdown-tr",children:e}),tablecell:(e,t)=>/* @__PURE__ */C(t?"th":"td",{className:t?"markdown-th":"markdown-td",children:e}),codespan:e=>/* @__PURE__ */C("code",{className:"markdown-inline-code",children:e}),code:(e,t)=>t?/* @__PURE__ */w("div",{className:"markdown-code-block-wrapper",children:[
/* @__PURE__ */C("div",{className:"markdown-code-block-header",children:/* @__PURE__ */C("span",{className:"markdown-code-language",children:t})}),
/* @__PURE__ */C("pre",{className:"markdown-pre",children:/* @__PURE__ */C("code",{className:`markdown-code hljs language-${t}`,children:e})})]}):/* @__PURE__ */C("pre",{className:"markdown-pre",children:/* @__PURE__ */C("code",{className:"markdown-code",children:e})}),paragraph:e=>/* @__PURE__ */C("p",{className:"markdown-p",children:e}),hr:()=>/* @__PURE__ */C("hr",{className:"markdown-hr"})}),[a]);if(!r)/* @__PURE__ */
return C("span",{children:o});/* @__PURE__ */
return C("div",{className:`markdown-renderer ${t?"markdown-dark":"markdown-light"}`,children:/* @__PURE__ */C(Ah,{value:i,gfm:!0,breaks:!0,renderer:l,instance:s})})};jh.displayName="Markdown";const Uh=(e,t,n,a)=>`${e}/${t}:${n}${a?`#${a}`:""}`,Xh=(e,t,n,a="root")=>{if(!Array.isArray(e)||0===e.length)return null;const o=e.map((e,o)=>{if("string"==typeof e)return Zh(e,t,n);if(!e||!e.type)return null;if("text"===e.type&&"string"==typeof e.text&&e.text.trim())/* @__PURE__ */
return C(jh,{content:e.text,isDarkMode:t,onImageClick:n},Uh(a,o,"text"));if("image_url"===e.type&&e.image_url?.url){const t=e.image_url.url;/* @__PURE__ */
return C(nh,{src:t,className:"chat-image",onClick:()=>n(t)},Uh(a,o,"image_url",t))}if("image"===e.type&&e.image?.url){const t=e.image.url;/* @__PURE__ */
return C(nh,{src:t,className:"chat-image",onClick:()=>n(t)},Uh(a,o,"image",t))}if(Array.isArray(e.content)){const r=Xh(e.content,t,n,`${a}/${o}`);if(r)/* @__PURE__ */
return C(h,{children:r},Uh(a,o,"nested"))}return null}).filter(Boolean);return 0===o.length?null:/* @__PURE__ */C("div",{className:"structured-content",children:o})},Zh=(e,t,n)=>{const a=/\[Image:\s*(.+?)\]/g,o=[];let r,i=0;for(;r=a.exec(e);){const[s,l]=r,c=e.slice(i,r.index);c&&o.push(
/* @__PURE__ */C(jh,{content:c,isDarkMode:t,onImageClick:n},`text-${i}`)),l&&(o.push(
/* @__PURE__ */C(nh,{src:l,className:"chat-image",onClick:()=>n(l)},`img-${r.index}`)),i=a.lastIndex)}const s=e.slice(i);return s&&o.push(/* @__PURE__ */C("span",{children:s},"text-end")),/* @__PURE__ */C("div",{className:"content-with-images",children:o})},Jh=({messages:e,isDarkMode:t,userParticipants:n})=>{const[a,l]=i(null),c=o(null),{resetRetries:d}=th(),u=o(0),p=n.map(e=>"string"==typeof e?e:e.isUser?e.name:void 0).filter(e=>"string"==typeof e),g=r(e=>l(e),[]),m=r(()=>l(null),[]);s(()=>{d()},[e.length,d]);const h=r(e=>{const{id:n,timestamp:a,type:o,content:r,sender:i,recipient:s}=e;try{const e=((e,t,n)=>{if("string"==typeof e)try{const a=JSON.parse(e);return Array.isArray(a)?Xh(a,t,n):Xh([a],t,n)}catch{return Zh(e,t,n)}return Array.isArray(e)?Xh(e,t,n):"object"==typeof e?"content"in e&&e.content?Array.isArray(e.content)?Xh(e.content,t,n):Xh([e.content],t,n):Xh([e],t,n):Zh(String(e),t,n)})(r,t,g);return{id:n,timestamp:a,type:o,sender:i,recipient:s,node:e}}catch(l){return{id:n,timestamp:a,type:o,sender:i,recipient:s,node:null}}},[g,t]),f=r(e=>e.sender&&p.includes(e.sender)?"user-message":"error"===e.type?"error-message":"input_request"===e.type?"request-message":vt.isSystemMessage(e)?"system-message":"assistant-message",[p]),b=r((e,t)=>`msg-${t}-${e.id}-${e.timestamp}`,[]);return s(()=>{const t=e.length>u.current;if(u.current=e.length,!t)return;const n=()=>{const e=c.current;if(e)e.scrollTop=e.scrollHeight;else{document.querySelectorAll(".chat-container").forEach(e=>{e.scrollTop=e.scrollHeight})}};setTimeout(n,10),setTimeout(n,100),setTimeout(n,300)},[e.length]),/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("div",{className:"chat-container",ref:c,children:e.map((e,t)=>{const n=h(e);if(!n.node)return null;const a=f(n),o="user-message"===a||"assistant-message"===a;/* @__PURE__ */
return w("div",{className:`message-bubble ${f(n)}`,"data-testid":"rf-chat-message",children:[
/* @__PURE__ */C("div",{className:`message-header ${o&&a}`,children:/* @__PURE__ */w(x,"assistant-message"===a?{children:[o&&/* @__PURE__ */C("div",{className:"avatar-container",children:/* @__PURE__ */C("div",{className:"avatar assistant-avatar",children:/* @__PURE__ */C("img",{src:"data:image/webp;base64,UklGRgIUAABXRUJQVlA4WAoAAAAQAAAAfwAAfwAAQUxQSL8EAAABoIZt29lIe1Nj7DXG1tq2bdu2bds2R2vb5uhYW53tTtsk7/th+T5Pfu2fiJgA8ndn5KSTpyZHKliTezZKbfebKlapy+y7l0splGGy43uOaQZl8t/NfrjHX5miDv3oUIQyhST8KDFYmdwXSt+Tlrgrk9Ao9XupjQVlIs5D3vzv7VBnotSmhtdk6WRDE1HwsXZrHFH0qXZruLJtEK1h39ObTYISbZesQUbfoPiydboNHVDNR3FUXimSbdSYpQmXMu2Uyc/H51QSwaNY2wlrn1NqZz/5sptaMVxrjdtz6amN/aq81ksZNIUnnE37Qtnv3JNfCYw19jzJouw3r3TBT1/9ZLZM2W8/U8MJOX3sPpH94XebG7np0NIWnPaV8fh0dJARJ58mNxin0q0uuQV8VGEzX1NeGPuwLFaDjbbMbgvj2ZpQWouLse5ZO+PbfqKMBhNdg3sS4108EyXgIdTIlBn/4hl3PGLeUgZR2oZGnqcMam8BB/djDOz7WBRM021wpL1uCAj1XlA47G07BAqkiAyweCAPOM2gdwz0y87goo/JsMStfsDU/T4x4PdrAQvcTaHZJ2hhNXjJwO8JgKTzmczgP66lVQEx+RfrOPceAraV7arF5tbwpw3vc9TK0Hy2tbm/ijOXhgdtDFNq2VpFz5VLl/sSQ9ZxtZmRI12LVJmhK92sq+Un/qLMEBaPRnHjPsXBULaPdeUl4ilDOjWCE1MPhnYnAx8+2/Da7M1H3gd43cnLR4AFry/+fAQxxIP4CPiKly2Qj3yP8MrMz4fPDrwS/fgw98NruBMfJOolVh+KCJx4zhZxkpb6EF6LXpVRul9e4MbYJpUi9KKPM+HXrUeqjA19McqX8Oza7JQdF+l2d1/Cty5q4CUZkadzSpgJ9+aCZXpNmrQ4HZrl3K5t0xuHeggEoqAzGl0WZAM7HOnibNIQyCVuUUj0TW8Cf3oWJHG/NwL5zslwaGpVgmGDV3CsIwUUNBMcYDa5ERw9NkA54k+w9E+AcS6WoCnEnoFwobiAB1EVO8vfhZJqgmpECm9nihBsAzZmUX5o1tYQgq/H2McSL1LaRG+CsaHLc16edtYThJ0Ld1mZwcuD+a0jDNg4VZl2xkIZt/L7Q0OjtJgIhRfd/sY4/3hqoB8e5tG3rIx/+vZwdSyCU74wmNLLSXoUIq9LDGz2KgM8VdErMgP8bYUbNHXRkzIDbZnvDUsVkyAx4B8neYHKu9LGwD/t6gTIedgnhuCNihowqsoZDENpb24w5oMMR2tPHZS6NiTYfU8ohxiWcksgwQzP0wIIw1pEWHkBgK6DA5OH4QAiMygm8j4A8am4JAEwdn2OyeHiAIih5i00HKsiCEhVTAISn0blIkCFvHPsGGS0diFwzd1fwTtbXCCQVaVSvsiAqPh8Vi4C3WPAdSuctynV1ATByLl3HDA+nerpSnBUV175WOTPcn50AMHTvd7c2w6+vhwZWkxHMBU8yo29ZueGWvZ2iTISdF0jOh/l5PPq6vn1BGW9X7l1H//c3VGhHiqCtqD163k2+0+821LFRU3Qz9dq6Y2PX75m20WJUsaoLDps37I+vz88roILUUz3ws2GzdmQcO7S5cuXjm9ZMbFrrVDytyYAVlA4IBwPAADwOwCdASqAAIAAPjEWiEMiISEWii3IIAMEoA1bWqXx49/ZvMnrr+b8jHP/GM7qeYD53f5P1B/pv/re4J+qPSG8w37M/tx7tP+Z9Wf9e9QD+e/6X//9h16AHlxfun8If9g/6f7re0t//84g/pP4NeBv94/Hnzn/F/m/7D+Q39p/73ujZp/IP2P/VeRX7Pfdvyo/r/7ec6vxw1CPxX+Rf338qv61w4up/4v0AvYz6z/m/7n+3f+A9KnUy8Cf7j3AP5D/QP9P+bXMw0AP6D/hP+d/hfdN/o//L/lvO/+X/4v/r/5r8j/sH/mP9W/5P9//dr9//rH9m/7c+zL+z6P6Ywb1sUYVBWSmu/ZD469Iw2VgEJHkAKtfGXbzEAlXAGauwDnHGk8KwbgyGlgmEK4TY+AYshUxD5PRKJrtutAxBfDfKotAWum4ReDuD0IQpI7BkN7xAdMH1b6oBZjeM9orHs679saqzWRcbw2ZL8ixOx54o3JgJ0OkWkKNnQcL2JCcva8fIZcrpkyvTo6tOAAM+DHEV1VlbHVWskWWlzqC7p0yXGa3linqMSQ+PxugtOUrizOmy4Hmyw1Ogrw2DjFxfb/LBn3etlPJYfvFrxDYze3dvv0YyVlVBKZJX9QG7imymnUYq/tb/zWxoAD+/w1n3LX9bNnn/8bVQePYnWRcbQ77U366MhB1pBhXg27Swfv6GEHngHX11G7um/+skX0CLl3OSeUSzCHpj0ZzsNUTk/4v7S9qOAx+Gu2TLK3r+fikazmOXZAPUjMUc/UkntaUnlFMl5YrHs7nKZUpeTPH74bO9t9+aPwAAmOBF9bGAQxKgl7K8HCP1WVM+pEznFsppb1o9EsHKP2qS3bksGs16XuBxzwAI+CjW16wqIxUuBvZfuCXv37u1HL7bImas3Mfp/tMSB4ne8zMGruhWFNMpYp1ajO7yLfuR41tjw5BJhjuPSsl8TQ/SGIVIhlIBagu/HEFzekBZLSOzffKBSrlEjYbz2bgzVjy4fWkOVc0VKSheF/GB2Jr2XBjyDMQW7bTA1x95kX4Kfk8ZyUjE7P8CUYCw+2DoULWKev6+P/+MU7H2IT4keMYryHWCpK225AJbLFGLL/uKPMqEbaJJZNQCGHrQ1vuZEuViZLMoL1wwinv/wn0OB1XNeel/hP+kH9nqqwQ0uYw3iWAzWmeu3byzDlc8Bmcfq6ypRLSVASSofmPbCMxsfg5I0KZd0SLmRmnVJhK+ib580uob6/BJQLIriVFWoMqmXJ1Oh9d/6vzq1QX0BMq6h4rSikm+k3LasPFIwRO1LIEj0rvwNW1WtVuISgKwCZAWaochuXjbAGCpMsZKHjJu+5OoQSc+yk3tsOue+c7nLEApzQVOWnN/zuQbgUIX2GoUK6IjIE3sCHfhzF4n0H34tuBh1owW9UPNYdXoU5pGQkOOUkMC2y00SNr7XdcSXhaQG4FsCKTbxNRe2NCgYFVK+ouaO8OQK9NbYMOhBw9fR2W5hVPP4bpb6lKpp7mo/jAZSO+ZWj1OmEw7jRq1h/Xg+oNdhtsVgonx5orafYXIUPPCdJb0L2jN0egFcCq1qaTZ0cAuXJXpf4cfVP/Vdpr7LLWW4eyDzcdmapbPeugnDS33U0p7d9nL3fxRfLKoiGhyBcuj7l0s1hFNvv5lf7S5kqEnlU64/FBb3K29ysFma+TB5eDI3gAcyYtd85VSWfx7LDxpS36zj+rOgDxmlkSG5/n06IexdmqLBRtvDG6hwNXqFwH2Ah1cYK9aCLaZUNbF1AAXm9Js8887ulfzQpAsMVXlaoihvLbu0JJDnMbNXCmj1/qDCsWlt4PuSdb2vHH2OXtavNOM8ZPY6YRgwgxRZvk3bQrxrxDFvbTFaLp7hxbjvmffgpOobvYOaY/UcxvEtAikkrT/gq/8z0NCkD4k4b5KfdHmEt0vPFuR0TEfqbppVxajf6MKbufbKoGjfbAxf/SEcbyCj7IQq4q/wHpswdhOvVfV9APn2hipLEyof9l5H/gN391CchpIrdCK1yfdlezgp+jFYyZ8flXqWBAl42enJDZyEcm+O+iHO15N+Btf+jV5l2zOgCRWDOQTzyNprbGq7cxOvr3J+Kvt5WbK7Z89g0Ps92WOYRgEWqL3eaggBfpXoNEu4N8yjLOGZ/x8xVKUD/miwzqJY64dDwqqLbf5WG6Wqclcl/erNz7J6cGES2y27H+IKDC7zDo5ah3000PvYPtOYYd45qYa+OCYj4RQ+iicNC0wgCt4A1iLnI3fz6x9cSLeY7YPe3rg4piTD2T2ixaruXVUHkfQxbeDB72NSveEQxa7vQpbUaVO+ALsROTiLb0z5X+JXuhb8HXV+IqFu/rVAbmmyk9Jbp+g9SbmHmnltUDXu0Jlx4PSdAKn4CKSEWcyRi60n+YQWGy5xeox9IbIvhwSeMxRGfIUc54vj6jwz5RS/EPZw7eB+yW+A9cHeSZf04RqXdVt8c5ZQDZyUeLRSXEcUYOf5PDqqA4w1J8KTUvWLS6VngiB91LwWsmDta2hReaQpp8Drd0q6I5xSPMggbZmjLBZuCzCfmHmTl1lG8YgRtz+AadfmdM1fZlEeXwZmKYUzYtBo0Rj0uBwhfZ5SNTEY4zU1SVPKQG9vrlyia015sTu9U2OR0/f7y5GXVDllDZdgs789yDUDoy341etv282H1iD47cr62l583W8hEBSgTuE8YmHL8N0crjchOnzaAWIRIREPAtC5YzgRF3Vu6J4ZGz2zIatbgyUeZ9TXkZIm8zQezJ03HBAxEYvSeSHLXZblzTGDG/jGsZkXbBQId10j77nGXfLV/o9M5bAR/BDKj1A/qLiwpZqZiD3+yRzP5NdMRvPIW+oDrDIt7iLdf+JXIf5UEnjZ0rRU/wOGnlFJHEWC9jcxpYCs9xv08ZOZpBGyoWTWj7C49d7lKsP2/DNtNR8TzgH6QoeT32IPanc3ELa6YKRTd/KJzSfEedps67ksnnZRFE9V/QU/dj/pPMUCnwOmutROWE/nfvzetRbtmfEOIaBAvhNW7vX+HUFpTd40rTWfMX+BXkZSbbv72k5NzhASJ182pyg8HBch6moC8xLzgHbPC7oJ+DREuuCr4C1NNl/ysKidCojzP0t/aAU1obnfIoseOEqTD1+M8GmNZaa6kI26lGhKGa/B4Sixa/Y8Md+z/haSntxrkfaHLteEhKwjYJf35qzKiPrjZMv8BiF6lOSyUYH13UyFjzvcnKx7SSueeAh0n0L9O03/RTPqRcVm6xp+zBOg0aTMf2GOFBfP5cXu2UzBXzCt5eMPExyunPSFDoQo20GiyJqfI9XEDgYqQ9nHbmZRHRQB64JV6AvaKGRUeMrFclI/h6+3mjTwTkRfC9rHzoPUNn6oyzGoF2Cu141tj3cYBCZGnihRxqnENr5phBg52l+JkpQ/Td3cfuC9LpzlFpOGcYUXHjj9mks2TvBDyQAA7Hx43qi/omfk1jcLIwxtooSNrIglKqZ7Z7H3PG4RSfeIrF6Cs6WuNZ+stuRf40cZMbRg3ruUPtoLOF/XoO+S4TdltOVKf91isoSYo9FW0mtZW8RBw26/tyuTWBtn1Jfil/FnDMl6puv9OeeeBSsp0g/yWpNlr9lY4w8Nw/gLK07M3i5I3Ls6lRWFar8SiguH5aonl0VBZGgqXyzzL/spHPA9xgJa5zFXVzHFx+aAhbnL9d+yixNv4qy96n8f8M5LGte4DIF576L0FbyU9XyBGDPWFc0VI9Vvq+cDv7HmVVXP9VqDWwsaKPZgosb2An0y8w23xiJT237XF8yYuLnxErH28qO2ABxA/KqnFnJtcO2r0Gjm9DcNfJSQNkcf622M0g73LP8fR9sU3MjpostVeYMumSV7tJ3/8fD/EDdQZ48ON9XP8hTIXMfgTSYLppMUpAdvuuCYsr4bqGSTyiKzD8gsUN1BajAsay2Nxwzjgaodbn6/HThNvvplC0hY9iypUG59URB53/nbgc0Po/L2wBBzYXG5XRW5M/X4RGM8rTEYb751aOvqkKa1r2l5NYGB5se/ziMW3ewF38/pdI3FXzTKr8RjWqdk6Kb58MxRjyF9/zLH0cPrOlYn1t+BkTjPey/3nokgf8PHbg414xTEKNz35anJ+hbr/N37QZKWpWvbyGMFakBaKq8jO1ubpDqKmJIWgQOdO7CpOHAr9UVv99Nt3wWvfiSPGxOjdZTMksb025gSxkoiNHozs7bQAHASzm6w8Pw925G3qZS/xo5F8Ue5jkZN8FMqSLotbgxCEgwB+XNZO7wSM/dHNWVU6/ZmvAT+60ve/d6JEC3Z9KeDkC8KhKjWfSZGAsDmmncO4NFU1utMc45OmvBfWivyxyvtFaeA3ph634lIP2ZxWYWy8DXYHBAVWyI7j3bLYH8Ct2n76Izyn7Phfz28HEr5NdvVwz8vAPrxvWlhXEQ0DAmqODdQDOu/dVHxhBR0M4xVtbtV5KV5pp/zXdn/kaec8U5hykWJvhLLMPpJWcc3ILr0mVDrEk8nZZcIUH7BIUzRQArtjSIX+Oj2OqlUphn8Lsr92oaPrjc4RcUfnn+nhJMiali4ueWb77mvoyDF/GIu4g9AHW8u2y32aPYrAdMbnFk2HhP9qG+IBpr93dRuHWBh4+XirawBAHwB21nSqIJJIY+aBjhvfdjf65OwtvMYdcff8A56d8ZuPBe5VJSv3N5Mja2uBL5o8V55/l1g8PeatgoyJdZyTZJGDB3VBOynkKkZ5zsICifIFBU7nuWksPADa5DZ6gE1jfLy3TFS0nvNCfSqp/mlU8Kirsv5UMDzEaTwQk608JciwkKTXEVtroS+xN6io1fpZZdiB5w6+BLs+/BEh8cHu9PGNsDI41BoJ43/S46qElxfA4f2mWsKft7P8zuJmVkQxMfQQoAeI0txcYbaE3NgBIjZbuWU1dZS+WlAHoYkevuIU+r1jxQyE9SHB43edwqyZjnSDQXVnWueRPLOtC1fT1s2j0cdUbACT0KRV1UusksnZEhU5iz9J5IPim94f8BW7NuoRDIm79p/Q9TUzMkODlTi+fkLQkbDUnfqYHtWCI4ulHiUM2eFsNFGXEHyPA+DkCvSvoQ+1JbPmGi6IH4cOB7mnhjXUEtmo20EOUOKiVzbYQ11Xw/8ydGm8cHY08AAAA",alt:"Assistant Avatar",className:"avatar-image"})})}),n.sender&&/* @__PURE__ */C("span",{className:"message-sender",children:n.sender}),
/* @__PURE__ */C("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]}:"user-message"===a?{children:[
/* @__PURE__ */C("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString()}),n.sender&&/* @__PURE__ */C("span",{className:"message-sender",children:n.sender}),o&&/* @__PURE__ */C("div",{className:"avatar-container",children:/* @__PURE__ */C("div",{className:"avatar user-avatar",children:/* @__PURE__ */C(xe,{size:24})})})]}:{children:[n.sender&&/* @__PURE__ */C("span",{className:"message-sender",children:n.sender}),
/* @__PURE__ */C("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]})}),
/* @__PURE__ */C("div",{className:"message-content",children:n.node})]},b(e,t))})}),
/* @__PURE__ */C(eh,{isOpen:Boolean(a),imageUrl:a,onClose:m})]})};Jh.displayName="ChatUI";const Yh=e=>{const{value:t,onChange:n,darkMode:a}=e,o=a?"vs-dark":"vs-light";/* @__PURE__ */
return C("div",{className:"code-editor",children:/* @__PURE__ */C(_,{defaultLanguage:"python",theme:o,value:t,className:o,options:{wordWrap:"on",automaticLayout:!0,fontSize:13,fontLigatures:!0,formatOnType:!0,smoothScrolling:!0,autoClosingBrackets:"always",tabSize:4,minimap:{enabled:!1},renderWhitespace:"none",cursorBlinking:"smooth"},onChange:n})})};Yh.displayName="CodeEditor";const qh=g(e=>{const{title:t,children:n,dataTestId:a,fullWidth:o=!1,expanded:l=!1,className:c="",contentClassName:d=""}=e,[u,p]=i(l);s(()=>{p(l)},[l]);const g=r(()=>{p(e=>!e)},[]),m=`collapsible ${o?"w-full":""} ${c}`.trim(),h=`collapsible-header ${c}`.trim();/* @__PURE__ */
return w("div",{className:m,"data-testid":a,children:[
/* @__PURE__ */w("div",{className:h,onClick:g,children:[
/* @__PURE__ */C("span",{children:t}),
/* @__PURE__ */C("span",{className:"margin-left-5","aria-hidden":"true",children:u?"â–²":"â–¼"})]}),u&&/* @__PURE__ */C("div",{className:`collapsible-content ${d||""}`,children:n})]})});qh.displayName="Collapsible";const $h=({htmlFor:e,label:t,info:n,children:a})=>{const o="function"==typeof t?t():t,r="function"==typeof n?n():n;/* @__PURE__ */
return w("div",{className:"flex items-center flex-row gap-1",children:[
/* @__PURE__ */w("div",{className:"flex items-center gap-2",children:[
/* @__PURE__ */C("label",{htmlFor:e,className:"text-sm info-label",children:o}),
/* @__PURE__ */C(kd,{delayDuration:100,children:/* @__PURE__ */w(Sd,{children:[
/* @__PURE__ */C(Td,{asChild:!0,children:/* @__PURE__ */C("button",{type:"button","aria-label":"More info",className:"tooltip-button inline-flex items-center justify-center cursor-help",children:/* @__PURE__ */C(ne,{})})}),
/* @__PURE__ */C(Ed,{children:/* @__PURE__ */w(Md,{side:"top",align:"center",className:"tooltip-content",children:[r,
/* @__PURE__ */C(Rd,{className:"fill-[var(--background-color)]"})]})})]})})]}),a&&/* @__PURE__ */C("div",{children:a})]})};$h.displayName="InfoLabel";const Qh=e=>{const{viewLabel:t,viewLabelInfo:n,items:a,itemsType:o,areValuesSecret:l=!1}=e,{visible:c,newEntry:d,onAddEntry:u,onDeleteEntry:p,onSaveEntry:g,onKeyChange:m,onValueChange:h,onVisibilityChange:f,onNewEntryKeyChange:b,onNewEntryValueChange:y,isDirty:v}=(e=>{const{items:t,onUpdate:n,onDelete:a,onAdd:o,allowEmptyValues:l=!0}=e,[c,d]=i({}),[u,p]=i(Object.entries(t)),[g,m]=i({key:"",value:""});s(()=>{p(Object.entries(t))},[t]);const h=r((e,t)=>{const n=t.target.value;p(t=>t.map(([t,a],o)=>o===e?[n,a]:[t,a]))},[]),f=r((e,t)=>{const n=t.target.value;p(t=>t.map(([t,a],o)=>o===e?[t,n]:[t,a]))},[]),b=r(e=>{d(t=>({...t,[e]:!t[e]}))},[]),y=r(()=>{g.key&&(l||g.value)&&(o(g.key,g.value),p(e=>[...e,[g.key,g.value]]),m({key:"",value:""}))},[g,l,o]),v=r(e=>{const t=e.target.value;m(e=>({...e,key:t}))},[]),C=r(e=>{const t=e.target.value;m(e=>({...e,value:t}))},[]),w=r(e=>{a(e),p(t=>t.filter(([t])=>t!==e))},[a]),x=r(()=>{const e=u.reduce((e,[t,n])=>(e[t]=n,e),{});n(e)},[u,n]),A=r(e=>{if(e>=u.length||!u[e])return!0;const[n,a]=u[e];return!(n in t)||t[n]!==a},[u,t]);return{stateItems:u,newEntry:g,visible:c,onKeyChange:h,onValueChange:f,onVisibilityChange:b,onAddEntry:y,onNewEntryKeyChange:v,onNewEntryValueChange:C,onDeleteEntry:w,onSaveEntry:x,isDirty:A}})(e);/* @__PURE__ */
return w("div",{className:"dict-entries-view",children:[n?/* @__PURE__ */C($h,{htmlFor:`dict-entry-${o}`,label:t,info:n}):/* @__PURE__ */C("label",{className:"margin-bottom-5",children:t}),
/* @__PURE__ */C("div",{className:"dict-entries-list",children:Object.entries(a).map(([e,t],n)=>{const a="object"==typeof t?JSON.stringify(t):String(t);/* @__PURE__ */
return w("div",{className:"dict-entry",children:[
/* @__PURE__ */C("input",{type:"text",defaultValue:e,onChange:m.bind(null,n),"data-testid":`key-input-${o}-${n}`,placeholder:"Key"},`${e}-${t}-${n}`),
/* @__PURE__ */C("input",{type:l?c[e]?"text":"password":"text",defaultValue:a,onChange:h.bind(null,n),"data-testid":`value-input-${o}-${n}`,id:`dict-value-input-${o}-${n}`,placeholder:"Value"},`${t}-${n}-${e}`),l&&/* @__PURE__ */C("button",{type:"button",className:"toggle-visibility-btn",onClick:f.bind(null,e),title:"Toggle visibility",id:`visibility-${o}-${n}`,"data-testid":`visibility-${o}-${n}`,children:c[e]?/* @__PURE__ */C(ae,{}):/* @__PURE__ */C(oe,{})}),
/* @__PURE__ */C("button",{type:"button",onClick:p.bind(null,e),title:"Delete",className:"trash-button",id:`delete-dict-item-${o}-${n}`,"data-testid":`delete-dict-item-${o}-${n}`,children:/* @__PURE__ */C(re,{})}),v(n)&&/* @__PURE__ */C("button",{onClick:g,title:"Save",id:`save-dict-item-${o}-${n}`,"data-testid":`save-dict-item-${o}-${n}`,type:"button",className:"save-button",children:/* @__PURE__ */C(ie,{})})]},e)})}),
/* @__PURE__ */w("div",{className:"add-dict-entry-view",children:[
/* @__PURE__ */C("input",{type:"text",placeholder:"Key","data-testid":`new-dict-${o}-key`,id:`new-dict-${o}-key`,value:d.key,onChange:b}),
/* @__PURE__ */C("input",{placeholder:"Value","data-testid":`new-dict-${o}-value`,id:`new-dict-${o}-value`,type:l?c._NEW?"text":"password":"text",value:d.value,onChange:y}),l&&/* @__PURE__ */C("button",{type:"button",className:"toggle-visibility-btn",onClick:f.bind(null,"_NEW"),title:"Toggle visibility",id:`visibility-${o}-new`,"data-testid":`visibility-${o}-new`,children:c._NEW?/* @__PURE__ */C(ae,{}):/* @__PURE__ */C(oe,{})}),
/* @__PURE__ */C("button",{onClick:u,title:"Add",className:"plus-button",id:`add-new-dict-${o}-item`,"data-testid":`add-new-dict-${o}-item`,disabled:""===d.key,type:"button",children:/* @__PURE__ */C(se,{})})]})]})};Qh.displayName="Dict";const Kh=e=>{const{flowId:t,multiple:n=!1}=e,{onFileDragOver:a,onFileDragLeave:o,onOpenUploadDialog:i,onFileDrop:s}=(e=>{const{flowId:t,onUpload:n,allowedFileExtensions:a,multiple:o=!1}=e,i=r(e=>{const n=e.name.split(".").pop()?.toLowerCase();return n&&a.some(e=>e.toLowerCase()===`.${n}`)?!(e.size>10485760&&(Ms({flowId:t,message:"File size limit exceeded. Maximum file size is 10MB.",level:"error"}),1)):(Ms({flowId:t,message:"Invalid file extension. Please upload a valid file.",level:"error"}),!1)},[t,a]),s=r(e=>{const t=e.filter(i);t.length&&n(t)},[i,n]),l=r(e=>Array.from(e).filter(e=>a.some(t=>e.name.toLowerCase().endsWith(t.toLowerCase()))),[a]);return{onFileDragOver:r(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("drag-over")},[]),onFileDragLeave:r(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over")},[]),onFileDrop:r(e=>{if(e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over"),e.dataTransfer.files.length>0){const t=l(e.dataTransfer.files);t.length&&s(t)}},[l,s]),onOpenUploadDialog:r(()=>{const e=document.createElement("input");e.type="file",e.multiple=o,e.style.display="none",e.setAttribute("data-testid","drop-zone-file-input"),e.accept=a.join(","),e.onchange=t=>{if(t.target instanceof HTMLInputElement&&t.target.files&&t.target.files.length){const e=l(t.target.files);e.length&&s(e)}e.remove()},document.body.appendChild(e),e.click()},[o,a,l,s])}})(e),l=n?"Drop files here or click to upload":"Drop a file here or click to upload";/* @__PURE__ */
return C("div",{className:"drop_zone clickable",onDrop:s,onDragOver:a,onClick:i,onDragLeave:o,"data-testid":`drop-zone-${t}`,children:/* @__PURE__ */w("div",{className:"drop_zone_content",children:[
/* @__PURE__ */C("div",{className:"drop_zone_icon",children:/* @__PURE__ */C(le,{})}),
/* @__PURE__ */C("div",{className:"drop_zone_text",children:l})]})})};Kh.displayName="DropZone";const ef=({value:e,onChange:t,autoFocus:n=!1,...a})=>{const i=o(null),l=o({selectionStart:e?.length||0,selectionEnd:e?.length||0}),c=o(!0),d=r(e=>{const{selectionStart:n,selectionEnd:a}=e.target;l.current={selectionStart:n,selectionEnd:a},t(e)},[t]);return s(()=>{n&&i.current&&i.current.focus()},[n]),s(()=>{c.current?c.current=!1:i.current&&document.activeElement===i.current&&requestAnimationFrame(()=>{i.current&&i.current.setSelectionRange(l.current.selectionStart,l.current.selectionEnd)})},[e]),/* @__PURE__ */C("textarea",{ref:i,value:e,onChange:d,...a})};ef.displayName="TextareaInput";const tf=[{value:"string",label:"Check a variable"},{value:"expression",label:"Use an expression"}],nf=e=>{const{available:t,onDataChange:a}=e,[o,l]=i(t);s(()=>{l(t)},[t]);const c=n(()=>"expression"===o.type,[o]),d=n(()=>"string"===o.type,[o]),u=n(()=>tf.find(e=>e.value===o.type),[o.type]),p=r(e=>{const t=e?"string":"none",n={...o,type:t,value:o.value};l(n),a(n)},[o,a]),g=r(e=>{if(e){const t={...o,type:e.value,value:""};l(t),a(t)}},[o,a]),m=r(e=>{const t={...o,value:e.target.value};l(t),a(t)},[o,a]);/* @__PURE__ */
return w("div",{className:"flex flex-col",children:[
/* @__PURE__ */w("div",{className:"info margin-bottom-5",children:["You can optionally handle the availability of this transition by checking a variable or using an expression.",
/* @__PURE__ */w("ul",{children:[
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{children:"Check a variable"}),": Confirm if a certain variable (like"," ",
/* @__PURE__ */C("code",{children:"order_is_found"}),") is set and is truthy."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{children:"Use Expression"}),": Write a short logic rule using variables, like:",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */w("code",{children:["$","{","is_logged_in","}"," and not $","{","is_banned","}"]})]})]})]}),
/* @__PURE__ */C("div",{children:/* @__PURE__ */C(Jd,{label:"Enable Availability Check",isChecked:"none"!==o.type,onCheckedChange:p,id:"availability-enabled-checkbox","data-testid":"availability-enabled-checkbox","aria-label":"Enable availability check"})}),"none"!==t.type&&/* @__PURE__ */w("div",{className:"flex flex-col margin-top-10",children:[
/* @__PURE__ */C("label",{className:"hidden",htmlFor:"select-availability-type",children:"Availability Type"}),
/* @__PURE__ */C(Ym,{options:tf,value:u,onChange:g,inputId:"select-availability-type",className:"flex-1 margin-right-10",isClearable:!0,"data-testid":"availability-type-select"}),c&&/* @__PURE__ */w("div",{className:"flex flex-col margin-top-10",children:[
/* @__PURE__ */C("label",{className:"hidden",htmlFor:"expression-input",children:"Expression"}),
/* @__PURE__ */C(ef,{rows:2,className:"margin-top-5",title:"Expression",placeholder:"Enter the expression to evaluate",value:o.value||"",onChange:m,"data-testid":"expression-input"})]}),d&&/* @__PURE__ */w("div",{className:"flex flex-col margin-top-10",children:[
/* @__PURE__ */C("label",{className:"hidden",htmlFor:"string-input",children:"Variable Name"}),
/* @__PURE__ */C("input",{type:"text",id:"string-input",value:o.value,onChange:m,className:"flex-1",placeholder:"Enter variable name","data-testid":"string-input"})]})]})]})};nf.displayName="HandoffAvailability";const af=g(e=>{const{name:t,label:a,value:o,onChange:s,onNull:l="",disabled:c=!1,labelInfo:d=null,dataTestId:u="text-input",placeholder:p="...",style:g={},className:m="",isPassword:h=!1,fullWidth:f=!1,labelClassName:b="",inputClassName:y=""}=e,[v,A]=i(!1),I=r(e=>{c||s(e)},[c,s]),N=r(()=>{A(e=>!e)},[]),k=n(()=>h?v?"text":"password":"text",[h,v]),S=n(()=>f?{flex:"1",...g}:{...g},[f,g]);/* @__PURE__ */
return w(x,{children:[d?/* @__PURE__ */C($h,{label:a,info:d,htmlFor:`id-${t}`}):"string"==typeof a?/* @__PURE__ */C("label",{htmlFor:`id-${t}`,className:b,children:a}):a,
/* @__PURE__ */w("div",{className:`text-input-container flex items-center ${m}`,children:[
/* @__PURE__ */C("input",{className:y,placeholder:p,type:k,value:null!==o?o:l,onChange:I,disabled:c,"data-testid":u,id:`id-${t}`,name:t,style:S,"aria-label":"string"==typeof a?a:void 0,autoCapitalize:"off",autoCorrect:"off",autoComplete:"off"}),h&&/* @__PURE__ */C("button",{type:"button",className:"toggle-visibility-btn margin-left-5",onClick:N,title:v?"Hide password":"Show password","aria-label":v?"Hide password":"Show password","data-testid":`visibility-${u}`,children:/* @__PURE__ */C(v?ae:oe,{})})]})]})});af.displayName="TextInput";const of={string_llm:"Static LLM prompt",string_context:"Variable check",context_str_llm:"Dynamic LLM Prompt",expression_context:"Expression check"},rf=[{value:"string_llm",label:of.string_llm},{value:"context_str_llm",label:of.context_str_llm},{value:"string_context",label:of.string_context},{value:"expression_context",label:of.expression_context}],sf=e=>{const{condition:t,onDataChange:a}=e,[o,l]=i(t);s(()=>{l(t)},[t]);const c=r((e,t)=>{if(!o)return;const n={...o,[e]:t};l(n),a(n)},[o,a]),d=r(e=>{if(e){const t={conditionType:e.value};l(t),a(t)}},[a]),u=n(()=>({string_llm:{field:"prompt",handler:e=>c("prompt",e.target.value)},context_str_llm:{field:"context_str",handler:e=>c("context_str",e.target.value)},string_context:{field:"variable_name",handler:e=>c("variable_name",e.target.value)},expression_context:{field:"expression",handler:e=>c("expression",e.target.value)}}),[c]),p=n(()=>o?.conditionType?{label:of[o.conditionType],value:o.conditionType}:null,[o?.conditionType]),g=r(()=>{if(!o?.conditionType)return null;const e=o.conditionType,t=u[e];switch(e){case"string_llm":/* @__PURE__ */
return w("div",{className:"margin-top-10",children:[
/* @__PURE__ */C("label",{children:"LLM Prompt:"}),
/* @__PURE__ */C("div",{className:"margin-top-5"}),
/* @__PURE__ */C(ef,{rows:2,title:"LLM Prompt",placeholder:"Enter the LLM prompt",value:o.prompt||"",onChange:t.handler,"data-testid":"llm-prompt-input"})]});case"context_str_llm":/* @__PURE__ */
return w("div",{className:"margin-top-10",children:[
/* @__PURE__ */C("label",{children:"Prompt:"}),
/* @__PURE__ */C(ef,{rows:2,className:"margin-top-5",title:"Prompt",placeholder:"Enter the prompt to evaluate",value:o.context_str||"",onChange:t.handler,"data-testid":"context-llm-prompt-input"})]});case"string_context":/* @__PURE__ */
return C("div",{className:"margin-top-10",children:/* @__PURE__ */C(af,{name:"variable-name",label:"Variable Name:",className:"margin-top-5",placeholder:"Enter the variable name to check",value:o.variable_name||"",onChange:t.handler,dataTestId:"variable-name-input"})});case"expression_context":/* @__PURE__ */
return w("div",{className:"margin-top-10",children:[
/* @__PURE__ */C("label",{children:"Expression:"}),
/* @__PURE__ */C(ef,{rows:2,className:"margin-top-5",title:"Expression",placeholder:"Enter the expression to evaluate",value:o.expression||"",onChange:t.handler,"data-testid":"expression-input"})]});default:return null}},[o,u]);/* @__PURE__ */
return w("div",{className:"flex flex-col",children:[
/* @__PURE__ */w("div",{className:"info margin-bottom-5",children:["You can control when this transition happens. Conditions allow you to check values or evaluate logic based on the current context. There are four types of conditions you can choose from:",
/* @__PURE__ */w("ul",{className:"no-margin",children:[
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{children:"Static LLM prompt"}),": A fixed message sent to a language model (LLM) to decide whether the transition should happen."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{children:"Dynamic LLM prompt"}),": A message that includes context variables, like the user's name or order count. It's sent to the LLM for evaluation.",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("em",{children:"Example:"}),
/* @__PURE__ */C("ul",{children:/* @__PURE__ */C("li",{children:/* @__PURE__ */w("code",{children:['"User is ',"{","user_name","}"," and has ","{","num_orders","}",' orders."']})})})]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{children:"Variable check"}),": Simply checks if a specific variable exists and is truthy."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{children:"Expression check"}),": Allows you to write a small logic expression using context variables. You can use operators like ",
/* @__PURE__ */C("code",{children:"and"}),", ",
/* @__PURE__ */C("code",{children:"or"}),","," ",
/* @__PURE__ */C("code",{children:"not"}),", as well as comparison signs like ",
/* @__PURE__ */C("code",{children:">"}),", ",
/* @__PURE__ */C("code",{children:"=="}),", etc.",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("em",{children:"Examples:"}),
/* @__PURE__ */w("ul",{children:[
/* @__PURE__ */C("li",{children:/* @__PURE__ */w("code",{children:["not $","{","logged_in","}"," and $","{","is_admin","}"," or $","{","guest_checkout","}"]})}),
/* @__PURE__ */C("li",{children:/* @__PURE__ */w("code",{children:["len($","{","orders","}",") > 0 and $","{","user_active","}"]})})]})]})]})]}),
/* @__PURE__ */w("div",{className:"flex flex-col margin-top-10",children:[
/* @__PURE__ */C("label",{className:"hidden",htmlFor:"select-condition-type",children:"Condition Type"}),
/* @__PURE__ */C(Ym,{options:rf,value:p,onChange:d,inputId:"select-condition-type",className:"flex-1 margin-right-10",isClearable:!0}),g()]})]})};sf.displayName="HandoffCondition";const lf=(e,t,a,o,i)=>{const{groupEdges:s,nestedChats:l}=((e,t,a,o)=>{const r=n(()=>t.parentId,[t.parentId]),i=n(()=>r?a.filter(t=>t.data.parentId===r&&t.id!==e):[],[a,r,e]),s=n(()=>o.filter(t=>t.source===e),[o,e]),l=n(()=>{if(!r)return s;const e=i.map(e=>e.id);return s.filter(t=>e.includes(t.target))},[s,i,r]),c=n(()=>s.filter(t=>{const n=a.find(e=>e.id===t.source),o=a.find(e=>e.id===t.target);return n&&o&&n.id===e&&n.data.parentId===r&&o.data.parentId!==r}),[e,s,a,r]),d=n(()=>s.filter(e=>{const t=a.find(t=>t.id===e.target);return t&&t.data.parentId===r}),[s,a,r]),u=n(()=>{const n=t.nestedChats||[];return 0===c.length||n.length>0&&n[0]&&n[0].messages.length>0?n:[{triggeredBy:[e],messages:c.map(e=>({id:e.id,isReply:!1})),condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}]},[e,c,t.nestedChats]);return{parentGroupId:r,groupAgents:i,agentEdges:s,groupEdges:l,nestedEdges:c,nestedChats:u,agentGroupOnlyEdges:d}})(e,t,a,o),{getTransitionTargetName:c}=((e,t,n)=>{const a=r(t=>{const n=e.find(e=>e.id===t);return n?.data.label||n?.data.name||t},[e]),o=r((e=0)=>{if(0===n.length||e>=n.length||0===n[e]?.messages.length)return"Nested Chat";const o=n[e],r=o?.messages.map(e=>{const n=t.find(t=>t.id===e.id);return n?a(n.target):""}).filter(Boolean)||[];return 0===r.length?"Nested Chat":1===r.length?`Nested Chat: ${r[0]}`:`Nested Chat: ${r[0]} +${r.length-1} more`},[n,t,a]),i=e=>{switch(e.targetType){case"AgentTarget":return a(e.value[0]?e.value[0]:"");case"RandomAgentTarget":return`Random (${e.value.map(a).join(", ")})`;case"GroupChatTarget":return`Group Chat: ${a(e.value[0]?e.value[0]:"")}`;case"NestedChatTarget":return o(0);case"AskUserTarget":return"Ask User";case"GroupManagerTarget":return"Group Manager";case"RevertToUserTarget":return"Revert to User";case"StayTarget":return"Stay";case"TerminateTarget":return"Terminate";default:return"Unknown"}};return{getAgentName:a,getTransitionTargetName:i,getAfterWorkTargetName:e=>i(e),getNestedChatDisplayName:o}})(a,o,l),d=n(()=>{const e=[],n=/* @__PURE__ */new Set,a="nested-chat",o=l.length>0&&l.some(e=>e.messages.length>0);if(t.handoffs.forEach((t,r)=>{if(t===a){if(o){const t={targetType:"NestedChatTarget",value:[a]};e.push({id:a,...t,value:[c(t)],order:r})}}else{const a=s.find(e=>e.id===t);if(a){n.add(a.id);const t={targetType:"AgentTarget",value:[a.target]};e.push({id:a.id,...t,value:[c(t)],order:r})}}}),s.forEach(t=>{if(!n.has(t.id)){const n={targetType:"AgentTarget",value:[t.target]};e.push({id:t.id,...n,value:[c(n)],order:e.length})}}),o&&!t.handoffs.includes(a)){const t={targetType:"NestedChatTarget",value:[]};e.push({id:a,...t,value:[c(t)],order:e.length})}return e.sort((e,t)=>e.order-t.order)},[t.handoffs,s,l,c]),u=r(e=>{if(e<=0||!d[e-1]||!d[e])return;const t=[...d];[t[e],t[e-1]]=[t[e-1],t[e]];const n=t.map(e=>e.id);i({handoffs:n})},[d,i]),p=r(e=>{if(e>=d.length-1)return;const t=[...d];[t[e],t[e+1]]=[t[e+1],t[e]];const n=t.map(e=>e.id);i({handoffs:n})},[d,i]);return{orderedTransitionTargets:d,getTransitionTargetName:c,onMoveTransitionTargetUp:u,onMoveTransitionTargetDown:p}},cf=g(e=>{const{id:t,data:n,agents:a,edges:o,onDataChange:r}=e,{orderedTransitionTargets:i,getTransitionTargetName:s,onMoveTransitionTargetDown:l,onMoveTransitionTargetUp:c}=lf(t,n,a,o,r),d=i.length>0||!!n.afterWork;/* @__PURE__ */
return w("div",{className:"handoffs-container","data-testid":`handoffs-container-${t}`,children:[
/* @__PURE__ */C("div",{className:"info margin-left--5",children:"Handoffs control where the conversation flow goes from this agent. They include connections to other agents, nested chats, and what happens after the agent's work is done."}),
/* @__PURE__ */C("div",{className:"handoffs-list",children:d?/* @__PURE__ */w("div",{className:"handoffs-items",children:[i.length>0&&/* @__PURE__ */w("div",{className:"handoffs-section",children:[
/* @__PURE__ */C("h4",{className:"handoffs-section-title",children:"Handoffs"}),
/* @__PURE__ */w("p",{className:"handoff-order-instructions",children:["If the group's speakers selection mode allows it (e.g. set to"," ",
/* @__PURE__ */C("em",{children:/* @__PURE__ */C("b",{children:"default"})}),"), you can use the up and down arrows to reorder handoffs. The ordering will then determine the sequence in which handoffs are processed."]}),
/* @__PURE__ */C("div",{className:"ordered-items-list",children:i.map((e,t)=>/* @__PURE__ */w("div",{className:"ordered-item","data-testid":`handoff-item-${t}`,children:[
/* @__PURE__ */w("div",{className:"reorder-buttons",children:[t>0&&/* @__PURE__ */C("button",{type:"button",title:"Move up",className:"reorder-btn up-btn","data-testid":`move-handoff-up-button-${t}`,onClick:()=>c(t),"aria-label":"Move up",children:"â†‘"}),t<i.length-1&&/* @__PURE__ */C("button",{type:"button",title:"Move down",className:"reorder-btn down-btn","data-testid":`move-handoff-down-button-${t}`,onClick:()=>l(t),"aria-label":"Move down",children:"â†“"})]})," ",
/* @__PURE__ */w("div",{className:"ordered-item-content",children:[
/* @__PURE__ */C("div",{className:"order-badge",children:t+1}),
/* @__PURE__ */C("div",{className:"handoff-type",children:"AgentTarget"===e.targetType?"Agent Connection":"NestedChatTarget"===e.targetType?"Nested Chat":e.targetType}),
/* @__PURE__ */w("div",{className:"handoff-target",children:[
/* @__PURE__ */C("span",{className:"target-label",children:"Target:"})," ",e.value]})]})]},`handoff-${t}`))})]}),n.afterWork&&/* @__PURE__ */w("div",{className:"handoffs-section",children:[
/* @__PURE__ */C("h4",{className:"handoffs-section-title",children:"After Work"}),
/* @__PURE__ */C("div",{className:"ordered-item after-work-handoff","data-testid":"handoff-after-work-item",children:/* @__PURE__ */w("div",{className:"ordered-item-content",children:[
/* @__PURE__ */C("div",{className:"handoff-type",children:"AfterWork"}),
/* @__PURE__ */w("div",{className:"handoff-target",children:[
/* @__PURE__ */C("span",{className:"target-label",children:"Target:"})," ",s(n.afterWork)]}),
/* @__PURE__ */C("div",{className:"handoff-info",children:/* @__PURE__ */C("em",{children:"AfterWork handoff always executes last"})})]})})]})]}):/* @__PURE__ */C("div",{className:"no-handoffs-message",children:'This agent has no handoffs configured. You can add connections to other agents in the flow editor, configure nested chats in the agent settings, or set what happens after the agent\'s work is done in the "Afterwards" tab.'})})]})});cf.displayName="Handoffs";const df=e=>{const{current:t,darkMode:n,defaultContent:a,selectLabel:o,selectTestId:i,notNoneLabel:s,notNoneLabelInfo:l,includeContext:c,skipRagOption:d,skipCarryoverOption:u,skipNone:p,onTypeChange:g}=e,{onContentUpdate:m,onRagProblemUpdate:h,onMethodContentUpdate:f,onUseCarryoverChange:b,onAddContextEntry:y,onRemoveContextEntry:v,onUpdateContextEntries:A}=(e=>{const{current:t,onMessageChange:n,onAddContextEntry:a,onRemoveContextEntry:o,onUpdateContextEntries:i}=e,s=r(e=>{n(e)},[n]),l=r((e,t)=>{a?.(e,t)},[a]),c=r(e=>{o?.(e)},[o]),d=r(e=>{i?.(e)},[i]),u=r(e=>{s({type:"string",useCarryover:t.useCarryover,content:e.target.value,context:t.context})},[t.useCarryover,t.context,s]),p=r(e=>{s({type:"rag_message_generator",content:null,useCarryover:t.useCarryover,context:{...t.context,problem:e.target.value}})},[t.useCarryover,t.context,s]);return{onContentUpdate:u,onRagProblemUpdate:p,onMethodContentUpdate:r(e=>{e&&s({type:"method",useCarryover:t.useCarryover,content:e,context:t.context})},[t.useCarryover,t.context,s]),onUseCarryoverChange:r(e=>{s({type:t.type,useCarryover:e,content:t.content,context:t.context})},[t.type,t.content,t.context,s]),onAddContextEntry:l,onRemoveContextEntry:c,onUpdateContextEntries:d}})(e),I="none"!==t.type&&"rag_message_generator"!==t.type&&s&&(l?/* @__PURE__ */C($h,{label:s,info:l,htmlFor:"message-input"}):/* @__PURE__ */C("label",{htmlFor:"message-input",children:s})),N=c&&"rag_message_generator"!==t.type&&"none"!==t.type;let k=d?pf.filter(e=>"rag_message_generator"!==e.value):pf;return!0===p&&(k=k.filter(e=>"none"!==e.value)),/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:`message-select-test-${i}`,children:o}),
/* @__PURE__ */C("div",{className:"margin-bottom-5"}),
/* @__PURE__ */C(Ym,{options:k,value:{label:gf[t.type],value:t.type},onChange:e=>{g(e?e.value:"none")},inputId:`message-select-test-${i}`}),I,"string"===t.type&&/* @__PURE__ */C("div",{className:"w-full",children:/* @__PURE__ */C(ef,{placeholder:"Enter the message",className:"fill-available-width",rows:3,value:t.content??"",onChange:m,"data-testid":"message-text"})}),"rag_message_generator"===t.type&&/* @__PURE__ */w("div",{children:[
/* @__PURE__ */C("div",{className:"info margin-bottom-20",children:"Use the RAG user's `sender.message_generator` method to generate a message."}),
/* @__PURE__ */C("label",{children:"Problem:"}),
/* @__PURE__ */C("div",{className:"w-full",children:/* @__PURE__ */C(ef,{placeholder:"Enter the problem",rows:3,className:"fill-available-width margin-top-5",value:String(t.context.problem??""),onChange:h,"data-testid":"rag-message-generator-problem"})})]}),"method"===t.type&&/* @__PURE__ */C(Yh,{value:t.content??a,onChange:f,darkMode:n}),N&&/* @__PURE__ */C(Qh,{items:t.context,itemsType:"message-context",viewLabel:"Message Context",viewLabelInfo:"Additional context to be included.",onAdd:y,onDelete:v,onUpdate:A}),!u&&("string"===t.type||"rag_message_generator"===t.type)&&/* @__PURE__ */C(Yd,{label:"Carryover ",info:uf,checked:t.useCarryover??!1,id:"message-use-carryover",onChange:b})]})},uf=/* @__PURE__ */w("div",{children:[
/* @__PURE__ */C("div",{children:"This should not be checked if this is the first message in the flow."}),
/* @__PURE__ */C("br",{}),"Append the context's last carryover to the message.",
/* @__PURE__ */C("br",{}),"Example final message:",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("pre",{children:'"Write a blogpost.\\nContext:\\n" + carryover'})]}),pf=[{label:"None",value:"none"},{label:"Text",value:"string"},{label:"Use RAG Message Generator",value:"rag_message_generator"},{label:"Custom method",value:"method"}],gf={none:"None",string:"Text",rag_message_generator:"Use RAG Message Generator",method:"Method"};df.displayName="MessageInput";const mf=e=>{const{onSaveAndClose:t,hideConfirmation:n,handleSaveAndClose:a,handleCloseModal:o}=e;/* @__PURE__ */
return C("div",{className:"modal-confirmation padding-10",children:/* @__PURE__ */w("div",{className:"modal-confirmation-content",children:[
/* @__PURE__ */C("h4",{className:"warning",children:"Are you sure you want to close this modal? Any unsaved changes will be lost."}),
/* @__PURE__ */C("div",{className:"modal-actions",children:/* @__PURE__ */w(x,t?{children:[
/* @__PURE__ */C("div",{className:"modal-actions flex items-center justify-center margin-top--10 margin-bottom--10",children:/* @__PURE__ */C("button",{className:"secondary","data-testid":"modal-action-confirm-cancel",onClick:n,type:"button",title:"Don't Close",children:"Don't Close"})}),
/* @__PURE__ */w("div",{className:"modal-actions flex items-center justify-center margin-top--10 margin-bottom--10",children:[
/* @__PURE__ */C("button",{className:"save margin-right-10","data-testid":"modal-action-confirm-save",onClick:a,type:"button",title:"Save & Close",children:"Save & Close"}),
/* @__PURE__ */C("button",{className:"primary","data-testid":"modal-action-confirm-close",onClick:o,type:"button",title:"Close",children:"Close"})]})]}:{children:[
/* @__PURE__ */C("button",{className:"modal-action-cancel","data-testid":"modal-action-confirm-cancel",onClick:n,type:"button",title:"Don't Close",children:"Don't Close"}),
/* @__PURE__ */C("button",{className:"modal-action-submit","data-testid":"modal-action-confirm-close",onClick:o,type:"button",title:"Close",children:"Close"})]})})]})})},hf=m((e,t)=>{const[n,a]=i(e.isOpen);f(t,()=>({close:()=>{a(!1),e.onClose?.()},showModal:()=>{a(!0)}})),s(()=>{e.isOpen&&a(!0)},[e.isOpen]);const{id:l,flowId:c,isOpen:d,dataTestId:u="modal-dialog",beforeTitle:g,title:m,hasCloseBtn:h=!0,hasMaximizeBtn:b=!0,hasMinimizeBtn:y=!0,children:v,className:x="",hasUnsavedChanges:A,onSaveAndClose:I,noBackdrop:N}=e,k=o(null),S=o(null),[T,E]=i(void 0),[M,R]=i(0),[D,O]=i(null),{showConfirmation:P,isFullScreen:L,isMinimized:B,position:G,hideConfirmation:z,onToggleFullScreen:_,onToggleMinimize:V,handleCloseModal:H,handleSaveAndClose:W,handleCancel:F,onKeyDown:U,onMouseDown:X}=(e=>{const{isOpen:t,hasUnsavedChanges:n=!1,preventCloseIfUnsavedChanges:a=!1,onClose:o,onSaveAndClose:l,onCancel:c,modalRef:d}=e,[u,p]=i(!1),[g,m]=i(!1),[h,f]=i(!1),[b,y]=i({x:window.innerWidth/4,y:"20px"}),[v,C]=i(!1),[w,x]=i({x:0,y:0}),[A,I]=i(""),[N,k]=i(null),S=a&&n,T=!S,E=r(()=>{y({x:window.innerWidth/4,y:"20px"}),m(!1),f(!1),p(!1),k(null),d.current&&(d.current.style.width="",d.current.style.height="")},[d]),M=r(e=>{const t=d.current;t&&Object.prototype.hasOwnProperty.call(t,"showModal")&&(e?t.showModal():t.close())},[d]),R=r(()=>{h&&(f(!1),d.current&&(d.current.style.height=A||""),N&&(y(N),k(null))),m(e=>!e)},[d,h,A,N]),D=r(()=>{g&&!h&&m(!1),f(e=>(e?(d.current&&A&&(d.current.style.height=A),N&&y(N)):(d.current&&I(d.current.style.height||window.getComputedStyle(d.current).height),k({...b})),!e))},[d,h,g,A,b,N]),O=r(()=>{p(!1)},[]),P=r(()=>{if(S&&!u)return p(!0),void(h&&D());E(),o?.(),M(!1)},[h,S,u,D,E,o,M]),L=r(()=>{E(),l?.(),M(!1)},[E,l,M]),B=r(e=>{c?c(e):(e.preventDefault(),e.stopPropagation(),P())},[c,P]),G=r(e=>{"Escape"===e.key&&T&&B(e)},[T,B]),z=r(e=>{if(!d.current||g||h)return;C(!0);const t=d.current.getBoundingClientRect();x({x:e.clientX-t.left,y:e.clientY-t.top})},[g,h,d]),_=r(e=>{if(!v||!d.current)return;const t=e.clientX-w.x,n=e.clientY-w.y,a=d.current.getBoundingClientRect(),o=window.innerWidth-a.width,r=window.innerHeight-a.height;y({x:`${Math.max(0,Math.min(t,o))}px`,y:`${Math.max(0,Math.min(n,r))}px`})},[v,w,d]),V=r(()=>{C(!1)},[]);return s(()=>(v?(document.addEventListener("mousemove",_,{passive:!0}),document.addEventListener("mouseup",V,{passive:!0})):(document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",V)),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",V)}),[v,_,V]),s(()=>{M(t)},[t,M]),{showConfirmation:u,isFullScreen:g,isMinimized:h,position:b,hideConfirmation:O,onToggleFullScreen:R,onToggleMinimize:D,handleCloseModal:P,handleSaveAndClose:L,handleCancel:B,onKeyDown:G,onMouseDown:z}})({...e,modalRef:k});s(()=>{const e=document.getElementById("modal-root")||document.body;O(e)},[]),s(()=>{if(!d||B)return;const e=e=>{"Escape"===e.key&&F(e)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[d,B,F]),p(()=>{if(d&&k.current&&!T){const e=()=>{if(k.current){const t=k.current.getBoundingClientRect().width;if(t>0){E(`${t}px`);const e=k.current.querySelectorAll(".tab-btn");R(e.length)}else requestAnimationFrame(e)}};requestAnimationFrame(e)}d||(E(void 0),R(0))},[d,T]);const Z=r(()=>{if(!k.current||!T)return;const e=k.current.querySelector(".tab-list");if(!e)return;const t=e.scrollWidth+40;t>parseFloat(T)&&E(`${t}px`)},[T]);p(()=>{if(d&&k.current&&T){const e=k.current.querySelectorAll(".tab-btn").length;e!==M&&(R(e),Z())}},[v,d,M,T,Z]);const J=["modal",L?"modal-fullscreen":"no-wheel no-pan no-drag",B?"modal-minimized":"no-wheel no-pan no-drag",P?"confirmation no-wheel no-pan no-drag":"no-wheel no-pan no-drag",x].filter(Boolean).join(" ");if(!d||!D||!n)return null;const Y={...T?{width:T}:{},...L?{}:B?{position:"fixed",bottom:"20px",right:"20px",top:"auto",left:"auto"}:{top:G.y,left:G.x}},q=/* @__PURE__ */w("div",{id:`${c}-modal`,className:"modal-root",children:[!N&&!B&&!L&&!x.includes("modal-fullscreen")&&/* @__PURE__ */C("div",{className:"modal-backdrop",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),
/* @__PURE__ */w("div",{ref:k,id:l,"data-testid":u,onKeyDown:U,className:J,style:Y,children:[!e.noHeader&&/* @__PURE__ */w("div",{className:"modal-header",ref:S,onMouseDown:X,children:[!B&&g&&/* @__PURE__ */C("div",{children:g}),
/* @__PURE__ */w("h3",{className:"modal-title font-semibold truncate",children:[m,A&&/* @__PURE__ */C("span",{style:{color:"#f97316",marginLeft:"0.25rem"},children:"*"})]}),
/* @__PURE__ */w("div",{className:"modal-header-actions",children:[y&&/* @__PURE__ */C("div",{className:"modal-minimize-btn clickable",role:"button",title:B?"Restore":"Minimize",onClick:V,children:/* @__PURE__ */C(B?Ae:Ie,{})}),b&&/* @__PURE__ */C("div",{className:"modal-fullscreen-btn clickable",role:"button",title:L?"Restore":"Maximize",onClick:_,children:/* @__PURE__ */C(L?Ne:ke,{})}),h&&/* @__PURE__ */C("div",{className:"modal-close-btn clickable",role:"button",title:"Close","data-testid":"modal-close-btn",onClick:H,children:/* @__PURE__ */C(Se,{})})]})]}),
/* @__PURE__ */C("div",{className:"modal-content "+(B?"hidden":""),"data-flow-id":c,children:P?mf({onSaveAndClose:I,hideConfirmation:z,handleSaveAndClose:W,handleCloseModal:H}):v})]})]});return j(q,D)});function ff(e,[t,n]){return Math.min(n,Math.max(t,e))}hf.displayName="Modal";var bf=e.createContext(void 0);var yf=["PageUp","PageDown"],vf=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cf={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wf="Slider",[xf,Af,If]=function(e){const n=e+"CollectionProvider",[a,o]=Wl(n),[r,i]=a(n,{collectionRef:{current:null},itemMap:/* @__PURE__ */new Map}),s=e=>{const{scope:n,children:a}=e,o=t.useRef(null),i=t.useRef(/* @__PURE__ */new Map).current;/* @__PURE__ */
return C(r,{scope:n,itemMap:i,collectionRef:o,children:a})};s.displayName=n;const l=e+"CollectionSlot",c=/* @__PURE__ */jl(l),d=t.forwardRef((e,t)=>{const{scope:n,children:a}=e,o=Hl(t,i(l,n).collectionRef);/* @__PURE__ */
return C(c,{ref:o,children:a})});d.displayName=l;const u=e+"CollectionItemSlot",p="data-radix-collection-item",g=/* @__PURE__ */jl(u),m=t.forwardRef((e,n)=>{const{scope:a,children:o,...r}=e,s=t.useRef(null),l=Hl(n,s),c=i(u,a);return t.useEffect(()=>(c.itemMap.set(s,{ref:s,...r}),()=>{c.itemMap.delete(s)})),/* @__PURE__ */C(g,{[p]:"",ref:l,children:o})});return m.displayName=u,[{Provider:s,Slot:d,ItemSlot:m},function(n){const a=i(e+"CollectionConsumer",n);return t.useCallback(()=>{const e=a.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(a.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[a.collectionRef,a.itemMap])},o]}(wf),[Nf]=Wl(wf,[If]),[kf,Sf]=Nf(wf),Tf=e.forwardRef((t,n)=>{const{name:a,min:o=0,max:r=100,step:i=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[o],value:u,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:m=!1,form:h,...f}=t,b=e.useRef(/* @__PURE__ */new Set),y=e.useRef(0),v="horizontal"===s?Rf:Df,[w=[],x]=Yc({prop:u,defaultProp:d,onChange:e=>{const t=[...b.current];t[y.current]?.focus(),p(e)}}),A=e.useRef(w);function I(e,t,{commit:n}={commit:!1}){const a=function(e){return(String(e).split(".")[1]||"").length}(i),s=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-o)/i)*i+o,a),l=ff(s,[o,r]);x((e=[])=>{const a=function(e=[],t,n){const a=[...e];return a[n]=t,a.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(a,c*i)){y.current=a.indexOf(l);const t=String(a)!==String(e);return t&&n&&g(a),t?a:e}return e})}/* @__PURE__ */
return C(kf,{scope:t.__scopeSlider,name:a,disabled:l,min:o,max:r,valueIndexToChangeRef:y,thumbs:b.current,values:w,orientation:s,form:h,children:/* @__PURE__ */C(xf.Provider,{scope:t.__scopeSlider,children:/* @__PURE__ */C(xf.Slot,{scope:t.__scopeSlider,children:/* @__PURE__ */C(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...f,ref:n,onPointerDown:zl(f.onPointerDown,()=>{l||(A.current=w)}),min:o,max:r,inverted:m,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),a=Math.min(...n);return n.indexOf(a)}(w,e);I(e,t)},onSlideMove:l?void 0:function(e){I(e,y.current)},onSlideEnd:l?void 0:function(){const e=A.current[y.current];w[y.current]!==e&&g(w)},onHomeKeyDown:()=>!l&&I(o,0,{commit:!0}),onEndKeyDown:()=>!l&&I(r,w.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const n=yf.includes(e.key)||e.shiftKey&&vf.includes(e.key)?10:1,a=y.current;I(w[a]+i*n*t,a,{commit:!0})}}})})})})});Tf.displayName=wf;var[Ef,Mf]=Nf(wf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Rf=e.forwardRef((t,n)=>{const{min:a,max:o,dir:r,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=t,[p,g]=e.useState(null),m=Hl(n,e=>g(e)),h=e.useRef(void 0),f=function(t){const n=e.useContext(bf);return t||n||"ltr"}(r),b="ltr"===f,y=b&&!i||!b&&i;function v(e){const t=h.current||p.getBoundingClientRect(),n=Ff([0,t.width],y?[a,o]:[o,a]);return h.current=t,n(e-t.left)}/* @__PURE__ */
return C(Ef,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:/* @__PURE__ */C(Of,{dir:f,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=v(e.clientX);s?.(t)},onSlideMove:e=>{const t=v(e.clientX);l?.(t)},onSlideEnd:()=>{h.current=void 0,c?.()},onStepKeyDown:e=>{const t=Cf[y?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),Df=e.forwardRef((t,n)=>{const{min:a,max:o,inverted:r,onSlideStart:i,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...d}=t,u=e.useRef(null),p=Hl(n,u),g=e.useRef(void 0),m=!r;function h(e){const t=g.current||u.current.getBoundingClientRect(),n=Ff([0,t.height],m?[o,a]:[a,o]);return g.current=t,n(e-t.top)}/* @__PURE__ */
return C(Ef,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:/* @__PURE__ */C(Of,{"data-orientation":"vertical",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=h(e.clientY);i?.(t)},onSlideMove:e=>{const t=h(e.clientY);s?.(t)},onSlideEnd:()=>{g.current=void 0,l?.()},onStepKeyDown:e=>{const t=Cf[m?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),Of=e.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:a,onSlideMove:o,onSlideEnd:r,onHomeKeyDown:i,onEndKeyDown:s,onStepKeyDown:l,...c}=e,d=Sf(wf,n);/* @__PURE__ */
return C(Yl.span,{...c,ref:t,onKeyDown:zl(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(s(e),e.preventDefault()):yf.concat(vf).includes(e.key)&&(l(e),e.preventDefault())}),onPointerDown:zl(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():a(e)}),onPointerMove:zl(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:zl(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),r(e))})})}),Pf="SliderTrack",Lf=e.forwardRef((e,t)=>{const{__scopeSlider:n,...a}=e,o=Sf(Pf,n);/* @__PURE__ */
return C(Yl.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...a,ref:t})});Lf.displayName=Pf;var Bf="SliderRange",Gf=e.forwardRef((t,n)=>{const{__scopeSlider:a,...o}=t,r=Sf(Bf,a),i=Mf(Bf,a),s=Hl(n,e.useRef(null)),l=r.values.length,c=r.values.map(e=>Wf(e,r.min,r.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);/* @__PURE__ */
return C(Yl.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...o,ref:s,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:u+"%"}})});Gf.displayName=Bf;var zf="SliderThumb",_f=e.forwardRef((t,n)=>{const a=Af(t.__scopeSlider),[o,r]=e.useState(null),i=Hl(n,e=>r(e)),s=e.useMemo(()=>o?a().findIndex(e=>e.ref.current===o):-1,[a,o]);/* @__PURE__ */
return C(Vf,{...t,ref:i,index:s})}),Vf=e.forwardRef((t,n)=>{const{__scopeSlider:a,index:o,name:r,...i}=t,s=Sf(zf,a),l=Mf(zf,a),[c,d]=e.useState(null),u=Hl(n,e=>d(e)),p=!c||(s.form||!!c.closest("form")),g=xc(c),m=s.values[o],h=void 0===m?0:Wf(m,s.min,s.max),f=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(o,s.values.length),b=g?.[l.size],y=b?function(e,t,n){const a=e/2,o=Ff([0,50],[0,a]);return(a-o(t)*n)*n}(b,h,l.direction):0;return e.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),/* @__PURE__ */w("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${h}% + ${y}px)`},children:[
/* @__PURE__ */C(xf.ItemSlot,{scope:t.__scopeSlider,children:/* @__PURE__ */C(Yl.span,{role:"slider","aria-label":t["aria-label"]||f,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:u,style:void 0===m?{display:"none"}:t.style,onFocus:zl(t.onFocus,()=>{s.valueIndexToChangeRef.current=o})})}),p&&/* @__PURE__ */C(Hf,{name:r??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},o)]})});_f.displayName=zf;var Hf=e.forwardRef(({__scopeSlider:t,value:n,...a},o)=>{const r=e.useRef(null),i=Hl(r,o),s=Dd(n);return e.useEffect(()=>{const e=r.current;if(!e)return;const t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"value").set;if(s!==n&&a){const t=new Event("input",{bubbles:!0});a.call(e,n),e.dispatchEvent(t)}},[s,n]),/* @__PURE__ */C(Yl.input,{style:{display:"none"},...a,ref:i,defaultValue:n})});function Wf(e,t,n){return ff(100/(n-t)*(e-t),[0,100])}function Ff(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(n-e[0])}}Hf.displayName="RadioBubbleInput";var jf=Tf,Uf=Lf,Xf=Gf,Zf=_f;const Jf=g(e=>{const{name:t,value:a,label:o,onChange:i,onNull:s,onUpperLabel:l=null,onLowerLabel:c=null,setNullOnUpper:d=!1,setNullOnLower:u=!1,labelInfo:p=null,min:g=0,max:m=100,step:h=1,forceInt:f=!1,disabled:b=!1,dataTestId:y}=e,v=n(()=>s??u?g:d?m:g,[s,u,d,g,m]),A=n(()=>null!==a?a:v,[a,v]),I=r(e=>{const t=e[0];"number"==typeof t&&i(t===m&&d||t===g&&u?null:f?Math.round(t):t)},[i,m,g,d,u,f]),N=r(e=>{try{const t=f?parseInt(e.target.value,10):parseFloat(e.target.value);isNaN(t)||I([t])}catch(t){}},[f,I]),k=r(()=>/* @__PURE__ */C("span",a!==m&&null!==a||!d&&null===l?a!==g&&null!==a||!u&&null===c?{className:"margin-left-5 margin-bottom-5",children:/* @__PURE__ */C("input",{id:`id-for-${t}`,name:t,placeholder:`${A}`,inputMode:"decimal",type:"number",min:g,max:m,step:h,value:A,onChange:N,"data-testid":y})}:{className:"margin-left-5",children:c??"Not set"}:{className:"margin-left-5",children:l??"No limit"}),[t,a,g,m,A,h,l,c,d,u,N,y]),S=n(()=>/* @__PURE__ */C("div",p?{className:"number-input-info-label-wrapper",children:/* @__PURE__ */C($h,{htmlFor:`id-for-${t}`,label:o,info:p,children:k()})}:{className:"number-input-label-wrapper",children:/* @__PURE__ */w("label",{htmlFor:`id-for-${t}`,children:[o," ",k()]})}),[t,o,k,p]);/* @__PURE__ */
return w(x,{children:[S,
/* @__PURE__ */w(jf,{className:"slider-root",value:[A],max:m,step:h,min:g,onValueChange:I,disabled:b,children:[
/* @__PURE__ */C(Uf,{className:"slider-track",children:/* @__PURE__ */C(Xf,{className:"slider-range"})}),
/* @__PURE__ */C(Zf,{className:"slider-thumb"})]})]})});Jf.displayName="NumberInput";const Yf=e=>{try{return null===e?"none":"string"==typeof e?e:JSON.stringify(e)}catch{return String(e)}},qf=()=>{const[e,t]=i("spin");return s(()=>{const e=setTimeout(()=>t("done"),2e3);return()=>clearTimeout(e)},[]),"spin"===e?/* @__PURE__ */w("div",{className:"flex items-center gap-2",children:[
/* @__PURE__ */C("span",{className:"animate-spin inline-block",children:"â³"}),
/* @__PURE__ */C("span",{children:"Resuming a previously stored stateâ€¦"})]}):/* @__PURE__ */C("div",{children:"âœ… Resume complete!"})},$f=e=>({sender:e.sender||e.content.sender,recipient:e.recipient||e.content.recipient}),Qf=e=>{if(!e.type){const t=e;if(t.event&&t.event.type)return Qf(t.event)}switch(e.type){case"empty":{const t=$t(e);/* @__PURE__ */
return C("div",{className:"text-gray-700 font-large",children:t})}case"text":{const t=e.content,{sender:n,recipient:a}=$f(e);if(!n||!a||n===a)return null;const o=$t(t);/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */w("div",{className:"text-amber-500 font-semibold",children:[n," ",
/* @__PURE__ */C("span",{className:"text-gray-400",children:"â†’"})," ",a]}),
/* @__PURE__ */C("pre",{className:"whitespace-pre-wrap break-words mt-1",children:o})]})}case"post_carryover_processing":{const t=e.content,{sender:n,recipient:a}=$f(e);/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */w("div",{className:"text-pink-500 font-semibold",children:[n," ",
/* @__PURE__ */C("span",{className:"text-gray-400",children:"â†’"})," ",a]}),
/* @__PURE__ */C("pre",{className:"whitespace-pre-wrap break-words mt-1",children:t.message})]})}case"group_chat_run_chat":{const t=e.content;/* @__PURE__ */
return w("div",{className:"text-green-600 font-semibold",children:["Next speaker: ",e.speaker||t.speaker]})}case"using_auto_reply":{const{sender:t,recipient:n}=$f(e);/* @__PURE__ */
return w("div",{className:"text-gray-700",children:["sender=",t,", recipient=",n]})}case"tool_call":{const t=e.content,{sender:n,recipient:a}=$f(e);/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */w("div",{className:"text-gray-700 mb-1",children:[
/* @__PURE__ */C("span",{className:"font-medium",children:n})," ",
/* @__PURE__ */C("span",{className:"text-gray-400",children:"â†’"})," ",
/* @__PURE__ */C("span",{className:"font-medium",children:a})]}),
/* @__PURE__ */C("div",{className:"space-y-1",children:t.tool_calls?.map((e,t)=>{const n=e.function.arguments&&"{}"!==e.function.arguments?e.function.arguments:"none";/* @__PURE__ */
return w("div",{className:"flex items-start gap-2",children:[
/* @__PURE__ */C("span",{children:"ðŸ”§"}),
/* @__PURE__ */w("div",{children:[
/* @__PURE__ */w("div",{className:"font-semibold",children:["Calling: ",e.function.name]}),
/* @__PURE__ */w("div",{className:"text-xs text-gray-600 break-words",children:["args: ",n]})]})]},t)})})]})}case"execute_function":{const t=e.content,{recipient:n}=$f(e);/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */w("div",{className:"font-semibold",children:["âš¡ Executing: ",t.func_name]}),
/* @__PURE__ */w("div",{className:"text-sm text-gray-700",children:["â†’ Target: ",n]}),
/* @__PURE__ */w("div",{className:"text-xs text-gray-600 break-words",children:["â†’ Args: ",Yf(e.arguments||t.arguments)]})]})}case"executed_function":{const t=e.content?e.content:e,n=!("is_exec_success"in t)||!!t.is_exec_success,a="object"==typeof t.content&&t.content&&"agent_name"in t.content?t.content.agent_name:void 0,o="string"==typeof t.recipient?t.recipient:void 0,r=t.func_name||$t(t);/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */w("div",{className:n?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[n?"âœ… Success":"âŒ Failed",": ",r]}),a&&/* @__PURE__ */w("div",{className:"text-sm",children:["â†’ Transferred to: ",a]}),!a&&o&&/* @__PURE__ */w("div",{className:"text-sm",children:["â†’ Transferring to: ",o," "]})]})}case"input_request":case"debug_input_request":{const t=e.content?e.content:e;/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */C("div",{className:"font-semibold",children:"ðŸ‘¤ Provide your input:"}),t.prompt&&/* @__PURE__ */C("div",{className:"text-sm",children:t.prompt})]})}case"tool_response":{const t=e.content?e.content:e,{sender:n,recipient:a}=$f(e);/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */C("div",{children:"ðŸ”„ Tool Response:"}),
/* @__PURE__ */C("pre",{className:"whitespace-pre-wrap break-words",children:t.content}),
/* @__PURE__ */w("div",{className:"text-xs",children:["â†’ From: ",n," to ",a]})]})}case"termination":{const t=e.content?e.content:e;/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */C("div",{className:"font-semibold",children:"Termination met"}),t.termination_reason&&/* @__PURE__ */w("div",{className:"text-sm",children:["â†’ Termination_reason: ",t.termination_reason]})]})}case"termination_and_human_reply_no_input":{const t=e.content?e.content:e;/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */C("div",{className:"font-semibold",children:"No human input"}),t.no_human_input_msg&&/* @__PURE__ */w("div",{className:"text-sm",children:["â†’ Message: ",t.no_human_input_msg]})]})}case"run_completion":/* @__PURE__ */
return C("div",{className:"font-semibold",children:"ðŸ Run completed"});case"generate_code_execution_reply":/* @__PURE__ */
return C("div",{className:"font-semibold",children:"ðŸ’» Code executed"});case"group_chat_resume":/* @__PURE__ */
return C(qf,{});case"info":/* @__PURE__ */
return C("div",{className:"info",children:"string"==typeof e.content?e.content:JSON.stringify(e.content)});case"error":return!e.content&&e.error?/* @__PURE__ */C("div",{className:"error",children:e.error}):/* @__PURE__ */C("div",{className:"error",children:"string"==typeof e.content?e.content:JSON.stringify(e.content)});default:/* @__PURE__ */
return w("div",{className:"text-amber-700",children:["âš ï¸ Unknown event type: ",
/* @__PURE__ */C("span",{className:"font-mono",children:e.type}),
/* @__PURE__ */w("pre",{className:"text-xs text-blue-600/80 mb-2 break-words",children:["Raw event: ",JSON.stringify(e,null,2)]})]})}},Kf=({events:e,printRaw:t,autoScroll:n,className:a})=>{const r=o(null),i=o(null),l=o(!1);s(()=>{const e=r.current;if(!e)return;const t=()=>{const t=e.scrollHeight-e.scrollTop-e.clientHeight<80;l.current=!t};return e.addEventListener("scroll",t,{passive:!0}),t(),()=>e.removeEventListener("scroll",t)},[]);return p(()=>{n&&!l.current&&requestAnimationFrame(()=>{requestAnimationFrame(()=>(()=>{const e=r.current,t=i.current;e&&t&&("function"!=typeof t.scrollIntoView?e.scrollTop=e.scrollHeight-e.clientHeight:t.scrollIntoView({behavior:"smooth",block:"end"}))})())})},[e,n]),/* @__PURE__ */C("div",{className:["flex items-center flex-col h-full json",a].filter(Boolean).join(" "),"data-testid":"events-console",children:/* @__PURE__ */w("div",{ref:r,className:"flex-1 w-full overflow-auto text-sm font-mono leading-5",children:[
/* @__PURE__ */C("div",{className:"p-3 space-y-3",children:e.map((e,n)=>/* @__PURE__ */w("div",{className:"empty"===e.type?"center":"entry",children:[t&&/* @__PURE__ */w("div",{className:"text-xs text-blue-600/80 mb-2 break-words",children:["Raw event: ",JSON.stringify(e,null,2)]}),Qf(e)]},e.id??n))}),
/* @__PURE__ */C("div",{ref:i,className:"scroll-anchor p-3"})]})})},eb=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},tb=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),nb=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var ab={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ob=m(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:r,iconNode:i,...s},l)=>u("svg",{ref:l,...ab,width:t,height:t,stroke:e,strokeWidth:a?24*Number(n)/Number(t):n,className:tb("lucide",o),...!r&&!nb(s)&&{"aria-hidden":"true"},...s},[...i.map(([e,t])=>u(e,t)),...Array.isArray(r)?r:[r]])),rb=(e,t)=>{const n=m(({className:n,...a},o)=>{return u(ob,{ref:o,iconNode:t,className:tb(`lucide-${r=eb(e),r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...a});var r});return n.displayName=eb(e),n},ib=rb("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sb=rb("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lb=rb("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),cb=rb("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),db=rb("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),ub=rb("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),pb=rb("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),gb=rb("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),mb=rb("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),hb=rb("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fb=rb("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bb=rb("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yb=e=>"string"==typeof e?e:null==e?"Unknown":Array.isArray(e)?e.map(e=>yb(e)).join(", "):"object"==typeof e?"type"in e&&"text"===e.type&&"text"in e?yb(e.text):"content"in e?yb(e.content):JSON.stringify(e):String(e),vb=({agentData:e,stats:t,darkMode:n,maxContentLen:a})=>{const[o,r]=i(!1),s="string"==typeof e?JSON.parse(e):e,l=s.name||"Unknown Agent",c=yb(s.system_message||s.description||""),d=s.cost?.total?.total_cost||s.cost?.actual?.total_cost||0,u=t.count,p=s.context_variables?.data||s.context_variables||null,g=p&&Object.keys(p).length>0,m=e=>"boolean"==typeof e?e?"âœ“":"âœ—":"string"==typeof e&&["true","false"].includes(e.toLowerCase())?"t"===e[0]?"âœ“":"âœ—":"object"==typeof e?JSON.stringify(e):"string"==typeof e&&e.length>a?e.substring(0,a)+"...":String(e);/* @__PURE__ */
return w("div",{className:"border rounded-lg p-3 mb-2 shadow-sm hover:shadow-md transition-shadow "+(n?" border-gray-800":"border-gray-200"),children:[
/* @__PURE__ */w("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>r(!o),children:[
/* @__PURE__ */w("div",{className:"flex items-center gap-2 flex-1",children:[
/* @__PURE__ */C(hb,{className:"w-4 h-4 "+(n?"text-gray-400":"text-gray-600")}),
/* @__PURE__ */C("span",{className:"font-semibold text-sm "+(n?"text-gray-100":"text-gray-800"),children:l})]}),
/* @__PURE__ */w("div",{className:"flex items-center gap-3",children:[
/* @__PURE__ */w("div",{className:"flex items-center gap-1 text-xs "+(n?"text-gray-400":"text-gray-600"),children:[
/* @__PURE__ */C(db,{className:"w-3 h-3"}),
/* @__PURE__ */C("span",{children:u})]}),d>0&&/* @__PURE__ */w("div",{className:"flex items-center gap-1 text-xs "+(n?"text-gray-400":"text-gray-600"),children:[
/* @__PURE__ */C(bb,{className:"w-3 h-3"}),
/* @__PURE__ */w("span",{children:["$",d.toFixed(4)]})]}),/* @__PURE__ */C(o?ib:sb,{className:"w-4 h-4 "+(n?"text-gray-500":"text-gray-400")})]})]}),o&&/* @__PURE__ */w("div",{className:"mt-3 pt-3 border-t space-y-2 "+(n?"border-gray-700":"border-gray-100"),children:[c&&/* @__PURE__ */w("div",{children:[
/* @__PURE__ */C("div",{className:"text-xs font-medium mb-1 "+(n?"text-gray-400":"text-gray-600"),children:"Role"}),
/* @__PURE__ */C("div",{className:"text-xs p-2 rounded "+(n?"text-gray-300 bg-gray-900":"text-gray-700 bg-gray-50"),children:c.length>150?c.substring(0,150)+"...":c})]}),
/* @__PURE__ */w("div",{children:[
/* @__PURE__ */C("div",{className:"text-xs font-medium mb-1 "+(n?"text-gray-400":"text-gray-600"),children:"Last Activity"}),
/* @__PURE__ */C("div",{className:"text-xs p-2 rounded "+(n?"text-gray-300 bg-gray-900":"text-gray-700 bg-gray-50"),children:t.lastActivity})]}),g&&/* @__PURE__ */w("div",{children:[
/* @__PURE__ */C("div",{className:"text-xs font-medium mb-1 "+(n?"text-gray-400":"text-gray-600"),children:"Context Variables"}),
/* @__PURE__ */C("div",{className:"text-xs p-2 rounded space-y-1 "+(n?"bg-gray-900":"bg-gray-50"),children:Object.entries(p).map(([e,t],a)=>/* @__PURE__ */w("div",{className:"flex items-start gap-2",children:[
/* @__PURE__ */w("span",{className:"font-mono "+(n?"text-blue-400":"text-blue-600"),children:[e,":"]}),
/* @__PURE__ */C("span",{className:"flex-1 "+(n?"text-gray-300":"text-gray-700"),children:m(t)})]},`${e}-${a}`))})]})]})]})},Cb=({agents:e,darkMode:t})=>/* @__PURE__ */C("div",{className:"event-agents-details overflow-auto",children:e.map((n,a)=>{const o=(t=>{if(!Array.isArray(e)||0===e.length)return{count:0,lastActivity:"No activity"};const n=e.flatMap(e=>e?.chat_messages?Object.values(e.chat_messages).flat():[]).filter(e=>e&&e.name===t);if(0===n.length)return{count:0,lastActivity:"No activity"};const a=e=>"string"==typeof e?e.trim().replace(/\s+/g," "):e,o=e=>{if("string"!=typeof e)return!1;const t=e.trim().toLowerCase();return""!==t&&"none"!==t},r=(e,t=300)=>e.length>t?e.slice(0,t)+"...":e,i=/* @__PURE__ */new Set,s=n.filter(e=>{const t=JSON.stringify({name:e.name??null,content:a(e.content)??null,tool_calls:Array.isArray(e.tool_calls)?e.tool_calls.map(e=>e?.id??null).sort():[]});return!i.has(t)&&(i.add(t),!0)});let l=0,c="No activity";for(const e of s){const t=Array.isArray(e.tool_calls)?e.tool_calls:[],n=o(e.content);if(l+=t.length,n&&(l+=1),t.length>0){const e=t[t.length-1];c=`Called ${e?.function?.name||"tool"}`}else n&&(c=r("function"==typeof $t?$t(e.content):String(a(e.content))))}return{count:l,lastActivity:c}})(n.name);/* @__PURE__ */
return C(vb,{agentData:n,stats:o,darkMode:t,maxContentLen:300},`agent-${a}`)})}),wb=({flowId:e,stepByStep:t,isDarkMode:n,events:a})=>{(e=>{const t=al(e=>e.setActiveParticipants),n=al(e=>e.resetActiveParticipants),a=al(e=>e.setActiveEventType),i=al(e=>e.resetActiveEventType),l=al(e=>e.getGroupManager),c=o(-1),d=r((e,t)=>{const{sender:n,recipient:a}=In.extractEventParticipants(t);let o=e.find(e=>e.name===n)?.id??null,r=e.find(e=>e.name===a)?.id??null;if("_Group_Tool_Executor"===n||"_Group_Tool_Executor"===a){const e=l();e&&("_Group_Tool_Executor"===n?o=e.id:r=e.id)}return{senderId:o,recipientId:r}},[l]);s(()=>{if(!e?.active)return n(),i(),void(c.current=-1);const o=e.eventHistory??[];if(0===o.length||!e.participants)return;const r=o.length-1;if(r===c.current)return;const s=o[0];if(!s||"object"!=typeof s)return;c.current=r;const{senderId:l,recipientId:u}=d(e.participants,s);if(null===l&&null===u)return;const p=(e=>{if(!e)return null;let t=e.type??e.debug_type??e.data?.type??"";return t?(t=t.toString(),t.includes("process")?"thinking":t.includes("code")||t.includes("function")||t.includes("tool")?"tool":"message"):null})(s);p&&a(p),t(l??null,u??null)},[e?.active,e?.eventHistory,e?.participants,t,n,a,i,l,d])})(t);const[l,c]=i(""),[d,u]=i(!1),p=al(e=>e.resetActiveParticipants),g=al(e=>e.resetActiveEventType),m=t?.activeRequest?.request_id??null,h=r(e=>{c(e.target.value)},[]),f=r(()=>{m&&(t?.handlers?.respond?.({id:ut(),timestamp:Date.now(),data:l,request_id:m,type:"input_response"}),c(""))},[m,l,t?.handlers]),b=r(e=>{"Enter"===e.key&&(e.nativeEvent?.isComposing||m&&(t?.handlers?.respond?.({id:ut(),timestamp:Date.now(),data:l,request_id:m,type:"input_response"}),c("")))},[m,l,t?.handlers]),y=r(()=>{p(),g()},[g,p]),v=r(e=>{if(!t?.handlers?.sendControl)return;const n=m??"<unknown>";t.handlers.sendControl({data:Qt({kind:e}),request_id:n}),"quit"===e&&y()},[m,t?.handlers,y]),x=r(()=>{u(e=>!e)},[]),A=r(()=>{v("continue"),u(!1)},[v]),I=r(()=>{v("run"),u(!1)},[v]),N=r(()=>{v("quit"),u(!1),y()},[v,y]),k=t?.currentEvent,S=k?.agents?.all,T=Array.isArray(S)&&S.length>0;/* @__PURE__ */
return w("div",{className:"waldiez-step-by-step-view","data-testid":`step-by-step-${e}`,children:[
/* @__PURE__ */w("div",{className:"modal-sticky-top",children:[t?.pendingControlInput&&/* @__PURE__ */w("div",{className:"controls",children:[
/* @__PURE__ */w("button",{className:"btn btn-primary",type:"button",onClick:A,disabled:!t?.pendingControlInput,children:[
/* @__PURE__ */C(ce,{})," ",
/* @__PURE__ */C("span",{children:"Continue"})]}),
/* @__PURE__ */w("button",{className:"btn btn-secondary",type:"button",onClick:I,disabled:!t?.pendingControlInput,children:[
/* @__PURE__ */C(Te,{})," ",
/* @__PURE__ */C("span",{children:"Run"})]}),
/* @__PURE__ */w("button",{className:"btn btn-danger",type:"button",onClick:N,disabled:!t?.pendingControlInput,children:[
/* @__PURE__ */C(Ee,{})," ",
/* @__PURE__ */C("span",{children:"Quit"})]}),T?/* @__PURE__ */w("button",d?{className:"btn",type:"button",onClick:x,disabled:!t?.pendingControlInput,children:[
/* @__PURE__ */C(Me,{})," ",
/* @__PURE__ */C("span",{children:"Back"})]}:{className:"btn",type:"button",onClick:x,disabled:!t?.pendingControlInput,children:[
/* @__PURE__ */C(Re,{})," ",
/* @__PURE__ */C("span",{children:"Info"})]}):null]}),t?.activeRequest&&/* @__PURE__ */w("div",{className:"card card--pending",children:[
/* @__PURE__ */C("div",{className:"card-title",children:"Waiting for input"}),
/* @__PURE__ */C("div",{className:"codeblock",children:t.activeRequest.prompt}),
/* @__PURE__ */w("div",{className:"input-row",children:[
/* @__PURE__ */C("input",{className:"input",placeholder:"Type your response... (Enter to send)",value:l,type:!0===t.activeRequest.password?"password":"text",onChange:h,onKeyDown:b,autoCapitalize:"off",autoCorrect:"off",autoComplete:"off"}),
/* @__PURE__ */C("button",{className:"btn btn-primary",type:"button",onClick:f,children:"Send"})]})]})]}),
/* @__PURE__ */C("div",{className:"content overflow-y-auto modal-body-main",children:T&&d?/* @__PURE__ */C(Cb,{agents:S,darkMode:n}):a.length>0?/* @__PURE__ */C("div",{className:"event-history",children:/* @__PURE__ */C(Kf,{events:a,autoScroll:!0})}):/* @__PURE__ */C("div",{className:"event-history",children:/* @__PURE__ */C(Kf,{events:[{type:"empty",content:"No messages yet..."}]})})})]})};wb.displayName="WaldiezStepByStepView";const xb=g(e=>{const{viewLabel:t,viewLabelInfo:a,items:o=[],itemsType:s="default",placeholder:l="..."}=e,{newEntry:c,onAddEntry:d,onDeleteEntry:u,onEntryChange:p,onNewEntryChange:g,onNewEntryKeyDown:m}=(e=>{const[t,n]=i(""),{items:a,onItemAdded:o,onItemChange:s,onItemDeleted:l}=e,c=r(()=>{o&&t.trim()&&(o(t),n(""))},[t,o]),d=r(e=>{if(!l)return;const t=e.currentTarget.value;l(t)},[l]),u=r(e=>{if(!s)return;const t=parseInt(e.currentTarget.getAttribute("data-index")||"0"),n=e.target.value,o=a[t];null!=o&&s(o,n)},[s,a]),p=r(e=>{n(e.target.value)},[]),g=r(e=>{"Enter"===e.key&&(e.preventDefault(),c())},[c]);return{newEntry:t,onAddEntry:c,onDeleteEntry:d,onEntryChange:u,onNewEntryChange:p,onNewEntryKeyDown:g}})(e),h=n(()=>"function"==typeof t?t():t,[t]),f=n(()=>o.map((e,t)=>/* @__PURE__ */w("div",{className:"list-entry",children:[
/* @__PURE__ */C("input",{placeholder:l,type:"text",value:e,"data-index":t,id:`list-entry-item-${s}-${t}`,onChange:p,"data-testid":`list-entry-item-${s}-${t}`}),
/* @__PURE__ */C("button",{type:"button",onClick:u,value:e,title:"Delete",className:"trash-button",id:`delete-list-entry-${s}-${t}`,"aria-label":`Delete item: ${e}`,"data-testid":`delete-list-entry-${s}-${t}`,children:/* @__PURE__ */C(re,{})})]},`${s}-${t}`)),[o,s,l,p,u]),b=!c.trim();/* @__PURE__ */
return w("div",{className:"list-entries-view",children:[a?/* @__PURE__ */C($h,{label:t,info:a,htmlFor:"list-entries"}):/* @__PURE__ */C("label",{className:"list-entries-label",htmlFor:"list-entries",children:h}),o.length>0&&/* @__PURE__ */C("div",{className:"list-entries-list",children:f}),
/* @__PURE__ */C("div",{className:"list-entries-list",children:/* @__PURE__ */w("div",{className:"add-list-entry-view",children:[
/* @__PURE__ */C("input",{placeholder:l,type:"text",value:c,onChange:g,onKeyDown:m,"data-testid":`new-list-entry-${s}-item`,"aria-label":`New ${s} input`,id:`new-list-entry-${s}`}),
/* @__PURE__ */C("button",{type:"button",onClick:d,title:"Add",disabled:b,className:"plus-button","aria-label":"Add item",id:`add-list-entry-${s}-button`,"data-testid":`add-list-entry-${s}-button`,children:/* @__PURE__ */C(se,{})})]})})]})});xb.displayName="StringList";const Ab=g(e=>{const{id:t,children:n}=e;/* @__PURE__ */
return C("div",{className:"tab-panel",role:"tabpanel","aria-labelledby":`tab-id-${t}`,"data-testid":`panel-${t}`,id:`panel-${t}`,children:n})}),Ib=g(e=>{const{activeTabIndex:t=0,children:a,onTabChange:o}=e,[l,c]=i(t);s(()=>{c(t)},[t]);const d=r(e=>{c(e),o?.(e)},[o]),u=n(()=>b.toArray(a).filter(e=>y(e)&&e.type===Ab),[a]),p=n(()=>u.map((e,t)=>{const n=l===t,a=n?"tab-btn--active":"",o=e.props.id;/* @__PURE__ */
return C("li",{role:"tab","aria-selected":n,children:/* @__PURE__ */C("div",{role:"button","data-testid":`tab-id-${o}`,id:`tab-id-${o}`,"aria-controls":`panel-${o}`,onClick:()=>d(t),className:`tab-btn ${a}`,tabIndex:n?0:-1,children:e.props.label})},`tab-li-${o}-${t}`)}),[u,l,d]),g=u[l]||null;/* @__PURE__ */
return w("div",{className:"tabs",children:[
/* @__PURE__ */C("nav",{className:"tab-list-wrapper",children:/* @__PURE__ */C("ul",{className:"tab-list",role:"tablist","aria-orientation":"horizontal",children:p})}),g]})});Ab.displayName="TabItem",Ib.displayName="TabItems";var Nb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kb=t.createContext&&/* @__PURE__ */t.createContext(Nb),Sb=["attr","size","title"];function Tb(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Eb.apply(this,arguments)}function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mb(Object(n),!0).forEach(function(t){Db(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Db(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ob(e){return e&&e.map((e,n)=>/* @__PURE__ */t.createElement(e.tag,Rb({key:n},e.attr),Ob(e.child)))}function Pb(e){return n=>/* @__PURE__ */t.createElement(Lb,Eb({attr:Rb({},e.attr)},n),Ob(e.child))}function Lb(e){var n=n=>{var a,{attr:o,size:r,title:i}=e,s=Tb(e,Sb),l=r||n.size||"1em";return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),/* @__PURE__ */t.createElement("svg",Eb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:Rb(Rb({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&/* @__PURE__ */t.createElement("title",null,i),e.children)};return void 0!==kb?/* @__PURE__ */t.createElement(kb.Consumer,null,e=>n(e)):n(Nb)}function Bb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Gb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function zb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function _b(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Vb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Hb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Wb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function Fb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function jb(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const Ub=({data:e,width:t,height:n,darkMode:a=!1})=>{const[o,r]=i(null),[s,l]=i({x:0,y:0}),c=40,d=80,u=t-d-140,p=n-c-60;if(!e||!e.timeline||0===e.timeline.length)return null;const g=e.metadata.time_range[1],m=Math.max(...e.cost_timeline.map(e=>e.cumulative_cost)),h=e=>e/g*u,f=e=>p-e/m*p,b=e.cost_timeline.map((e,t)=>`${0===t?"M":"L"} ${h(e.time)} ${f(e.cumulative_cost)}`).join(" "),y=a?"#374151":"#e2e8f0",v=a?"#9CA3AF":"#64748b",A="#8B5CF6",I=a?"#F3F4F6":"#333";/* @__PURE__ */
return w("div",{className:"relative",children:[
/* @__PURE__ */C("svg",{width:t,height:n,onMouseMove:e=>{const t=e.currentTarget.getBoundingClientRect();l({x:e.clientX-t.left,y:e.clientY-t.top})},onMouseLeave:()=>r(null),children:/* @__PURE__ */w("g",{transform:`translate(${d}, ${c})`,children:[[0,.25,.5,.75,1].map(e=>/* @__PURE__ */w("g",{children:[
/* @__PURE__ */C("line",{x1:u*e,y1:0,x2:u*e,y2:p,stroke:y,strokeDasharray:"2,2",strokeWidth:1}),
/* @__PURE__ */C("line",{x1:0,y1:p*e,x2:u,y2:p*e,stroke:y,strokeDasharray:"2,2",strokeWidth:1})]},`grid-${e}`)),e.timeline.map((t,n)=>{let o;if("session"===t.type){const n=e.cost_timeline.find(e=>e.session_id===t.y_position);o=f(n?.cumulative_cost||0)-10}else{const t=e.timeline.slice(0,n).reverse().findIndex(e=>"session"===e.type);if(-1!==t){const a=e.timeline[n-1-t],r=e.cost_timeline.find(e=>e.session_id===a?.y_position);o=f(r?.cumulative_cost||0)-10}else o=f(0)-10}/* @__PURE__ */
return w("g",{children:[
/* @__PURE__ */C("rect",{x:h(t.start),y:o,width:h(t.duration),height:20,fill:"session"===t.type?t.color:"#D1D5DB",stroke:"session"===t.type?t.color:"#9CA3AF",strokeWidth:2,rx:8,fillOpacity:.1,style:{cursor:"pointer"},onMouseEnter:()=>r({...t,index:n})}),"gap"===t.type&&/* @__PURE__ */C("text",{x:h(t.start+t.duration/2),y:o+14,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fontWeight:"bold",fill:a?"#F3F4F6":"white",pointerEvents:"none",children:"human_input_waiting"===t.gap_type?`ðŸ‘¤ ${t.real_duration?.toFixed(0)}s`:`${t.label.split(" ")[0]} `})]},t.id)}),
/* @__PURE__ */C("path",{d:b,fill:"none",stroke:A,strokeWidth:2}),e.cost_timeline.map((e,t)=>/* @__PURE__ */C("circle",{cx:h(e.time),cy:f(e.cumulative_cost),r:4,fill:A,stroke:a?"#1F2937":"white",strokeWidth:2,style:{cursor:"pointer"},onMouseEnter:()=>r({type:"cost_point",cost_data:e,index:t})},`dot-${t}`)),
/* @__PURE__ */w("g",{transform:`translate(0, ${p})`,children:[
/* @__PURE__ */C("line",{x1:0,y1:0,x2:u,y2:0,stroke:v}),[0,.25,.5,.75,1].map(e=>/* @__PURE__ */w("g",{children:[
/* @__PURE__ */C("line",{x1:u*e,y1:0,x2:u*e,y2:6,stroke:v}),
/* @__PURE__ */w("text",{x:u*e,y:20,textAnchor:"middle",fontSize:"12",fill:v,children:[(g*e).toFixed(1),"s"]})]},`x-tick-${e}`)),
/* @__PURE__ */C("text",{x:u/2,y:45,textAnchor:"middle",fontSize:"14",fontWeight:"500",fill:I,children:"Compressed Timeline (seconds)"})]}),
/* @__PURE__ */w("g",{transform:`translate(${u}, 0)`,children:[
/* @__PURE__ */C("line",{x1:0,y1:0,x2:0,y2:p,stroke:A}),[0,.25,.5,.75,1].map(e=>/* @__PURE__ */w("g",{children:[
/* @__PURE__ */C("line",{x1:0,y1:p*e,x2:6,y2:p*e,stroke:A}),
/* @__PURE__ */w("text",{x:20,y:p*e,textAnchor:"start",dominantBaseline:"middle",fontSize:"12",fill:A,children:["$",(m*(1-e)).toFixed(6)]})]},`y-tick-${e}`)),
/* @__PURE__ */C("text",{x:120,y:p/2,textAnchor:"middle",dominantBaseline:"middle",fontSize:"14",fontWeight:"500",fill:A,transform:`rotate(-90, 120, ${p/2})`,children:"Cumulative Cost ($)"})]})]})}),o&&/* @__PURE__ */C("div",{className:"absolute pointer-events-none",style:{left:s.x+10,top:s.y-10,transform:s.x>t/2?"translateX(-100%)":void 0},children:/* @__PURE__ */C("div",{className:"card",children:/* @__PURE__ */w("div",{className:"card-content padding-10",children:["session"===o.type&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("div",{className:"font-semibold text-sm",children:o.agent.replace(/_/g," ")}),
/* @__PURE__ */w("div",{className:"text-xs space-y-0_5",children:[
/* @__PURE__ */w("div",{children:["LLM: ",
/* @__PURE__ */C("span",{className:"font-medium",children:o.llm_model})]}),
/* @__PURE__ */w("div",{children:["Cost: $",o.cost.toFixed(6)]}),
/* @__PURE__ */w("div",{children:["Duration: ",o.duration.toFixed(2),"s"]}),o.tokens>0&&/* @__PURE__ */w("div",{children:["Tokens: ",o.prompt_tokens.toLocaleString()," in +"," ",o.completion_tokens.toLocaleString()," out"]}),
/* @__PURE__ */w("div",{children:["Cache: ",o.is_cached?"Cached":"Fresh"]}),o.real_start_time&&/* @__PURE__ */w("div",{children:["Started: ",o.real_start_time]})]})]}),"gap"===o.type&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("div",{className:"font-semibold text-sm",children:o.label}),
/* @__PURE__ */w("div",{className:"text-xs space-y-0_5",children:[
/* @__PURE__ */w("div",{children:["Type: ",o.gap_type.replace(/_/g," ")]}),
/* @__PURE__ */w("div",{children:["Original Duration: ",o.real_duration?.toFixed(1),"s"]}),o.compressed&&/* @__PURE__ */w("div",{children:["Compressed to: ",o.duration.toFixed(1),"s"]})]})]}),"cost_point"===o.type&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */w("div",{className:"font-semibold text-sm",children:["Cumulative Cost: $",o.cost_data.cumulative_cost.toFixed(6)]}),
/* @__PURE__ */w("div",{className:"text-xs space-y-0_5",children:[
/* @__PURE__ */w("div",{children:["Session Cost: $",o.cost_data.session_cost.toFixed(6)]}),
/* @__PURE__ */w("div",{children:["Session: ",o.cost_data.session_id]})]})]})]})})})]})},Xb=({data:e,height:t=400})=>{const{isDark:n}=Zo(),a=o(null),[r,s]=i({width:0,height:0});return p(()=>{if(a.current){const e=a.current.querySelector("svg"),t=a.current.getBoundingClientRect();if(e){const n=parseInt(e.getAttribute("width")||`${t.width}`),a=parseInt(e.getAttribute("height")||`${t.height}`);s({width:n,height:a})}else s({width:t.width,height:t.height})}},[]),/* @__PURE__ */w("div",{className:"w-full padding-10",children:[
/* @__PURE__ */C("div",{className:"timeline-grid margin-bottom-10",children:[{label:"Sessions",value:e.summary.total_sessions,icon:Bb},{label:"Total Cost",value:`$${e.summary.total_cost.toFixed(6)}`,icon:zb},{label:"Duration",value:`${e.summary.total_time.toFixed(1)}s`,icon:Gb},{label:"Agents",value:e.summary.total_agents,icon:Fb},{label:"Tokens",value:e.summary.total_tokens?.toLocaleString()||"N/A",icon:Hb},{label:"Avg Cost",value:`$${e.summary.avg_cost_per_session.toFixed(6)}`,icon:zb}].map(({label:e,value:t,icon:n})=>/* @__PURE__ */C("div",{className:"card",children:/* @__PURE__ */C("div",{className:"card-content",children:/* @__PURE__ */w("div",{className:"timeline-top",children:[
/* @__PURE__ */C(n,{className:"timeline-icon"}),
/* @__PURE__ */w("div",{className:"timeline-top-content",children:[
/* @__PURE__ */C("p",{className:"timeline-label",children:e}),
/* @__PURE__ */C("p",{className:"timeline-value",children:t})]})]})})},e))}),
/* @__PURE__ */w("div",{className:"card",children:[
/* @__PURE__ */w("div",{className:"card-header",children:[
/* @__PURE__ */C("h3",{className:"card-title",children:"Session Activity Timeline with Cumulative Cost"}),
/* @__PURE__ */w("p",{className:"card-description",children:["Interactive timeline showing agent sessions and cost accumulation (human input periods compressed)",e.summary.compression_info.gaps_compressed>0&&/* @__PURE__ */w("span",{className:"badge badge-secondary",style:{marginLeft:"0.5rem"},children:[e.summary.compression_info.gaps_compressed," gaps compressed,",e.summary.compression_info.time_saved.toFixed(1),"s saved"]})]})]}),
/* @__PURE__ */w("div",{className:"card-content",children:[
/* @__PURE__ */C("div",{className:"w-full",children:/* @__PURE__ */C(qe,{width:"100%",height:t,ref:a,children:/* @__PURE__ */C(Ub,{width:r.width,height:r.height,data:e,darkMode:n})})}),e.agents.length>0&&
/* @__PURE__ */C("div",{className:"timeline-agent-list",children:e.agents.map(e=>/* @__PURE__ */w("div",{className:"timeline-agent-item",children:[
/* @__PURE__ */C("div",{className:"timeline-agent-dot",style:{backgroundColor:e.color}}),
/* @__PURE__ */C("span",{className:"timeline-agent-name",children:e.name.replace(/_/g," ")}),
/* @__PURE__ */w("span",{className:"timeline-agent-class",children:["(",e.class,")"]})]},e.name))})]})]})]})},Zb=({flowId:e,isOpen:t,onClose:n,data:a})=>/* @__PURE__ */w(hf,{flowId:e,dataTestId:"timeline-modal",id:"timeline-modal",title:"Chat Timeline",isOpen:t,onClose:n,className:"modal-fullscreen",hasMaximizeBtn:!1,hasCloseBtn:!0,hasUnsavedChanges:!1,preventCloseIfUnsavedChanges:!1,noHeader:!0,children:[
/* @__PURE__ */C("div",{className:"timeline-modal fullscreen open no-backdrop",children:/* @__PURE__ */C("div",{className:"modal-body",children:/* @__PURE__ */C(Xb,{data:a})})}),
/* @__PURE__ */C("button",{type:"button",title:"Close",className:"modal-close",onClick:n,"data-testid":"modal-close",children:/* @__PURE__ */C(we,{size:12})})]}),Jb='"""Custom update system message function."""\n\n# provide the function to define the system message before replying\n# complete the `custom_update_system_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the final message.\n# the function should accept the agent and the messages as arguments.\n# example:\n# def custom_update_system_message(\n#     agent: ConversableAgent,\n#     messages: List[Dict[str, Any]]\n# ) -> str:\n#     return "Hello, I am a custom system message"\n\ndef custom_update_system_message(\n     agent: ConversableAgent,\n     messages: List[Dict[str, Any]]\n) -> str:\n    ...\n',Yb=e=>{const{data:t,onDataChange:a,darkMode:o}=e,l=n(()=>t.updateAgentStateBeforeReply.length>0,[t.updateAgentStateBeforeReply]),c=n(()=>l?t.updateAgentStateBeforeReply[0]:{type:"string",content:""},[l,t.updateAgentStateBeforeReply]),[d,u]=i(l),[p,g]=i(c?.type||"string");s(()=>{u(l),l&&g(c?.type||"string")},[l,c?.type]);const m=n(()=>[{label:"Text",value:"string"},{label:"Function",value:"callable"}],[]),h=n(()=>m.find(e=>e.value===p),[m,p]),f=r(e=>{if(u(e),e){a({updateAgentStateBeforeReply:[{type:p,content:"string"===p?"":Jb}]})}else a({updateAgentStateBeforeReply:[]})},[a,p]),b=r(e=>{if(!e)return void a({updateAgentStateBeforeReply:[]});const t=e.value;g(t);a({updateAgentStateBeforeReply:[{type:t,content:"string"===t?"":Jb}]})},[a]),y=r(e=>{a({updateAgentStateBeforeReply:[{type:"string",content:e.target.value}]})},[a]),v=r(e=>{a({updateAgentStateBeforeReply:[{type:"callable",content:e??Jb}]})},[a]),A=n(()=>l&&"string"===c?.type?c.content:"",[l,c]),I=n(()=>l&&"callable"===c?.type?c.content:Jb,[l,c]);/* @__PURE__ */
return w("div",{className:"agent-panel agent-update-state-panel",children:[
/* @__PURE__ */C("div",{className:"info margin-bottom-10",children:"You can update the agent's system message before replying. This can be useful if you need to control the system message based on the current conversation context. If enabled, it can be a string or a function. If text, it will be used as a template and substitute the context variables. If a function, it should accept the agent and messages as arguments and return a string."}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C(Jd,{label:"Update system message before reply",isChecked:d,onCheckedChange:f,id:"enable-update-system-message","aria-label":"Enable update system message"}),d&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:"update-system-message-type-select-input",children:"Message update type"}),
/* @__PURE__ */C(Ym,{options:m,value:h,onChange:b,inputId:"update-system-message-type-select-input"}),
/* @__PURE__ */C("label",{htmlFor:"update-system-message-string",children:"Message update"}),"string"===p?/* @__PURE__ */C(ef,{rows:4,value:A,placeholder:"Enter a string template with {variable}s",onChange:y,"data-testid":"update-system-message-string",id:"update-system-message-string"}):/* @__PURE__ */C(Yh,{value:I,onChange:v,darkMode:o,"data-testid":"update-system-message-callable"})]})]})]})};Yb.displayName="UpdateState";const qb=g(e=>{const{children:t,id:n}=e;/* @__PURE__ */
return C("div",{className:"wizard-step-view","data-testid":`wizard-step-${n}`,children:t})}),$b=g(e=>{const{children:t,activeStep:a=0,canGoForward:o=!0,canGoBack:l=!0,firstBackTitle:c="Cancel",lastNextTitle:d="Finish",onBack:u,onForward:p}=e,[g,m]=i(a);s(()=>{m(a)},[a]);const h=n(()=>b.toArray(t).filter(e=>y(e)&&e.type===qb),[t]),f=n(()=>"function"==typeof l?l(g):l,[l,g]),v=n(()=>"function"==typeof o?o(g):o,[o,g]),x=n(()=>0===g&&!u||!f,[g,u,f]),A=n(()=>g===h.length-1&&!p||!v,[g,h.length,p,v]),I=n(()=>0===g?c:"Back",[g,c]),N=n(()=>g===h.length-1?d:"Next",[g,h.length,d]),k=r(()=>{g>0&&m(e=>e-1),u&&u(g)},[g,u]),S=r(()=>{g<h.length-1&&m(e=>e+1),p&&p(g)},[g,h.length,p]),T=n(()=>h.map((e,t)=>{const n=g===t;/* @__PURE__ */
return C("div",{role:"tab",className:`wizard-step ${n?"wizard-step--active":""}`,"data-testid":`step-id-${e.props.id}`,"aria-selected":n,"aria-controls":`wizard-step-${e.props.id}`,children:e},`wizard-step-${t}`)}),[h,g]);/* @__PURE__ */
return w("div",{className:"wizard",children:[
/* @__PURE__ */C("div",{className:"wizard-steps",role:"tablist",children:T}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{type:"button",title:I,onClick:k,"data-testid":"wizard-back-btn",disabled:x,className:"wizard-action-btn wizard-action-btn-prev","aria-label":I,children:I}),
/* @__PURE__ */C("button",{type:"button",title:N,onClick:S,disabled:A,"data-testid":"wizard-next-btn",className:"wizard-action-btn wizard-action-btn-next primary","aria-label":N,children:N})]})]})});qb.displayName="WizardStep",$b.displayName="Wizard";function Qb(e){return Pb({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"},child:[]}]})(e)}const Kb=g(e=>{const{flowId:t,chat:n}=e,[a,l]=i(""),[c,d]=i(!1),[u,p]=i(null),[g,m]=i(!1),[h,f]=i(!1),[b,y]=i(!0),v=o(null);s(()=>{n?.show&&(y(!0),l(""),p(null),requestAnimationFrame(()=>{n.activeRequest?.request_id?v.current?.focus():v.current?.blur()}))},[n?.show,n?.activeRequest?.request_id,n?.messages]);const x=r((e=!0)=>{const o=[];return e&&(o.push({content:{type:"text",text:a.trim()}}),u&&o.push({content:{type:"image_url",image_url:{url:u}}})),{id:`${t}-${Date.now()}`,request_id:n?.activeRequest?.request_id||"",type:"input_response",timestamp:/* @__PURE__ */(new Date).toISOString(),data:o}},[t,n?.activeRequest,a,u]),A=r(()=>{n?.handlers?.onUserInput?.(x()),setTimeout(()=>{l(""),p(null)},10)},[n?.handlers,x]),I=r(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A())},[A]),N=r(e=>{l(e.target.value)},[]),k=r(e=>{const t=e.target.files?.[0];if(t){const e=new FileReader;e.onloadend=()=>{p(e.result)},e.readAsDataURL(t)}e.target.value="",d(!1)},[]),S=r(()=>{p(null)},[]),T=r(()=>{l(""),p(null),n?.handlers?.onClose?(n.handlers.onClose(),y(!1)):y(!1)},[n?.handlers]),E=r(()=>{d(!0)},[]),M=r(()=>{d(!1),setTimeout(()=>{v.current?.focus()},0)},[]),R=r(e=>{e.preventDefault(),e.stopPropagation(),c?d(!1):T()},[c,T]),D=r(()=>{m(!1)},[]),O=r(()=>{m(!0)},[]),P=r(()=>{n?.handlers?.onInterrupt?.()},[n?.handlers]),L=`rf-${t}-chat-modal-input`,B=`rf-${t}-chat-modal-image`,G=`rf-${t}-chat-modal`,z=b&&(!0===n?.show||void 0!==n&&n.messages.length>0),_=n?.timeline?/* @__PURE__ */C("div",{role:"button",className:"chat-modal-action clickable",onClick:O,title:"View Timeline","data-testid":`rf-${t}-chat-modal-timeline`,children:/* @__PURE__ */C($e,{size:18})}):n?.handlers?.onInterrupt&&!n.active?/* @__PURE__ */C("div",{role:"button",className:"chat-modal-action clickable",onClick:P,title:"Interrupt",children:/* @__PURE__ */C(de,{size:18})}):void 0,V=!n||!n?.mediaConfig||n?.mediaConfig?.allowedTypes.includes("image");return g&&n?.timeline?/* @__PURE__ */C(Zb,{flowId:t,isOpen:g,onClose:D,data:n.timeline}):/* @__PURE__ */C(hf,{flowId:t,id:G,title:"Chat",isOpen:z,onClose:T,onCancel:R,beforeTitle:_,className:"chat-modal",hasMaximizeBtn:!0,hasCloseBtn:!0,dataTestId:G,hasUnsavedChanges:!1,preventCloseIfUnsavedChanges:!1,children:/* @__PURE__ */w("div",{className:"modal-body min-h-[320px]",children:[n?.messages&&n.messages.length>0&&/* @__PURE__ */C("div",{className:"chat-wrapper","data-flow-id":t,children:/* @__PURE__ */C(Jh,{isDarkMode:!1,messages:n.messages,userParticipants:n.userParticipants,activeRequest:n.activeRequest})}),
/* @__PURE__ */C("div",{className:"input-prompt",children:n?.activeRequest?.prompt}),void 0!==n?.activeRequest?.request_id&&/* @__PURE__ */w("div",{className:"chat-input-container",children:[u&&/* @__PURE__ */C("div",{className:"chat-image-preview",children:/* @__PURE__ */w("div",{className:"chat-image-wrapper",children:[
/* @__PURE__ */C("img",{src:u,alt:"Preview",className:"chat-preview-image"}),
/* @__PURE__ */C("button",{type:"button",className:"chat-remove-image-button",onClick:S,title:"Remove Image","aria-label":"Remove uploaded image",children:/* @__PURE__ */C(jb,{size:14})})]})}),
/* @__PURE__ */C("div",{className:"chat-input-field-container",children:!0===n?.activeRequest?.password?/* @__PURE__ */w("div",{className:"password-toggle-container",children:[
/* @__PURE__ */C("input",{type:h?"text":"password",ref:v,placeholder:"Enter your password",id:L,"data-testid":L,value:a,disabled:void 0===n?.activeRequest?.request_id,onKeyDown:I,onChange:N,className:"chat-text-input password-input",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none","aria-label":"Password input"}),
/* @__PURE__ */C("button",{type:"button",className:"password-toggle-button",onClick:()=>f(!h),title:h?"Hide password":"Show password","aria-label":h?"Hide password":"Show password",disabled:void 0===n?.activeRequest?.request_id,children:/* @__PURE__ */C(h?_b:Vb,{size:18})})]}):/* @__PURE__ */C("input",{type:"text",ref:v,placeholder:"Enter your message here",id:L,"data-testid":L,value:a,disabled:void 0===n?.activeRequest?.request_id,onKeyDown:I,onChange:N,className:"chat-text-input",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none","aria-label":"User input"})}),void 0!==n?.activeRequest?.request_id&&/* @__PURE__ */w("div",{className:"chat-input-actions",children:[V?/* @__PURE__ */w("label",{htmlFor:B,className:"chat-upload-button",children:[
/* @__PURE__ */C(Wb,{size:18,"aria-hidden":"true"}),
/* @__PURE__ */C("span",{className:"hidden",children:"Upload an image"}),
/* @__PURE__ */C("input",{type:"file",disabled:void 0===n?.activeRequest?.request_id,"aria-label":"Upload an image",id:B,"data-testid":B,accept:"image/*",className:"chat-upload-input",onChange:k,onClick:E,onBlur:M})]}):/* @__PURE__ */C("div",{className:"chat-upload-button"}),
/* @__PURE__ */C("button",{type:"button",title:"Send",disabled:void 0===n?.activeRequest?.request_id,onClick:A,className:"chat-send-button","data-testid":`rf-${t}-chat-modal-submit`,"aria-label":"Send message",children:/* @__PURE__ */C(Qb,{size:20,"aria-hidden":"true"})})]})]})]})})});Kb.displayName="ChatModal";const ey="https://api.waldiez.io/api/files",ty=g(e=>{const{flowId:t,isOpen:n,onClose:a,onExport:o,onDownload:s}=e,[l,c]=i(!1),[d,u]=i(""),[p,g]=i(null),[m,h]=i(!1),f=r(e=>{c(e)},[]),b=r(e=>{u(e.target.value)},[]),y=r(e=>{Ms({flowId:t,message:e,level:"error",details:null,duration:5e3})},[t]),v=r(async e=>{if(!m)try{h(!0);const e=o();if(!e)return void y("Error exporting flow.");const n=new Blob([e],{type:"application/json"}),a=new FormData;a.append("file",n,`${t}.waldiez`);const r=await fetch(`${ey}/upload`,{method:"POST",headers:{Authorization:`Bearer ${d}`,content_type:"application/waldiez"},body:a,signal:AbortSignal.timeout(1e4)});if(!r.ok)throw new Error(`Error uploading to hub: ${r.statusText}`);const i=await r.json();if(p){const e=new FormData;e.append("file",p,p.name);const t=await fetch(`${ey}/${i.id}/example`,{method:"POST",headers:{Authorization:`Bearer ${d}`,content_type:"application/csv"},body:e,signal:AbortSignal.timeout(3e4)});if(!t.ok)throw new Error(`Error uploading additional file: ${t.statusText}`)}Ms({flowId:t,message:"Flow uploaded to hub.",level:"success",details:null,duration:5e3})}catch(n){y("Error uploading to hub.")}finally{h(!1)}},[t,o,d,p,m,y]),x=r(e=>{if(0===e.length)return void g(null);const t=e[0];if(!t)return void y("No file selected.");if(t.size>5242880)return void y("File size exceeds 5MB.");const n=t.name.split(".").pop()?.toLowerCase();"csv"===n?g(t):y("File is not a CSV.")},[y]);/* @__PURE__ */
return w(hf,{flowId:t,isOpen:n,onClose:a,title:"Export Flow",dataTestId:`export-flow-modal-${t}`,children:[
/* @__PURE__ */C("div",{className:"modal-body",children:/* @__PURE__ */w("div",{className:"padding-10",children:[
/* @__PURE__ */C(Jd,{id:`export-flow-modal-upload-${t}`,label:/* @__PURE__ */C("span",{className:"checkbox-label-view",children:/* @__PURE__ */w("div",{children:["Share this flow to"," ",
/* @__PURE__ */C("a",{href:"https://hub.waldiez.io",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Waldiez hub"})]})}),isChecked:l,onCheckedChange:f,"data-testid":`export-flow-modal-upload-checkbox-${t}`}),l&&/* @__PURE__ */w("div",{className:"flex items-center w-full flex-col",children:[
/* @__PURE__ */C("div",{className:"margin-top-10 w-full",children:/* @__PURE__ */C(af,{label:/* @__PURE__ */C("div",{className:"no-padding margin-bottom-5",children:"Hub API Token:"}),value:d,name:"hub-api-token",onChange:b,placeholder:"Enter your hub API token",dataTestId:`hub-api-token-${t}`,className:"w-full",isPassword:!0})}),
/* @__PURE__ */w("div",{className:"margin-top-10 margin-bottom-20 w-full",children:[
/* @__PURE__ */C("div",{className:"margin-bottom-10 padding-10 center",children:"Additional CSV file (results.csv) to include:"}),
/* @__PURE__ */C(Kh,{allowedFileExtensions:[".csv"],flowId:t,onUpload:x,multiple:!1})]})]})]})}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{type:"reset",className:"modal-action-cancel",onClick:a,children:"Cancel"}),
/* @__PURE__ */w("div",{className:"flex items-center flex-row",children:[l&&/* @__PURE__ */C("button",{type:"button",className:"save margin-right-20",onClick:v,"data-testid":`upload-to-hub-${t}`,disabled:m||!d,children:m?"Uploading...":"Upload to Hub"}),
/* @__PURE__ */C("button",{type:"button",className:"primary",onClick:s,children:"Download"})]})]})]})});ty.displayName="ExportFlowModal";const ny={searchTerm:"",remoteUrl:"",loadedFlowData:null,loading:!1,searchResults:null,selectedProps:{everything:!0,override:!0,name:!1,description:!1,tags:!1,requirements:!1,isAsync:!1,nodes:{models:[],tools:[],agents:[]},edges:[]}},ay=3e4,oy=e=>{const{flowId:t,state:n}=e,{remoteUrl:a,loadedFlowData:o,loading:i}=n,{onUpload:s,onRemoteUrlChange:l,onRemoteUrlSubmit:c,onClearLoadedFlowData:d,onSearchChange:u,onSearchSubmit:p,onSelectResult:g}=(e=>{const{flowId:t,state:n,initialState:a,onStateChange:o}=e,i=r(e=>{o({loadedFlowData:e})},[o]),s=r(e=>{o({remoteUrl:e})},[o]),l=r(e=>{try{const n=Yi.toReactFlow(Yi.importFlow(e,t));if(0===n.nodes.length&&0===n.edges.length)return i(null),void Ms({flowId:t,message:"Failed to load flow",level:"error",details:null,duration:3e3});i(n)}catch(n){i(null),Ms({flowId:t,message:"Failed to parse flow data",level:"error",details:null,duration:3e3})}},[t,i]),c=r(e=>{if(!e.length)return;const n=e[0];if(n)try{const e=new FileReader;e.onload=()=>{const t=e.result;"string"==typeof t&&l(t)},e.onerror=()=>{i(null),Ms({flowId:t,message:"Failed to read file",level:"error",details:null,duration:3e3})},e.readAsText(n)}catch(a){i(null),Ms({flowId:t,message:"Failed to upload file",level:"error",details:null,duration:3e3})}},[t,l,i]),d=r(e=>{s(e.target.value)},[s]),u=r(()=>{const e=new AbortController,r=e.signal;i(null),o({loading:!0});const s=setTimeout(()=>{e.abort()},ay);fetch(n.remoteUrl,{signal:r,mode:"cors",redirect:"follow",headers:{Accept:"application/json"}}).then(e=>{if(!e.ok)throw new Error(`Server responded with ${e.status}: ${e.statusText}`);return e.json()}).then(e=>{l(e)}).catch(e=>{Ms({flowId:t,message:`Failed to load flow: ${e.message}`,level:"error",duration:5e3}),o(a)}).finally(()=>{clearTimeout(s),o({loading:!1,remoteUrl:n.remoteUrl,searchResults:null})})},[t,n.remoteUrl,l,i,o,a]),p=r(e=>{o({selectedProps:{...n.selectedProps,...e}})},[n.selectedProps,o]),g=r(()=>{i(null)},[i]),m=r(e=>{const t=e.target.value.trim();o({searchTerm:t})},[o]),h=r(e=>{s(e.url),i(null),o({loading:!0});const r=new AbortController,c=r.signal,d=setTimeout(()=>{r.abort()},ay);fetch(`${e.url}?count=false`,{signal:c,mode:"cors",redirect:"follow",headers:{Accept:"application/json"}}).then(e=>{if(!e.ok)throw new Error(`Server responded with ${e.status}: ${e.statusText}`);return e.json()}).then(e=>{l(e)}).catch(e=>{Ms({flowId:t,message:`Failed to load flow from selected result: ${e.message}`,level:"error",duration:5e3}),o(a)}).finally(()=>{clearTimeout(d),o({loading:!1,remoteUrl:n.remoteUrl})})},[s,i,o,l,t,a,n.remoteUrl]);return{onUpload:c,onRemoteUrlChange:d,onRemoteUrlSubmit:u,onSelectedPropsChange:p,onClearLoadedFlowData:g,onSearchChange:m,onSearchSubmit:r(()=>{const{searchTerm:e}=n;if(!e)return void Ms({flowId:t,message:"Please enter a search term",level:"warning",duration:3e3});const r=new AbortController,i=r.signal,s=setTimeout(()=>{r.abort()},ay);o({loading:!0}),fetch(`https://api.waldiez.io/api/search/?query=${encodeURIComponent(e)}`,{signal:i,headers:{Accept:"application/json"}}).then(e=>{if(!e.ok)throw new Error(`Server responded with ${e.status}: ${e.statusText}`);return e.json()}).then(e=>{const t=e.files.map(e=>({id:e.id,name:e.name,description:e.description,tags:e.tags?e.tags.split(",").map(e=>e.trim()):[],url:e.url,upload_date:e.upload_date}));o({searchResults:t})}).catch(e=>{Ms({flowId:t,message:`Failed to fetch search results: ${e.message}`,level:"error",duration:5e3}),o(a)}).finally(()=>{clearTimeout(s),o({loading:!1,searchTerm:e,remoteUrl:n.remoteUrl})})},[t,n,o,a]),onSelectResult:h}})(e);/* @__PURE__ */
return w(x,{children:[
/* @__PURE__ */C(qh,{title:"Search the hub",dataTestId:`import-flow-modal-collapsible-search-${t}`,expanded:!0,children:/* @__PURE__ */w("div",{className:"margin-top-10 margin-bottom-10 w-full flex flex-col",children:[
/* @__PURE__ */w("div",{className:"w-full flex items-center",children:[
/* @__PURE__ */C("input",{type:"text",className:"text-input w-full margin-right-10",placeholder:"Search",onChange:u,onKeyDown:e=>{"Enter"===e.key&&p()}}),
/* @__PURE__ */C("button",{type:"button",title:"Search",className:"modal-action-submit p-[7px] rounded",onClick:p,"data-testid":`import-flow-modal-search-submit-${t}`,disabled:i,children:"Search"})]}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:n.searchResults&&n.searchResults.length>0&&/* @__PURE__ */C("ul",{className:"search-results-list",children:n.searchResults.map(e=>/* @__PURE__ */w("li",{className:"search-result-item clickable",role:"button",onClick:()=>g(e),children:[
/* @__PURE__ */C("span",{className:"search-result-title",children:e.name}),
/* @__PURE__ */C("span",{className:"search-result-tags",children:e.tags.map(e=>/* @__PURE__ */C("span",{className:"search-result-tag",children:e},e))}),
/* @__PURE__ */C("div",{className:"search-result-description",children:e.description})]},e.id))})})]})}),
/* @__PURE__ */C(qh,{title:"Upload a file",dataTestId:`import-flow-modal-collapsible-local-${t}`,children:/* @__PURE__ */C("div",{className:"padding-10 margin-left--10 margin-right--10",children:/* @__PURE__ */C(Kh,{flowId:t,onUpload:s,allowedFileExtensions:[".waldiez",".json"]})})}),
/* @__PURE__ */C(qh,{title:"Import from URL",dataTestId:`import-flow-modal-collapsible-url-${t}`,children:/* @__PURE__ */w("div",{className:"margin-top-10 w-full flex flex-col",children:[
/* @__PURE__ */C("div",{className:"warning margin-bottom-10",children:/* @__PURE__ */C("span",{children:"Warning: Importing from an untrusted source can be harmful"})}),
/* @__PURE__ */w("div",{className:"margin-top-10 w-full flex items-center",children:[
/* @__PURE__ */C("input",{type:"text",className:"text-input w-full margin-right-10",placeholder:"Enter URL",onChange:l,value:n.remoteUrl,"data-testid":`import-flow-modal-url-input-${t}`}),
/* @__PURE__ */C("button",{type:"button",title:"Load flow from URL",className:"modal-action-submit p-[7px] rounded",onClick:c,"data-testid":`import-flow-modal-url-submit-${t}`,disabled:!a.startsWith("https://")||i,children:"Load"})]})]})}),
/* @__PURE__ */C("div",{className:"margin-top-20 center",children:o?/* @__PURE__ */w("div",{className:"flex items-center justify-center",children:["Loaded flow: ",
/* @__PURE__ */C("span",{className:"bold italic",children:o.name}),
/* @__PURE__ */C(De,{className:"margin-left-10 clickable","data-testid":"clear-loaded-flow-data",onClick:d})]}):/* @__PURE__ */C("div",{className:"flex items-center justify-center",children:"No flow loaded"})})]})},ry=e=>{const{flowId:t,state:a}=e,{selectedProps:o}=a,{agentNodes:i,onAgentsChange:l,onAllNoneAgentsChange:c}=(e=>{const{flowId:t,state:a,onStateChange:o}=e,{selectedProps:i,loadedFlowData:l}=a,c=n(()=>l?.nodes.filter(e=>"agent"===e.type)||[],[l?.nodes]),d=r(e=>{o({selectedProps:{...i,...e}})},[i,o]),u=r(()=>{const e=document.getElementById(`import-flow-modal-agents-all-none-${t}`);if(e)if(i.nodes.agents.length>0){const t=i.nodes.agents.length===c.length;e.indeterminate=!t,e.checked=t}else e.indeterminate=!1,e.checked=!1},[t,i.nodes.agents.length,c.length]);s(()=>{u()},[u]);const p=r(e=>{const t=i.nodes.agents.some(t=>t.id===e.id);d({nodes:{models:i.nodes.models,tools:i.nodes.tools,agents:t?i.nodes.agents.filter(t=>t.id!==e.id):[...i.nodes.agents,e]}})},[i.nodes,d]),g=r(e=>{d({nodes:{models:i.nodes.models,tools:i.nodes.tools,agents:e?c:[]}})},[c,i.nodes.models,i.nodes.tools,d]);return{agentNodes:c,onAgentsChange:p,onAllNoneAgentsChange:g}})(e);/* @__PURE__ */
return w("div",{className:"flow-data-preview-body-section",children:[
/* @__PURE__ */C("h4",{children:"Agents"}),i&&i?.length>1&&/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */C("div",{className:"bold",children:"Select All | None"}),isChecked:o.nodes.agents.length===i.length,onCheckedChange:c,id:`import-flow-modal-agents-all-none-${t}`,"data-testid":`import-flow-modal-agent-all-none-${t}`})}),i?.map(e=>{const t=e;/* @__PURE__ */
return C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */w("div",{children:[t.data.label,": ",t.data.description]}),id:`import-flow-modal-agent-checkbox-${e.id}`,isChecked:o.nodes.agents.some(t=>t.id===e.id),onCheckedChange:l.bind(null,e),"data-testid":`import-flow-modal-agent-checkbox-${e.id}`})},e.id)}),0===i?.length&&/* @__PURE__ */C("div",{children:"No agents in this flow"})]})},iy=e=>{const{flowId:t,state:a}=e,{loadedFlowData:o,selectedProps:i}=a,l=o?.tags.length?o?.tags.join(", "):"None",c=o?.requirements.length?o?.requirements.join(", "):"None",{onOverrideChange:d,onAllNoneInfoChange:u,onNameChange:p,onDescriptionChange:g,onIsASyncChange:m,onTagsChange:h,onRequirementsChange:f,onImportEverythingChange:b}=(e=>{const{flowId:t,state:a,onStateChange:o}=e,{selectedProps:i}=a,l=r(e=>{o({selectedProps:{...i,...e}})},[i,o]),c=n(()=>{const e=[i.name,i.description,i.tags,i.requirements],t=e.filter(Boolean).length;return{anySelected:t>0,allSelected:t===e.length,partiallySelected:t>0&&t<e.length}},[i.name,i.description,i.tags,i.requirements]),d=r(()=>{const e=document.getElementById(`import-flow-info-all-none-${t}`);e&&(c.anySelected?(e.indeterminate=c.partiallySelected,e.checked=c.allSelected):(e.indeterminate=!1,e.checked=!1))},[t,c]);s(()=>{d()},[d]);const u=r(e=>{l({name:e,description:e,tags:e,requirements:e,isAsync:e})},[l]),p=r(e=>{l({everything:e})},[l]);return{onOverrideChange:r(e=>{l({override:e})},[l]),onNameChange:r(e=>{l({name:e})},[l]),onDescriptionChange:r(e=>{l({description:e})},[l]),onTagsChange:r(e=>{l({tags:e})},[l]),onRequirementsChange:r(e=>{l({requirements:e})},[l]),onIsASyncChange:r(e=>{l({isAsync:e})},[l]),onAllNoneInfoChange:u,onImportEverythingChange:p}})(e);/* @__PURE__ */
return C(x,{children:/* @__PURE__ */w("div",{className:"flow-data-preview-body",children:[
/* @__PURE__ */w("div",{className:"flow-data-preview-body-section",children:[
/* @__PURE__ */C("h4",{children:"Flow Override"}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:"Override existing flow with imported flow",isChecked:i.override,onCheckedChange:d,id:`import-flow-modal-override-${t}`,"data-testid":"override-flow-checkbox"})})]}),
/* @__PURE__ */w("div",{className:"flow-data-preview-body-section",style:{marginTop:0},children:[
/* @__PURE__ */C("h4",{children:"What to import"}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:"Import Everything",isChecked:i.everything,onCheckedChange:b,id:`import-flow-modal-everything-${t}`,"data-testid":"import-everything-checkbox"})})]}),!i.everything&&/* @__PURE__ */w("div",{className:"flow-data-preview-body-section",children:[
/* @__PURE__ */C("h4",{children:"Flow Information"}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */C("div",{className:"bold",children:"Select All | None"}),isChecked:i.name&&i.description&&i.tags&&i.requirements&&i.isAsync,onCheckedChange:u,id:`import-flow-info-all-none-${t}`,"data-testid":"import-flow-info-all-none"})}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */w("div",{"data-testid":"import-flow-info-name-preview",children:["Name: ",o?.name]}),isChecked:i.name,onCheckedChange:p,id:`import-flow-info-name-${t}`,"data-testid":"import-flow-info-name"})}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */w("div",{"data-testid":"import-flow-info-description-preview",children:["Description: ",o?.description]}),isChecked:i.description,onCheckedChange:g,id:`import-flow-info-description-${t}`,"data-testid":"import-flow-info-description"})}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */w("div",{"data-testid":"import-flow-info-tags-preview",children:["Tags: ",l]}),isChecked:i.tags,onCheckedChange:h,id:`import-flow-info-tags-${t}`,"data-testid":"import-flow-info-tags"})}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */w("div",{"data-testid":"import-flow-info-requirements-preview",children:["Requirements: ",c]}),isChecked:i.requirements,onCheckedChange:f,id:`import-flow-info-requirements-${t}`,"data-testid":"import-flow-info-requirements"})}),
/* @__PURE__ */C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:"Is Async",isChecked:i.isAsync,onCheckedChange:m,id:`import-flow-info-is-async-${t}`,"data-testid":"import-flow-info-is-async"})})]})]})})},sy=e=>{const{state:t}=e,{modelNodes:a,onModelsChange:o,onAllNoneModelsChange:i}=(e=>{const{flowId:t,state:a,onStateChange:o}=e,{selectedProps:i,loadedFlowData:l}=a,c=n(()=>l?.nodes.filter(e=>"model"===e.type)||[],[l?.nodes]),d=r(e=>{o({selectedProps:{...i,...e}})},[i,o]),u=r(()=>{const e=document.getElementById(`import-flow-modal-models-all-none-${t}`);if(e)if(i.nodes.models.length>0){const t=i.nodes.models.length===c.length;e.indeterminate=!t,e.checked=t}else e.indeterminate=!1,e.checked=!1},[t,i.nodes.models.length,c.length]);s(()=>{u()},[u]);const p=r(e=>{const t=i.nodes.models.some(t=>t.id===e.id);d({nodes:{models:t?i.nodes.models.filter(t=>t.id!==e.id):[...i.nodes.models,e],tools:i.nodes.tools,agents:i.nodes.agents}})},[i.nodes,d]),g=r(e=>{d({nodes:{models:e?c:[],tools:i.nodes.tools,agents:i.nodes.agents}})},[c,i.nodes.tools,i.nodes.agents,d]);return{modelNodes:c,onModelsChange:p,onAllNoneModelsChange:g}})(e),{selectedProps:l}=t;/* @__PURE__ */
return w("div",{className:"flow-data-preview-body-section",children:[
/* @__PURE__ */C("h4",{children:"Models"}),a&&a?.length>1&&/* @__PURE__ */C(Jd,{id:`import-flow-modal-models-all-none-${e.flowId}`,label:"Select All | None",isChecked:l.nodes.models.length===a.length,onCheckedChange:i,"data-testid":`import-flow-modal-model-all-none-${e.flowId}`}),a?.map(e=>{const t=e;/* @__PURE__ */
return C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */w("div",{children:[t.data.label,": ",t.data.description]}),id:`import-flow-modal-model-checkbox-${e.id}`,isChecked:l.nodes.models.some(t=>t.id===e.id),onCheckedChange:o.bind(null,e),"data-testid":`import-flow-modal-model-checkbox-${e.id}`})},e.id)}),0===a?.length&&/* @__PURE__ */C("div",{children:"No models in this flow"})]})},ly=e=>{const{flowId:t,state:a}=e,{selectedProps:o}=a,{toolNodes:i,onToolsChange:l,onAllNoneToolsChange:c}=(e=>{const{flowId:t,state:a,onStateChange:o}=e,{selectedProps:i,loadedFlowData:l}=a,c=n(()=>l?.nodes.filter(e=>"tool"===e.type)||[],[l?.nodes]),d=r(e=>{o({selectedProps:{...i,...e}})},[i,o]),u=r(()=>{const e=document.getElementById(`import-flow-modal-tools-all-none-${t}`);if(e)if(i.nodes.tools.length>0){const t=i.nodes.tools.length===c.length;e.indeterminate=!t,e.checked=t}else e.indeterminate=!1,e.checked=!1},[t,i.nodes.tools.length,c.length]);s(()=>{u()},[u]);const p=r(e=>{const t=i.nodes.tools.some(t=>t.id===e.id);d({nodes:{models:i.nodes.models,tools:t?i.nodes.tools.filter(t=>t.id!==e.id):[...i.nodes.tools,e],agents:i.nodes.agents}})},[i.nodes,d]),g=r(e=>{d({nodes:{models:i.nodes.models,tools:e?c:[],agents:i.nodes.agents}})},[c,i.nodes.models,i.nodes.agents,d]);return{toolNodes:c,onToolsChange:p,onAllNoneToolsChange:g}})(e);/* @__PURE__ */
return w("div",{className:"flow-data-preview-body-section",children:[
/* @__PURE__ */C("h4",{children:"Tools"}),i&&i?.length>1&&/* @__PURE__ */C(Jd,{id:`import-flow-modal-tools-all-none-${t}`,label:"Select All | None",isChecked:o.nodes.tools.length===i.length,onCheckedChange:c,"data-testid":`import-flow-modal-tool-all-none-${t}`}),i?.map(e=>{const t=e;/* @__PURE__ */
return C("div",{className:"flow-data-preview-body-section-row",children:/* @__PURE__ */C(Jd,{label:/* @__PURE__ */w("div",{children:[t.data.label,": ",t.data.description]}),id:`import-flow-modal-tool-checkbox-${e.id}`,isChecked:o.nodes.tools.some(t=>t.id===e.id),onCheckedChange:l.bind(null,e),"data-testid":`import-flow-modal-tool-checkbox-${e.id}`})},e.id)}),0===i?.length&&/* @__PURE__ */C("div",{children:"No tools in this flow"})]})},cy=e=>{const{flowId:t,state:n,onStateChange:a}=e;/* @__PURE__ */
return w("div",{className:"flow-data-preview","data-testid":`import-flow-modal-preview-step-${t}-view`,children:[
/* @__PURE__ */C(iy,{flowId:t,state:n,onStateChange:a}),!n.selectedProps.everything&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("div",{className:"flow-data-preview-header",children:/* @__PURE__ */C("h3",{children:"Flow Nodes"})}),
/* @__PURE__ */w("div",{className:"flow-data-preview-body",children:[
/* @__PURE__ */C(sy,{flowId:t,state:n,onStateChange:a}),
/* @__PURE__ */C(ly,{flowId:t,state:n,onStateChange:a}),
/* @__PURE__ */C(ry,{flowId:t,state:n,onStateChange:a})]})]})]})},dy=e=>{const{flowId:t,isOpen:a}=e,{state:o,initialState:s,onStateChange:l,onClose:c,onBack:d,onForward:u}=(e=>{const{onClose:t,typeShown:a,onTypeShownChange:o}=e,[s,l]=i(ny),c=al(e=>e.importFlow),d=al(e=>e.onFlowChanged),u=r(()=>{const{loadedFlowData:e,selectedProps:t}=s;e&&(c(t,e,a),o("agent"),d())},[s,c,a,o,d]),p=r(e=>{0===e&&t()},[t]),g=r(e=>{1===e&&(u(),t())},[u,t]),m=r(()=>{l(ny),t()},[t]),h=r(e=>{l(t=>({...t,...e}))},[]);return n(()=>({state:s,initialState:ny,onStateChange:h,onClose:m,onBack:p,onForward:g}),[s,h,m,p,g])})(e);/* @__PURE__ */
return C(hf,{flowId:t,isOpen:a,onClose:c,title:"Import Flow",dataTestId:`import-flow-modal-${t}`,children:/* @__PURE__ */C("div",{className:"modal-body",children:/* @__PURE__ */w($b,{activeStep:0,canGoForward:!!o.loadedFlowData,firstBackTitle:"Cancel",lastNextTitle:"Import",onBack:d,onForward:u,children:[
/* @__PURE__ */C(qb,{id:`import-flow-modal-load-step-${t}`,title:"Load Flow",children:/* @__PURE__ */C(oy,{initialState:s,flowId:t,state:o,onStateChange:l})}),
/* @__PURE__ */C(qb,{id:`import-flow-modal-preview-step-${t}`,title:"Preview Flow",children:o.loadedFlowData?/* @__PURE__ */C(cy,{flowId:t,state:o,onStateChange:l}):null})]})})})},uy=({flowId:e,stepByStep:t,isDarkMode:a,className:o})=>{const s=`rf-${e}-step-run-modal`,l=al(e=>e.resetActiveParticipants),c=al(e=>e.resetActiveEventType),[d,u]=i(!1),p=r(()=>{u(!0)},[]),g=r(()=>{u(!1)},[]),m=r(()=>{t?.handlers?.close&&t.handlers?.close(),c(),l()},[t?.handlers,c,l]),h=n(()=>{const e=t?.eventHistory??[],n=Math.max(0,e.length-500);return e.slice(n).filter(e=>e&&!["debug","print","raw","timeline"].includes(String(e?.type))).map(e=>{const t=e,n=t.event??t.data??t.message??t;return Array.isArray(n)&&1===n.length?n[0]:n}).reverse()},[t?.eventHistory]),f=!t?.active&&!!t?.handlers?.close&&(t?.eventHistory?.length??0)>0,b=n(()=>{if(!t)return null;const e=t.currentEvent?.type;if("string"==typeof e&&!["debug","print","raw"].includes(e))return e;const n=h[h.length-1],a=n?.event?.type??n?.type;return"string"!=typeof a||["debug","print","raw"].includes(a)?!t.active&&f?t.eventHistory?.length>0?"Finished":null:"Running":a},[t,h,f]);if(!t?.active&&!f)return null;const y=/* @__PURE__ */C("div",{className:"header",children:t.timeline?/* @__PURE__ */C("div",{role:"button",className:"clickable",onClick:p,title:"View Timeline","data-testid":`rf-${e}-chat-modal-timeline`,children:/* @__PURE__ */C($e,{size:18,className:"timeline-button"})}):/* @__PURE__ */C(Oe,{className:"icon-bug",color:"#ea580c",size:18})});return t.timeline&&d?/* @__PURE__ */C(Zb,{flowId:e,isOpen:d,onClose:g,data:t.timeline}):/* @__PURE__ */w(hf,{flowId:e,id:s,title:"Step-by-step Run",isOpen:!0,onClose:m,onCancel:m,beforeTitle:y,className:"step-run-modal",hasMaximizeBtn:!0,hasCloseBtn:!0,dataTestId:s,hasUnsavedChanges:!1,preventCloseIfUnsavedChanges:!1,children:[
/* @__PURE__ */C("div",{className:"modal-body min-h-[320px]",children:/* @__PURE__ */C(wb,{flowId:e,isDarkMode:a,stepByStep:t,events:h,className:o})}),
/* @__PURE__ */C("div",{className:"modal-sticky-bottom text-sm text-center",children:b})]})},py={post_carryover_processing:"After processing carryover messages",group_chat_run_chat:"When group chat starts running",using_auto_reply:"When auto-reply mechanism is triggered",tool_call:"Before executing a tool/function call",execute_function:"When starting function execution",executed_function:"After function execution completes",input_request:"When requesting user input",tool_response:"When tool returns a response",termination:"When chat termination occurs",run_completion:"When run completes successfully",generate_code_execution_reply:"When generating code execution response",group_chat_resume:"When resuming a group chat",error:"When an error occurs",termination_and_human_reply_no_input:"Termination with no user input required"},gy=e=>{const{darkMode:t,agents:a,breakpoints:o,setBreakpoints:l}=e,{activeTab:c,setActiveTab:d,onActiveTabChange:u,eventOptions:p,selectedEventTypes:g,agentOptions:m,selectedAgents:h,selectedAgentEventAgent:f,selectedAgentEventType:b,setSelectedAgentEventType:y,setSelectedAgentEventAgent:v,setPresetBreakpoints:A,removeBreakpoint:I,onSelectedAgentsChange:N,onSelectedEventTypesChange:k,addAgentEventBreakpoint:S}=(e=>{const{agents:t,breakpoints:a,setBreakpoints:o}=e,[l,c]=i("preset"),[d,u]=i([]),[p,g]=i(void 0),[m,h]=i(void 0),[f,b]=i([]),[y,v]=i("init"),C=n(()=>t.map(e=>({label:e.data.label,value:e.id})),[t]),w=n(()=>t.reduce((e,t)=>(e[t.id]=t.data.label,e),{}),[t]),x=n(()=>Object.entries(py).filter(([e])=>"input_request"!==e).map(([e,t])=>({label:e,value:e})),[]),A=r((e,t,n)=>{switch(e){case"agent":return`Break on any event from/to agent: ${w[t||""]||t}`;case"event":return`Break on event: ${n} (${py[n]})`;case"agent_event":return`Break when agent "${w[t||""]||t}" triggers event: ${n}`;case"all":return"Break on all events (default)";default:return""}},[w]),I=r(e=>{c(0===e?"preset":1===e?"custom":"current")},[]),N=r(e=>{switch(v("preset"),b([]),u([]),h(void 0),g(void 0),e){case"all":o([{type:"all",description:"Break on all events (default)"}]);break;case"tools":o([{type:"event",event_type:"tool_call",description:"Break on event: tool_call (Before executing a tool/function call)"},{type:"event",event_type:"execute_function",description:"Break on event: execute_function (When starting function execution)"},{type:"event",event_type:"executed_function",description:"Break on event: executed_function (After function execution completes)"},{type:"event",event_type:"tool_response",description:"Break on event: tool_response (When tool returns a response)"}]);break;case"errors":o([{type:"event",event_type:"error",description:"Break on event: error (When an error occurs)"}])}},[o]),k=r((e,t,n)=>{v("custom"),o(a=>{const o=a.filter(e=>"all"!==e.type);if(o.some(a=>a.type===e&&a.agent===t&&a.event_type===n))return a;const r={type:e,...t&&{agent:t},...n&&{event_type:n},description:A(e,t,n)};return[...o,r]}),"agent_event"===e&&(h(void 0),g(void 0))},[A,o]),S=r(e=>{v("custom"),o(t=>{const n=t.filter((t,n)=>n!==e);return 0===n.length?[{type:"all",description:"Break on all events (default)"}]:n})},[o]);s(()=>{if("custom"!==y)return;const e=a.filter(e=>"event"===e.type&&e.event_type),t=new Set(e.map(e=>e.event_type)),n=new Set(d.map(e=>e.value)),r=d.some(e=>!t.has(e.value)),i=e.some(e=>e.event_type&&!n.has(e.event_type));(r||i)&&o(e=>{let t=e.filter(e=>"event"!==e.type||e.event_type&&n.has(e.event_type));return d.length>0&&(t=t.filter(e=>"all"!==e.type)),d.forEach(e=>{t.some(t=>"event"===t.type&&t.event_type===e.value)||t.push({type:"event",event_type:e.value,description:A("event",void 0,e.value)})}),0===t.length?[{type:"all",description:"Break on all events (default)"}]:t})},[d,y,A,a,o]),s(()=>{if("custom"!==y)return;const e=a.filter(e=>"agent"===e.type),t=new Set(e.map(e=>e.agent)),n=new Set(f.map(e=>e.value)),r=f.some(e=>!t.has(e.value)),i=e.some(e=>e.agent&&!n.has(e.agent));(r||i)&&o(e=>{let t=e.filter(e=>"agent"!==e.type||e.agent&&n.has(e.agent));return f.length>0&&(t=t.filter(e=>"all"!==e.type)),f.forEach(e=>{t.some(t=>"agent"===t.type&&t.agent===e.value)||t.push({type:"agent",agent:e.value,description:A("agent",e.value)})}),0===t.length?[{type:"all",description:"Break on all events (default)"}]:t})},[f,y,A,a,o]);const T=r(e=>{v("custom"),e&&0!==e.length?b(e.map(e=>({label:e.label,value:e.value}))):b([])},[]),E=r(e=>{v("custom"),e&&0!==e.length?u(e.map(e=>({label:e.label,value:e.value}))):u([])},[]),M=r(()=>{m&&p&&k("agent_event",m.value,p.value)},[k,m,p]);return{activeTab:l,setActiveTab:c,onActiveTabChange:I,generateDescription:A,setBreakpoints:o,setPresetBreakpoints:N,breakpoints:a,agentOptions:C,eventDescriptions:py,agents:t,eventOptions:x,selectedAgentEventAgent:m,selectedAgentEventType:p,selectedEventTypes:d,selectedAgents:f,setSelectedAgentEventAgent:h,setSelectedAgentEventType:g,setSelectedEventTypes:u,setSelectedAgents:b,addBreakpoint:k,removeBreakpoint:S,addAgentEventBreakpoint:M,onSelectedAgentsChange:T,onSelectedEventTypesChange:E}})({agents:a,breakpoints:o,setBreakpoints:l});return s(()=>{l([{type:"all",description:"Break on all events (default)"}]),d("preset")},[]),/* @__PURE__ */w(x,{children:[
/* @__PURE__ */w(Ib,{activeTabIndex:["preset","custom","current"].indexOf(c),onTabChange:u,children:[
/* @__PURE__ */C(Ab,{id:"step-run-breakpoints-preset",label:"Quick Presets",children:/* @__PURE__ */C("div",{className:"space-y-4",children:/* @__PURE__ */w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[
/* @__PURE__ */w("button",{onClick:()=>A("all"),className:`p-4 flex items-center border-2 ${t?"border-gray-600 hover:border-blue-400 hover:bg-gray-800":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"} rounded-lg transition-all text-left group`,children:[
/* @__PURE__ */w("div",{className:"flex items-center space-x-2 mr-4 mt-2 mb-2",children:[
/* @__PURE__ */C(ub,{className:"h-4 w-4 "+(t?"text-gray-400 group-hover:text-blue-400":"text-gray-500 group-hover:text-blue-500")}),
/* @__PURE__ */C("span",{className:"font-medium "+(t?"text-white":"text-gray-900"),children:"All Events"})]}),
/* @__PURE__ */C("p",{className:"text-sm "+(t?"text-gray-300":"text-gray-600"),children:"Break on every event (default behavior)"})]}),
/* @__PURE__ */w("button",{onClick:()=>A("tools"),className:`p-4 flex items-center border-2 ${t?"border-gray-600 hover:border-green-400 hover:bg-gray-800":"border-gray-200 hover:border-green-300 hover:bg-green-50"} rounded-lg transition-all text-left group`,children:[
/* @__PURE__ */w("div",{className:"flex items-center space-x-2 mr-4 mt-2 mb-2",children:[
/* @__PURE__ */C(pb,{className:"h-4 w-4 "+(t?"text-gray-400 group-hover:text-green-400":"text-gray-500 group-hover:text-green-500")}),
/* @__PURE__ */C("span",{className:"font-medium "+(t?"text-white":"text-gray-900"),children:"Tool Execution"})]}),
/* @__PURE__ */C("p",{className:"text-sm "+(t?"text-gray-300":"text-gray-600"),children:"All tool and function call events"})]}),
/* @__PURE__ */w("button",{onClick:()=>A("errors"),className:`p-4 border-2 flex items-center ${t?"border-gray-600 hover:border-red-400 hover:bg-gray-800":"border-gray-200 hover:border-red-300 hover:bg-red-50"} rounded-lg transition-all text-left group`,children:[
/* @__PURE__ */w("div",{className:"flex items-center space-x-2 mr-4 mt-2 mb-2",children:[
/* @__PURE__ */C(fb,{className:"h-4 w-4 "+(t?"text-gray-400 group-hover:text-red-400":"text-gray-500 group-hover:text-red-500")}),
/* @__PURE__ */C("span",{className:"font-medium "+(t?"text-white":"text-gray-900"),children:"Errors Only"})]}),
/* @__PURE__ */C("p",{className:"text-sm "+(t?"text-gray-300":"text-gray-600"),children:"Break only when errors occur"})]})]})})}),
/* @__PURE__ */C(Ab,{id:"step-run-breakpoints-custom",label:"Custom Breakpoints",children:/* @__PURE__ */w("div",{className:"space-y-6",children:[
/* @__PURE__ */w("div",{className:(t?"bg-[#222] border-[#444]":"bg-gray-50")+" p-4 border rounded-lg",children:[
/* @__PURE__ */C("h4",{className:`font-medium ${t?"text-white":"text-gray-900"} mb-3`,children:"Break on Event Types"}),
/* @__PURE__ */C("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"} mb-3`,children:"Stop execution for specific event types from any agent"}),
/* @__PURE__ */C(Ym,{className:"w-full rounded-md focus:ring-2",options:p,value:g,isMulti:!0,isClearable:!0,placeholder:"Select event type(s) ...",onChange:k})]}),
/* @__PURE__ */w("div",{className:(t?"bg-[#222] border-[#444]":"bg-gray-50")+" p-4 border rounded-lg",children:[
/* @__PURE__ */C("h4",{className:`font-medium ${t?"text-white":"text-gray-900"} mb-3`,children:"Break on Agents"}),
/* @__PURE__ */C("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"} mb-3`,children:"Stop execution for any event from specific agents"}),
/* @__PURE__ */C(Ym,{className:"w-full rounded-md focus:ring-2",options:m,value:h,isMulti:!0,isClearable:!0,placeholder:"Select agent(s) ...",onChange:N})]}),
/* @__PURE__ */w("div",{className:(t?"bg-[#222] border-[#444]":"bg-gray-50")+" p-4 border rounded-lg",children:[
/* @__PURE__ */C("h4",{className:`font-medium ${t?"text-white":"text-gray-900"} mb-3`,children:"Break on Agent + Event"}),
/* @__PURE__ */C("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"} mb-3`,children:"Stop execution for a specific event from a specific agent"}),
/* @__PURE__ */w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[
/* @__PURE__ */C(Ym,{id:"agent-event-agent",className:"w-full rounded-md focus:ring-2",options:m,value:f,placeholder:"Select event agent ...",onChange:e=>{v(e?{label:e.label,value:e.value}:void 0)}}),
/* @__PURE__ */C(Ym,{id:"agent-event-event",className:"w-full rounded-md focus:ring-2",options:p,value:b,placeholder:"Select event type ...",onChange:e=>{e&&y(e)}})]}),
/* @__PURE__ */w("button",{onClick:S,className:"mt-3 flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:[
/* @__PURE__ */C(gb,{className:"h-4 w-4"}),
/* @__PURE__ */C("span",{children:"Add Breakpoint"})]})]})]})})]}),
/* @__PURE__ */C("h3",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"} mt-4 mb-4`,children:"Active Breakpoints"}),0===o.length?/* @__PURE__ */C("p",{className:(t?"text-gray-400":"text-gray-500")+" text-sm",children:"No breakpoints configured"}):/* @__PURE__ */C("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:o.map((e,n)=>/* @__PURE__ */C("div",{className:(t?"bg-[#222] border-[#444]":"bg-[#f8f8f8] border-[#ccc]")+" p-3 rounded-lg border shadow-sm",children:/* @__PURE__ */w("div",{className:"flex items-start justify-between",children:[
/* @__PURE__ */w("div",{className:"flex-1",children:[
/* @__PURE__ */C("div",{className:"flex items-center space-x-2 mb-1",children:/* @__PURE__ */C("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("all"===e.type?t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-700":"agent"===e.type?t?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-700":"event"===e.type?t?"bg-green-900 text-green-200":"bg-green-100 text-green-700":t?"bg-purple-900 text-purple-200":"bg-purple-100 text-purple-700"),children:e.type.replace("_"," ")})}),
/* @__PURE__ */C("p",{className:"text-sm "+(t?"text-gray-300":"text-gray-600"),children:e.description})]}),"all"!==e.type&&/* @__PURE__ */C("button",{onClick:()=>I(n),className:`p-1 hover:${t?"bg-red-900":"bg-red-50"} rounded-md transition-colors ml-2`,children:/* @__PURE__ */C(mb,{className:"h-3 w-3 "+(t?"text-red-400":"text-red-500")})})]})},n))})]})},my=e=>{const{isDark:t,currentHistory:n}=e,a=Object.keys(n.state.context_variables).length>0,o=e=>"boolean"==typeof e?e?"âœ“":"âœ—":"string"==typeof e&&["true","false"].includes(e.toLowerCase())?"t"===e[0]?"âœ“":"âœ—":"object"==typeof e?JSON.stringify(e):"string"==typeof e&&e.length>300?e.substring(0,300)+"...":String(e),i=r(e=>e.content&&"None"!==e.content&&"string"==typeof e.content?e.content:e.tool_calls?`[Tool Call: ${e.tool_calls[0]?.function?.name||"unknown"}]`:"[No content]",[]);/* @__PURE__ */
return w("div",{className:(t?"border-gray-700":"border-gray-200")+" mt-2 border rounded-lg overflow-hidden flex flex-col",children:[
/* @__PURE__ */C("div",{className:(t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200")+" p-3 border-b",children:/* @__PURE__ */C("div",{className:"flex items-center justify-between",children:/* @__PURE__ */C("h4",{className:"font-medium text-sm "+(t?"text-white":"text-gray-900"),children:"Messages"})})}),
/* @__PURE__ */C("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:n.state.messages.map((e,n)=>/* @__PURE__ */C("div",{className:`w-full p-2 text-left border rounded ${t?"border-indigo-400 bg-indigo-900/30":"border-indigo-300 bg-indigo-50"} transition-colors`,children:/* @__PURE__ */C("div",{className:"flex items-start space-x-2",children:/* @__PURE__ */w("div",{className:"flex-1 min-w-0",children:[
/* @__PURE__ */C("div",{className:"flex items-center space-x-2 mb-1",children:/* @__PURE__ */C("span",{className:"px-2 py-0.5 text-xs font-medium rounded "+("user"===e.role?t?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-700":"assistant"===e.role?t?"bg-green-900 text-green-200":"bg-green-100 text-green-700":t?"bg-purple-900 text-purple-200":"bg-purple-100 text-purple-700"),children:e.role})}),
/* @__PURE__ */C("p",{className:`text-xs ${t?"text-gray-300":"text-gray-600"} line-clamp-2 hover:line-clamp-none`,children:i(e)})]})})},n))}),a&&/* @__PURE__ */w("div",{className:(t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200")+" p-3 border-b",children:[
/* @__PURE__ */C("div",{className:"flex items-center justify-between",children:/* @__PURE__ */C("h4",{className:"font-medium text-sm "+(t?"text-white":"text-gray-900"),children:"Context Variables"})}),
/* @__PURE__ */C("div",{className:"text-xs p-2 rounded space-y-1 "+(t?"border-indigo-400 bg-indigo-900/30":"border-indigo-300 bg-indigo-50"),children:Object.entries(n.state.context_variables).map(([e,n],a)=>/* @__PURE__ */w("div",{className:"flex items-start gap-2",children:[
/* @__PURE__ */w("span",{className:"font-mono "+(t?"text-blue-400":"text-blue-600"),children:[e,":"]}),
/* @__PURE__ */C("span",{className:"flex-1 "+(t?"text-gray-300":"text-gray-700"),children:o(n)})]},`${e}-${a}`))})]})]})},hy=e=>{const{isDark:t,checkpoint:n,selectedHistoryIndex:a,setSelectedHistoryIndex:o,onBack:r}=e,[s,l]=i(null);/* @__PURE__ */
return w("div",{children:[
/* @__PURE__ */w("div",{className:"flex w-full space-between",children:[
/* @__PURE__ */w("button",{className:"p-2 flex flex-row items-center bg-transparent no-border",onClick:r,children:[
/* @__PURE__ */C(Me,{})," ",
/* @__PURE__ */C("span",{children:"Back"})]}),
/* @__PURE__ */C("div",{className:"flex-1"}),
/* @__PURE__ */w("div",{className:"p-2 text-sm "+(t?"text-gray-400":"text-gray-500"),children:["Selected entry: #",a+1]})]}),
/* @__PURE__ */C("div",{className:"rounded-lg p-3 mb-2 shadow-sm hover:shadow-md transition-shadow",children:/* @__PURE__ */C("div",{className:"rounded-lg overflow-hidden flex flex-col",children:/* @__PURE__ */C("div",{className:"flex-1 overflow-y-auto",children:n.history.map((e,n)=>/* @__PURE__ */w("div",{className:`w-full p-3 text-left border-b ${t?"border-gray-700":"border-gray-100"} ${s!==n?t?"hover:bg-gray-800":"hover:bg-gray-50":""} transition-colors`,children:[
/* @__PURE__ */w("div",{className:"flex items-center justify-between",onClick:()=>(e=>{o(e),l(s===e?null:e)})(n),children:[
/* @__PURE__ */w("div",{className:"flex-1",children:[
/* @__PURE__ */w("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"} mb-1`,children:["Entry #",n+1]}),
/* @__PURE__ */w("div",{className:"text-xs "+(t?"text-gray-300":"text-gray-600"),children:[
/* @__PURE__ */C(lb,{className:"inline h-3 w-3 mr-1"}),kn(e.timestamp)]}),
/* @__PURE__ */w("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"} mt-1`,children:[e.state.messages.length," message",1!==e.state.messages.length&&"s"]})]}),
/* @__PURE__ */C("div",{children:/* @__PURE__ */C(s===n?ib:sb,{className:"w-4 h-4 "+(t?"text-gray-500":"text-gray-400")})})]}),s===n&&/* @__PURE__ */C(my,{isDark:t,currentHistory:e})]},n))})})})]})},fy=e=>{const{getCheckpoints:t,selectedCheckpoint:n,setSelectedCheckpoint:a,selectedHistoryIndex:o,setSelectedHistoryIndex:r,darkMode:l}=e,[c,d]=i(!1),[u,p]=i([]),[g,m]=i(null),[h,f]=i(!1),[b,y]=i(null),v=async()=>{if(t&&!c){f(!0),y(null);try{const e=await t();if(!e||0===Object.keys(e).length)return void p([]);const n=Object.entries(e).map(([e,t])=>({id:e,history:[...t]}));p(n)}catch(e){y(e.message||"Failed to load checkpoints"),p([])}finally{f(!1),d(!0)}}},x=e=>{const t=1!==e.history.length?"entries":"entry";return`${e.history.length} ${t}`};return s(()=>{v()},[]),/* @__PURE__ */C("div",{children:h?/* @__PURE__ */w("div",{className:"text-center py-8",children:[
/* @__PURE__ */C("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${l?"border-blue-400":"border-blue-600"} mx-auto mb-3`}),
/* @__PURE__ */C("p",{className:l?"text-gray-400":"text-gray-600",children:"Loading checkpoints..."})]}):b?/* @__PURE__ */w("div",{className:(l?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200")+" border rounded-lg p-4",children:[
/* @__PURE__ */C("p",{className:"text-sm "+(l?"text-red-400":"text-red-600"),children:b}),
/* @__PURE__ */C("button",{onClick:async()=>{d(!1),y(null),await v()},className:"mt-2 text-sm underline hover:no-underline",children:"Retry"})]}):0===u.length?/* @__PURE__ */w("div",{className:"text-center py-8 "+(l?"text-gray-400":"text-gray-500"),children:[
/* @__PURE__ */C(cb,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),
/* @__PURE__ */C("p",{children:"No checkpoints available"})]}):/* @__PURE__ */C("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(0,1fr))] gap-4 mb-4 space-y-1 overflow-y-auto",children:g?/* @__PURE__ */C(hy,{checkpoint:g,isDark:l,selectedHistoryIndex:o,setSelectedHistoryIndex:r,onBack:()=>m(null)}):/* @__PURE__ */w("div",{children:[u.map(e=>/* @__PURE__ */C("div",{role:"button",onClick:()=>(e=>{a(e),r(e.history.length-1)})(e),className:`w-full p-3 text-left border-b ${l?"border-gray-700 hover:bg-gray-800":"border-gray-100 hover:bg-gray-50"} transition-colors ${n?.id===e.id?l?"rounded-sm bg-blue-900/30 border-l-4 border-l-blue-400":"rounded-sm bg-blue-50 border-l-4 border-l-blue-500":""}`,children:/* @__PURE__ */w("div",{className:"flex flex-row justify-between items-center",children:[
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C("div",{className:`font-medium text-sm ${l?"text-white":"text-gray-900"} truncate mb-1`,children:e.id}),
/* @__PURE__ */w("div",{className:"text-xs "+(l?"text-gray-400":"text-gray-500"),children:[kn(e.id)," (",x(e),")"]})]}),
/* @__PURE__ */C("div",{children:/* @__PURE__ */C("div",{className:"p-2 cursor-pointer "+(l?"text-gray-400":"text-gray-500"),role:"button",onClick:()=>{a(e),m(e),r(e.history.length-1)},children:/* @__PURE__ */C(sb,{className:"h-10 w-4"})})})]})},e.id)),
/* @__PURE__ */C("div",{className:(l?"border-[#444]":"border-[#ccc]")+" mt-2 p-2 rounded-lg border shadow-sm",children:/* @__PURE__ */w("div",{className:"flex items-center justify-between min-h-8 text-sm "+(l?"text-gray-400":"text-gray-500"),children:[n?`Selected checkpoint: ${n.id} (entry #${o+1})`:"No checkpoint selected",
/* @__PURE__ */C("button",{"data-testid":"clear-checkpoints",onClick:()=>{a(null),m(null)},className:n?`p-2 hover:${l?"bg-red-900":"bg-red-50"} rounded-md transition-colors ml-2`:"hidden",children:/* @__PURE__ */C(mb,{className:"h-3 w-3 "+(l?"text-red-400":"text-red-500")})})]})})]})})})},by=g(e=>{const{flowId:t,onStart:n,onClose:a}=e,o=al(e=>e.getAgents)(),r=o.find(e=>"group_manager"===e.data.agentType),[s,l]=i([{type:"all",description:"Break on all events (default)"}]),[c,d]=i(-1),[u,p]=i(null);/* @__PURE__ */
return w(hf,{isOpen:!0,onClose:a,onCancel:a,flowId:t,title:"Step run",children:[
/* @__PURE__ */C("div",{className:"modal-body",children:r?/* @__PURE__ */w(Ib,{activeTabIndex:0,children:[
/* @__PURE__ */C(Ab,{id:"step-run-breakpoints",label:"Breakpoints",children:/* @__PURE__ */C(gy,{...e,agents:o,breakpoints:s,setBreakpoints:l})}),
/* @__PURE__ */C(Ab,{id:"step-run-checkpoints",label:"Checkpoints",children:/* @__PURE__ */C(fy,{...e,selectedCheckpoint:u,setSelectedCheckpoint:p,selectedHistoryIndex:c,setSelectedHistoryIndex:d})})]}):/* @__PURE__ */C(gy,{...e,agents:o,breakpoints:s,setBreakpoints:l})}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{type:"reset",className:"modal-action-cancel",onClick:a,children:"Cancel"}),
/* @__PURE__ */C("div",{className:"flex-1"}),
/* @__PURE__ */C("button",{type:"button",className:"primary",onClick:()=>{const e=s.map(e=>(e=>{let t="";return"event"===e.type&&e.event_type?t+=`${e.type}:${e.event_type}`:"agent"===e.type&&e.agent?t+=`${e.type}:${e.agent}`:e.type,t})(e)).filter(e=>""!==e.trim());u?c>0&&c<u.history.length&&c!==u.history.length-1?n(e,`${u.id}:${c}`):n(e,u.id):n(e)},children:"Start"})]})]})});function yy(e){return Pb({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.157 22.201A1.784 1.799 0 0 1 5.374 24a1.784 1.799 0 0 1-1.784-1.799 1.784 1.799 0 0 1 1.784-1.799 1.784 1.799 0 0 1 1.783 1.799zM20.582 1.427a1.415 1.427 0 0 1-1.415 1.428 1.415 1.427 0 0 1-1.416-1.428A1.415 1.427 0 0 1 19.167 0a1.415 1.427 0 0 1 1.415 1.427zM4.992 3.336A1.047 1.056 0 0 1 3.946 4.39a1.047 1.056 0 0 1-1.047-1.055A1.047 1.056 0 0 1 3.946 2.28a1.047 1.056 0 0 1 1.046 1.056zm7.336 1.517c3.769 0 7.06 1.38 8.768 3.424a9.363 9.363 0 0 0-3.393-4.547 9.238 9.238 0 0 0-5.377-1.728A9.238 9.238 0 0 0 6.95 3.73a9.363 9.363 0 0 0-3.394 4.547c1.713-2.04 5.004-3.424 8.772-3.424zm.001 13.295c-3.768 0-7.06-1.381-8.768-3.425a9.363 9.363 0 0 0 3.394 4.547A9.238 9.238 0 0 0 12.33 21a9.238 9.238 0 0 0 5.377-1.729 9.363 9.363 0 0 0 3.393-4.547c-1.712 2.044-5.003 3.425-8.772 3.425Z"},child:[]}]})(e)}function vy(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.94 13.5l-1.32 1.32a3.73 3.73 0 0 0-7.24 0L1.06 13.5 0 14.56l1.72 1.72-.22.22V18H0v1.5h1.5v.08c.077.489.214.966.41 1.42L0 22.94 1.06 24l1.65-1.65A4.308 4.308 0 0 0 6 24a4.31 4.31 0 0 0 3.29-1.65L10.94 24 12 22.94 10.09 21c.198-.464.336-.951.41-1.45v-.1H12V18h-1.5v-1.5l-.22-.22L12 14.56l-1.06-1.06zM6 13.5a2.25 2.25 0 0 1 2.25 2.25h-4.5A2.25 2.25 0 0 1 6 13.5zm3 6a3.33 3.33 0 0 1-3 3 3.33 3.33 0 0 1-3-3v-2.25h6v2.25zm14.76-9.9v1.26L13.5 17.37V15.6l8.5-5.37L9 2v9.46a5.07 5.07 0 0 0-1.5-.72V.63L8.64 0l15.12 9.6z"},child:[]}]})(e)}function Cy(e){return Pb({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 9.5C6.93191 9.5 7.71496 10.1374 7.93699 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7455 13.8231 11.9496 13.5899 11.9919L13.5 12L7.93673 12.001C7.71435 12.8631 6.93155 13.5 6 13.5C5.06845 13.5 4.28565 12.8631 4.06327 12.001L2.5 12C2.22386 12 2 11.7761 2 11.5C2 11.2545 2.17688 11.0504 2.41012 11.0081L2.5 11H4.06301C4.28504 10.1374 5.06809 9.5 6 9.5ZM6 10.5C5.44772 10.5 5 10.9477 5 11.5C5 12.0523 5.44772 12.5 6 12.5C6.55228 12.5 7 12.0523 7 11.5C7 10.9477 6.55228 10.5 6 10.5ZM10 2.5C10.9319 2.5 11.715 3.13738 11.937 3.99998L13.5 4C13.7761 4 14 4.22386 14 4.5C14 4.74546 13.8231 4.94961 13.5899 4.99194L13.5 5L11.9367 5.00102C11.7144 5.86312 10.9316 6.5 10 6.5C9.06845 6.5 8.28565 5.86312 8.06327 5.00102L2.5 5C2.22386 5 2 4.77614 2 4.5C2 4.25454 2.17688 4.05039 2.41012 4.00806L2.5 4L8.06301 3.99998C8.28504 3.13738 9.06809 2.5 10 2.5ZM10 3.5C9.44772 3.5 9 3.94772 9 4.5C9 5.05228 9.44772 5.5 10 5.5C10.5523 5.5 11 5.05228 11 4.5C11 3.94772 10.5523 3.5 10 3.5Z"},child:[]}]})(e)}by.displayName="PreStepRunModal";const wy=e=>{const{flowId:t,skipExport:n,skipImport:a,selectedNodeType:o,onAddNode:i,onRun:s,onStepRun:l,onConvertToPy:c,onConvertToIpynb:d,onOpenImportModal:u,onExport:p}=e,g=al(e=>e.isReadOnly),m=al(e=>e.onRun),h=al(e=>e.onStepRun),f=al(e=>e.onConvert),b="boolean"==typeof g&&g,y=!b&&("boolean"!=typeof a||!a),v=!b&&("boolean"!=typeof n||!n),A=!b&&"function"==typeof m,I=!b&&"function"==typeof f,N=!b&&"function"==typeof h,{isDark:k,toggleTheme:T}=Zo(),E=r(()=>{s()},[s]),M=r(()=>{l()},[l]),R=r(()=>{c()},[c]),D=r(()=>{d()},[d]);/* @__PURE__ */
return w(x,{children:["agent"!==o&&!1===g&&/* @__PURE__ */C(S,{position:"top-left",children:/* @__PURE__ */w("button",{type:"button",className:"editor-nav-action add-node currentColor",onClick:i,title:`Add ${o}`,"data-testid":`add-${o}-node`,children:[
/* @__PURE__ */C(ue,{}),"Add ",o]})}),
/* @__PURE__ */C(S,{position:"top-right",children:/* @__PURE__ */w("div",{className:"editor-nav-actions",children:[(A||I||N)&&/* @__PURE__ */w(x,{children:[N&&/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action",onClick:M,title:"Run step-by-step","data-testid":`step-by-step-${t}`,children:/* @__PURE__ */C(vy,{})}),A&&/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action",onClick:E,title:"Run flow","data-testid":`run-${t}`,children:/* @__PURE__ */C(Pe,{})}),I&&/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action to-python",onClick:R,title:"Convert to Python","data-testid":`convert-${t}-to-py`,children:/* @__PURE__ */C(Le,{})}),I&&/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action to-jupyter",onClick:D,title:"Convert to Jupyter Notebook","data-testid":`convert-${t}-to-ipynb`,children:/* @__PURE__ */C(yy,{})})]}),y&&/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action",onClick:u,title:"Import flow","data-testid":`import-flow-${t}-button`,children:/* @__PURE__ */C(Be,{})}),v&&/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action",onClick:p,title:"Export flow","data-testid":`export-flow-${t}-button`,children:/* @__PURE__ */C(Qe,{size:24})}),
/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action",title:"Github repository","data-testid":`open-docs-${t}`,children:/* @__PURE__ */C("a",{href:"https://github.com/waldiez/waldiez",target:"_blank",rel:"noopener noreferrer",children:/* @__PURE__ */C(Ge,{})})}),
/* @__PURE__ */C("button",{type:"button",className:"editor-nav-action",onClick:T,title:"Toggle theme","data-testid":`toggle-theme-${t}`,children:/* @__PURE__ */C(k?ze:_e,{})})]})})]})},xy=({edge:e,transform:t})=>{if(!e)return null;const n=e.data?.label??"";if(""===n)return null;const a=n.length>20?`${n.slice(0,20)}...`:n;/* @__PURE__ */
return C("div",{style:{position:"absolute",width:"max-content",color:"currentcolor",fontSize:12,fontWeight:600,left:"50%",top:"50%",zIndex:10001,transform:t},className:"nodrag nopan",children:a})},Ay=({edge:e,transform:t,edgeNumber:n,children:a})=>e?/* @__PURE__ */C("div",{style:{position:"absolute",color:"currentcolor",width:"max-content",fontSize:12,fontWeight:600,zIndex:10001,transform:t},className:"nodrag nopan",children:a||n||""}):null;Ay.displayName="EdgePosition";const Iy=(e,t,n,a,o,r,i,s,l,c={})=>{const{leftOffset:d=60,rightOffset:u=60,topOffset:p=50,bottomOffset:g=50,perpOffset:m=20}=c;if("source"===l){let n=e,a=t;switch(i){case E.Right:n+=u,a+=m;break;case E.Left:n-=d,a+=m;break;case E.Top:a-=p,n+=m;break;case E.Bottom:a+=g,n+=m}return`translate(-50%, -50%) translate(${n-o}px, ${a-r}px)`}{let e=n,t=a;switch(s){case E.Right:e+=u,t+=m;break;case E.Left:e-=d,t+=m;break;case E.Top:t-=p,e+=m;break;case E.Bottom:t+=g,e+=m}let i=`translate(-50%, -50%) translate(${e-o}px, ${t-r}px)`;return s===E.Left?i+=" rotate(-90deg)":s===E.Right&&(i+=" rotate(90deg)"),i}},Ny=g(e=>/* @__PURE__ */C(My,{...e,type:"chat"})),ky=g(e=>/* @__PURE__ */C(My,{...e,type:"nested"})),Sy=g(e=>/* @__PURE__ */C(My,{...e,type:"group"})),Ty=g(e=>/* @__PURE__ */C(My,{...e,type:"hidden"})),Ey=(e,t,n)=>{if("group"===e)return((e,t)=>{switch(e){case"handoff":/* @__PURE__ */
return C(tt,{size:t});case"nested":/* @__PURE__ */
return C(et,{size:t});default:/* @__PURE__ */
return C(Ke,{size:t})}})(t,18);switch(e){case"chat":/* @__PURE__ */
return C(Ke,{color:n,size:18});case"nested":/* @__PURE__ */
return C(et,{color:n,size:18});default:return null}},My=g(e=>{const{id:t,type:a,data:o,style:s={},sourceX:l,sourceY:c,targetX:d,targetY:u,markerEnd:p,sourcePosition:g,targetPosition:m}=e,{edgePath:h,labelX:f,labelY:b,sourceAgent:y,targetAgent:v,isReadOnly:A,onOpenModal:I,onDelete:N,getEdgeById:k,getEdgeColor:S,getEdgeNumber:E}=(e=>{const{id:t,source:a,target:o,type:i,data:s,sourceX:l,sourceY:c,targetX:d,targetY:u,sourcePosition:p,targetPosition:g}=e,m=al(e=>e.isReadOnly),h=al(e=>e.deleteEdge),f=al(e=>e.getEdgeById),b=al(e=>e.getAgentById),y=al(e=>e.onEdgeDoubleClick),v=al(e=>e.updateEdgeData),C=b(a),w=b(o),[x,A,I]=n(()=>T({sourceX:l,sourceY:c,sourcePosition:p,targetX:d,targetY:u,targetPosition:g}),[l,c,p,d,u,g]),N=r(e=>{const n=f(t);n&&y(e,n)},[t,f,y]),k=r(()=>{h(t)},[h,t]),S=r(()=>{const e=b(a);if(!e)return;const t=e.data.agentType;return qn.includes(t)?Po[t]:void 0},[b,a]),E=r(()=>{if(!C||!s)return"";if("chat"===i)return"number"==typeof s.order&&s.order>=0?`${s.order+1}`:"0";if("nested"===i){const e=C.data.label;return`${e?.charAt(0)?.toUpperCase()||""}.${s.position}`}return""},[C,s,i]),M=r(e=>{const n=f(t);n&&v(t,{...n.data,description:e.target.value})},[t,f,v]);return{edgePath:x,labelX:A,labelY:I,sourceAgent:C,targetAgent:w,isReadOnly:m,getEdgeById:f,onOpenModal:N,onDelete:k,getEdgeColor:S,getEdgeNumber:E,onDescriptionChange:M}})(e),[D,O]=i(!1),P=n(()=>"group"===a?((e,t)=>e&&t?"group_manager"===t.data.agentType?"toManager":"group_manager"===e.data.agentType?"fromManager":e.data.parentId&&t.data.parentId?"handoff":"nested":"toManager")(y,v):"toManager",[a,y,v]),L=E(),B=k(t),G=S(),z=n(()=>Ey(a,P,G),[a,P,G]),_=n(()=>({edgeStart:Iy(l,c,d,u,f,b,g,m,"source",{leftOffset:10,rightOffset:20,topOffset:10,bottomOffset:20,perpOffset:20}),edgeEnd:Iy(l,c,d,u,f,b,g,m,"target",{leftOffset:10,rightOffset:10,topOffset:10,bottomOffset:10,perpOffset:-10})}),[l,c,d,u,f,b,g,m]),V=r(e=>{!0!==A&&(D?(e.target.blur(),O(!1)):(e.target.focus(),O(!0)))},[A,D]),H=r(e=>{e.target.blur(),O(!1)},[]),W=n(()=>""!==L?/* @__PURE__ */w("div",{className:"agent-edge-view clickable",children:[
/* @__PURE__ */C(Ay,{edge:B,transform:_.edgeStart,children:"0"===L?/* @__PURE__ */C(nt,{size:16,className:"edge-position-warning-icon"}):L}),z]}):"group"===a?/* @__PURE__ */w("div",{className:"agent-edge-view clickable",children:["fromManager"===P&&/* @__PURE__ */C(Ay,{edge:B,transform:_.edgeStart,children:/* @__PURE__ */C(nt,{size:16,className:"edge-position-warning-icon"})}),"toManager"===P&&/* @__PURE__ */C(Ay,{edge:B,transform:_.edgeStart,children:/* @__PURE__ */C("div",{className:"edge-position",children:"1"})}),
/* @__PURE__ */C("div",{className:"edge-icon",children:z})]}):/* @__PURE__ */C("div",{className:"agent-edge-view clickable",children:z}),[L,a,z,B,_,P]);return"hidden"!==a&&y&&v&&o?/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C(M,{path:h,markerEnd:p,style:{...s,color:G}}),
/* @__PURE__ */C(R,{children:/* @__PURE__ */w("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${b}px)`,pointerEvents:"all"},className:`nodrag nopan clickable agent-edge-box ${y.data.agentType}`,onClick:V,"data-testid":`edge-${t}-box`,tabIndex:0,onBlur:H,children:[D&&/* @__PURE__ */w("div",{className:"edge-actions",children:[
/* @__PURE__ */C("div",{title:"Delete",role:"button",onClick:N,className:"delete-edge clickable","data-testid":`delete-edge-${t}`,"aria-label":"Delete edge",children:/* @__PURE__ */C(re,{size:12})}),
/* @__PURE__ */C("div",{title:"Edit",role:"button",onClick:I,className:"open-edge-modal clickable","data-testid":`open-edge-modal-${t}`,"aria-label":"Edit edge",children:/* @__PURE__ */C(Cy,{size:12})})]}),W,
/* @__PURE__ */C(xy,{edge:B,transform:_.edgeEnd})]})})]}):null});var Ry,Dy;Ny.displayName="WaldiezEdgeChat",ky.displayName="WaldiezEdgeNested",Sy.displayName="WaldiezEdgeGroup",Ty.displayName="WaldiezEdgeHidden",My.displayName="WaldiezEdgeCommon";var Oy=function(){if(Dy)return Ry;Dy=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(r,i){if(r===i)return!0;if(r&&i&&"object"==typeof r&&"object"==typeof i){if(r.constructor!==i.constructor)return!1;var s,l,c,d;if(Array.isArray(r)){if((s=r.length)!=i.length)return!1;for(l=s;0!==l--;)if(!o(r[l],i[l]))return!1;return!0}if(t&&r instanceof Map&&i instanceof Map){if(r.size!==i.size)return!1;for(d=r.entries();!(l=d.next()).done;)if(!i.has(l.value[0]))return!1;for(d=r.entries();!(l=d.next()).done;)if(!o(l.value[1],i.get(l.value[0])))return!1;return!0}if(n&&r instanceof Set&&i instanceof Set){if(r.size!==i.size)return!1;for(d=r.entries();!(l=d.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(i)){if((s=r.length)!=i.length)return!1;for(l=s;0!==l--;)if(r[l]!==i[l])return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf&&"function"==typeof r.valueOf&&"function"==typeof i.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString&&"function"==typeof r.toString&&"function"==typeof i.toString)return r.toString()===i.toString();if((s=(c=Object.keys(r)).length)!==Object.keys(i).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(i,c[l]))return!1;if(e&&r instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!r.$$typeof)&&!o(r[c[l]],i[c[l]]))return!1;return!0}return r!=r&&i!=i}return Ry=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return!1;throw n}}}();const Py=/* @__PURE__ */zs(Oy),Ly=[{label:"System",value:"system"},{label:"User",value:"user"},{label:"Assistant",value:"assistant"}],By=[{label:"None",value:null},{label:"Reflection with LLM",value:"reflectionWithLlm"},{label:"Last Message",value:"lastMsg"}],Gy=[{label:"Chat",value:"chat"},{label:"Nested Chat",value:"nested"}],zy={reflectionWithLlm:"Reflection with LLM",lastMsg:"Last Message",none:"None"},_y=e=>{const{data:t,edgeId:a,onTypeChange:o,skipDescription:i=!1}=e,{summaryRoleOptions:s,summaryOptions:l,edgeTypeOptions:c,summaryMethodLabel:d,summaryRoleValue:u,summaryRoleLabel:p,currentSelectedChatType:g,onLabelChange:m,onDescriptionChange:h,onClearHistoryChange:f,onMaxTurnsChange:b,onSummaryMethodChange:y,onLlmPromptChange:v,onLlmSummaryRoleChange:A}=(e=>{const{data:t,edgeType:a,onDataChange:o}=e,i=r(e=>{o({description:e.target.value})},[o]),s=r(e=>{o({label:e.target.value})},[o]),l=r(e=>{t.clearHistory!==e&&"function"==typeof o&&o({clearHistory:e})},[o,t.clearHistory]),c=r(e=>{o({maxTurns:e})},[o]),d=r(e=>{e&&o({summary:{method:e.value,prompt:t.summary.prompt,args:t.summary.args}})},[o,t.summary.prompt,t.summary.args]),u=r(e=>{o({summary:{method:t.summary.method,prompt:e.target.value,args:{...t.summary.args}}})},[o,t.summary.method,t.summary.args]),p=r(e=>{e&&o({summary:{method:t.summary.method,prompt:t.summary.prompt,args:{...t.summary.args,summary_role:e.value}}})},[o,t.summary.method,t.summary.prompt,t.summary.args]),g=r(()=>{const e=t.summary?.args||{};if("summary_role"in e&&["system","user","assistant"].includes(e.summary_role)){const t=e.summary_role;return t[0].toUpperCase()+t.slice(1)}return"System"},[t.summary?.args]),m=n(()=>zy[t.summary?.method??"none"],[t.summary?.method]),h=n(()=>t.summary?.args?.summary_role??"system",[t.summary?.args?.summary_role]),f=n(()=>g(),[g]),b=n(()=>({label:Gy.find(e=>e.value===a)?.label||"Chat",value:a}),[a]);return{summaryRoleOptions:Ly,summaryOptions:By,edgeTypeOptions:Gy,summaryMethodLabel:m,summaryRoleValue:h,summaryRoleLabel:f,currentSelectedChatType:b,onLabelChange:s,onDescriptionChange:i,onClearHistoryChange:l,onMaxTurnsChange:c,onSummaryMethodChange:d,onLlmPromptChange:u,onLlmSummaryRoleChange:p}})(e);/* @__PURE__ */
return w("div",{className:"flex flex-col",children:[
/* @__PURE__ */w("div",{className:"margin-top--10",children:[
/* @__PURE__ */C($h,{htmlFor:`select-chat-type-${a}`,label:"Chat Type:",info:"The type of the chat. Could be Chat or Nested Chat. Chats are executed in a sequential order. Nested Chats are not always executed (i.e., triggered)."}),
/* @__PURE__ */C("label",{className:"hidden",htmlFor:`select-chat-type-${a}`,children:"Chat Type:"}),
/* @__PURE__ */C(Ym,{options:c,value:g,onChange:o,inputId:`select-chat-type-${a}`})]}),
/* @__PURE__ */C(af,{label:"Label:",name:"edge-label",value:t.label,onChange:m,dataTestId:`edge-${a}-label-input`}),!i&&/* @__PURE__ */w("div",{className:"margin-top-10",children:[
/* @__PURE__ */C("label",{htmlFor:`edge-${a}-description-input`,children:"Description:"}),
/* @__PURE__ */C(ef,{rows:2,value:t.description,placeholder:"Enter a description",onChange:h,"data-testid":`edge-${a}-description-input`})]}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Jd,{label:"Clear History",isChecked:t.clearHistory,onCheckedChange:f,id:`edge-${a}-clear-history-checkbox`}),
/* @__PURE__ */C(Jf,{name:"max-turns",label:"Max Turns:",min:0,max:100,value:t.maxTurns,onChange:b,onNull:0,setNullOnLower:!0,onLowerLabel:"No limit",labelInfo:"The maximum number of turns for the chat between the two agents. One turn means one conversation round trip. If set to 0, there is no limit.",dataTestId:`edge-${a}-max-turns-input`}),
/* @__PURE__ */C($h,{htmlFor:`select-summary-method-${a}`,label:"Summary Method:",info:()=>/* @__PURE__ */w("div",{children:["The method to be used to summarize the conversation. ",
/* @__PURE__ */C("br",{}),"Possible values are: ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */w("ul",{children:[
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("b",{children:"Reflection with LLM:"})," the summary is generated by reflecting on the conversation and using the Language Model (LLM) to generate the summary."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("b",{children:"Last Message:"})," the last message of the conversation is used as the summary."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("b",{children:"None:"})," no summary is generated."]})]})]})}),
/* @__PURE__ */C("label",{className:"hidden",htmlFor:`select-summary-method-${a}`,children:"Summary Method:"}),
/* @__PURE__ */C(Ym,{options:l,value:{label:d,value:t.summary.method},onChange:y,inputId:`select-summary-method-${a}`}),"reflectionWithLlm"===t.summary.method&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C($h,{htmlFor:`edge-${a}-llm-prompt-input`,label:"Summary Prompt:",info:"The prompt to be used for the summary generation."}),
/* @__PURE__ */C(ef,{placeholder:"Enter the summary prompt",rows:2,value:t.summary.prompt,onChange:v,"data-testid":`edge-${a}-llm-prompt-input`}),
/* @__PURE__ */C("label",{htmlFor:`select-summary-role-${a}`,children:"Summary Role:"}),
/* @__PURE__ */C(Ym,{options:s,value:{label:p,value:u},onChange:A,inputId:`select-summary-role-${a}`})]})]})},Vy=e=>{const{edgeId:t,data:n,darkMode:a,skipRagOption:o,skipCarryoverOption:i,skipContextVarsOption:s}=e,{onMessageTypeChange:l,onMessageChange:c,onAddMessageContextEntry:d,onRemoveMessageContextEntry:u,onUpdateMessageContextEntries:p}=(e=>{const{data:t,onDataChange:n}=e;return{onMessageTypeChange:r(e=>{n({message:{...t.message,type:e,useCarryover:!1,content:null,context:{}}})},[t.message,n]),onMessageChange:r(e=>{n({message:e})},[n]),onAddMessageContextEntry:r((e,a)=>{n({message:{...t.message,context:{...t.message.context,[e]:a}}})},[t.message,n]),onRemoveMessageContextEntry:r(e=>{const{[e]:a,...o}=t.message.context;n({message:{...t.message,context:o}})},[t.message,n]),onUpdateMessageContextEntries:r(e=>{n({message:{...t.message,context:e}})},[t.message,n])}})(e),g=()=>{},m=!0===s?g:d,h=!0===s?g:u,f=!0===s?g:p;/* @__PURE__ */
return C("div",{className:"margin-top-10",children:/* @__PURE__ */C(df,{darkMode:a,current:n.message,skipRagOption:!0===o,skipCarryoverOption:!0===i,selectLabel:"Message Type:",selectTestId:`select-message-type-${t}`,defaultContent:Hy,notNoneLabel:"Message:",notNoneLabelInfo:"The message to be used when the chat is initiated.",includeContext:!0!==s,onTypeChange:l,onMessageChange:c,onAddContextEntry:m,onRemoveContextEntry:h,onUpdateContextEntries:f})})},Hy='"""Custom message function."""\n# provide the message to be sent when the sender and the recipient are connected\n# complete the `callable_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the:\n# final message: (str) or a dictionary with the final message and additional data (dict)\n#\n# the recipient and the sender are \'autogen.ConversableAgent\' objects\n# the context is generated from the sender\'s initiate_chat additional keyword arguments\n# example:\n# def callable_message(sender, recipient, context):\n#   # type: (ConversableAgent, ConversableAgent, dict) -> Union[str, Dict]\n#   carryover = context.get("carryover", "")\n#    if isinstance(carryover, list):\n#        carryover = carryover[-1]\n#    final_msg = "Write a blogpost." + "\\nContext: \\n" + carryover\n#    return final_msg\n#\ndef callable_message(sender, recipient, context):\n    """Complete the message function"""\n    ...\n',Wy=e=>{const{flowId:t,edgeId:a,darkMode:o,data:i}=e,{onNestedMessageTypeChange:s,onNestedMessageChange:l,onNestedReplyTypeChange:c,onNestedReplyChange:d}=(e=>{const{data:t,onDataChange:a}=e,o=n(()=>t.nestedChat,[t.nestedChat]),i=r(e=>({type:e,useCarryover:!1,content:null,context:{}}),[]);return{onNestedMessageTypeChange:r(e=>{a({nestedChat:{reply:o.reply,message:i(e)}})},[o.reply,a,i]),onNestedReplyTypeChange:r(e=>{a({nestedChat:{message:o.message,reply:i(e)}})},[o.message,a,i]),onNestedMessageChange:r(e=>{a({nestedChat:{reply:o.reply,message:e}})},[o.reply,a]),onNestedReplyChange:r(e=>{a({nestedChat:{message:o.message,reply:e}})},[o.message,a])}})(e),u=i.nestedChat?.message??{type:"none",useCarryover:!1,content:null,context:{}},p=i.nestedChat?.reply??{type:"none",useCarryover:!1,content:null,context:{}},g=()=>{};/* @__PURE__ */
return w("div",{className:"flex flex-col margin-top-10",children:[
/* @__PURE__ */C("div",{className:"info margin-bottom-10",children:"When the connection is used in a nested chat, you can specify the messages to be sent and received, from the source and the target respectively."}),
/* @__PURE__ */w(Ib,{activeTabIndex:0,children:[
/* @__PURE__ */C(Ab,{label:"Message",id:`wc-${t}-edge-nested-chat-${a}-message`,children:/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(df,{darkMode:o,current:u,selectLabel:"Message Type:",selectTestId:`select-nested-message-type-${a}`,defaultContent:Fy,notNoneLabel:"Message:",notNoneLabelInfo:"The message to be sent from the source.",includeContext:!1,skipCarryoverOption:!0,skipRagOption:!0,onTypeChange:s,onMessageChange:l,onAddContextEntry:g,onRemoveContextEntry:g,onUpdateContextEntries:g})})}),
/* @__PURE__ */C(Ab,{label:"Reply",id:`wc-${t}-edge-nested-chat-${a}-reply`,children:/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(df,{darkMode:o,current:p,selectLabel:"Reply Type:",selectTestId:`select-nested-reply-type-${a}`,defaultContent:jy,notNoneLabel:"Reply:",notNoneLabelInfo:"The message to be sent from the target.",skipCarryoverOption:!0,skipRagOption:!0,includeContext:!1,onTypeChange:c,onMessageChange:d,onAddContextEntry:g,onRemoveContextEntry:g,onUpdateContextEntries:g})})})]})]})},Fy='"""Custom nested chat message function."""\n# provide the message to be sent from the sender to the recipient in a nested chat\n# complete the `nested_chat_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the final message.\n# example:\n# def nested_chat_message(recipient, messages, sender, config):\n#    # type: (ConversableAgent, Optional[list[dict]], Optional[ConversableAgent], Optional[dict]) -> str | dict\n#    return f"""Review the following content.\n#            \\n\\n {recipient.chat_messages_for_summary(sender)[-1][\'content\']}"""\n#\ndef nested_chat_message(recipient, messages, sender, config):\n    """Complete the nested chat message function"""\n    ...\n',jy='"""Custom nested chat reply function."""\n# provide the reply to be sent when the recipient replies to the sender in a nested chat\n# complete the `nested_chat_reply` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the agent\'s reply.\n# example:\n# def nested_chat_reply(recipient, messages, sender, config):\n#    # type: (ConversableAgent, Optional[list[dict]], Optional[ConversableAgent], Optional[dict]) -> str | dict\n#    last_message = messages[-1][\'content\']\n#    return f"Great! You said: {last_message}"\n#\ndef nested_chat_reply(recipient, messages, sender, config):\n    """Complete the nested chat reply function"""\n    ...\n',Uy=g(e=>{const{edgeId:t,isOpen:a,onClose:o}=e,{flowId:l,edge:c,edgeData:d,edgeType:u,isDark:p,isDirty:g,isRagUserProxy:m,sourceAgent:h,targetAgent:f,onDataChange:b,onTypeChange:y,onCancel:v,onDelete:x,onSubmit:A}=(e=>{const{edgeId:t,onClose:a}=e,o=al(e=>e.getEdgeSourceAgent),s=al(e=>e.getEdgeTargetAgent),l=al(e=>e.updateEdgeData),c=al(e=>e.updateEdgeType),d=al(e=>e.getEdgeById),u=al(e=>e.deleteEdge),p=al(e=>e.flowId),{isDark:g}=Zo(),m=d(t),h=n(()=>m?o(m):null,[m,o]),f=n(()=>m?s(m):null,[m,s]),[b,y]=i(m?.type??"chat"),[v,C]=i(m?.data),[w,x]=i(!1),A=n(()=>"rag_user_proxy"===h?.data?.agentType,[h?.data?.agentType]),I=r(e=>{if(!v)return;const t={...v,...e};C(t),x(!Py(t,m?.data))},[v,m?.data]),N=r(e=>{if(!e||!m)return;const t=e.value;y(t),x(t!==m.type)},[m]),k=r(()=>{m&&(C(m.data),m.type&&y(m.type)),x(!1),a()},[m,a]),S=r(()=>{k(),u(t)},[k,u,t]),T=r(()=>{v&&l(t,v),m&&b!==m.type&&c(t,b),x(!1)},[v,b,m,t,l,c]);return{flowId:p,edge:m,edgeData:v,edgeType:b,isDirty:w,isRagUserProxy:A,isDark:g,sourceAgent:h,targetAgent:f,onDataChange:I,onTypeChange:N,onCancel:k,onSubmit:T,onDelete:S}})(e),[I,N]=i(0);s(()=>{a&&N(0)},[a]);const k=r(()=>{A(),o()},[A,o]),S=r(e=>{b({condition:e})},[b]),T=r(e=>{b({available:e})},[b]),E=n(()=>/* @__PURE__ */C(Ve,{className:"clickable",onClick:x,title:"Delete edge","aria-label":"Delete edge"}),[x]),M=n(()=>"group"===u&&d?.targetType&&d?.sourceType?"group_manager"===d.targetType?"toManager":"group_manager"===d.sourceType?"fromManager":f?.parentId?"handoff":"nested":"none",[u,d?.targetType,d?.sourceType,f?.parentId]),R=n(()=>({properties:`wc-${l}-edge-properties-${t}`,message:`wc-${l}-edge-message-${t}`,nested:`wc-${l}-edge-nested-${t}`,condition:`wc-${l}-edge-condition-${t}`,availability:`wc-${l}-edge-availability-${t}`}),[l,t]),D=n(()=>({modal:`edge-modal-${t}`,cancel:`modal-cancel-btn-${t}`,saveAndClose:`modal-submit-and-close-btn-${t}`,save:`modal-submit-btn-${t}`}),[t]),O=n(()=>d?.nestedChat&&d.nestedChat.message||{type:"string",content:"",context:{}},[d?.nestedChat]),P=r(()=>{},[]),L=r(e=>{if(!d?.nestedChat)return;const t={...d.nestedChat.message,content:d.nestedChat.message?.content||"",context:d.nestedChat.message?.context||{},type:e};b({nestedChat:{...d.nestedChat,message:t}})},[b,d?.nestedChat]),B=r(e=>{d?.nestedChat&&b({nestedChat:{...d.nestedChat,message:e}})},[b,d?.nestedChat]);return d&&c&&"hidden"!==u&&h&&f?/* @__PURE__ */C(hf,{flowId:l,isOpen:a,onClose:o,onSaveAndClose:k,beforeTitle:E,title:d.label,dataTestId:D.modal,hasUnsavedChanges:g,preventCloseIfUnsavedChanges:!0,children:/* @__PURE__ */w("div",{className:"modal-body edge-modal",children:[/* @__PURE__ */w(Ib,"group"===u?{activeTabIndex:I,children:[
/* @__PURE__ */C(Ab,{label:"Properties",id:R.properties,children:/* @__PURE__ */C(_y,{edgeId:t,data:d,edgeType:u,onTypeChange:y,onDataChange:b,skipDescription:!0})}),"toManager"===M&&/* @__PURE__ */C(Ab,{label:"Message",id:R.message,children:/* @__PURE__ */C(Vy,{edgeId:t,data:d,darkMode:p,skipRagOption:!m,skipCarryoverOption:!m,skipContextVarsOption:!1,onDataChange:b})}),"nested"===M&&/* @__PURE__ */C(Ab,{label:"Message",id:`wc-${l}-edge-nested-chat-${t}-message`,children:/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(df,{darkMode:p,current:O,selectLabel:"Message Type:",selectTestId:`select-nested-message-type-${t}`,defaultContent:Fy,notNoneLabel:"Message:",notNoneLabelInfo:"The message to be sent from the source.",includeContext:!1,skipCarryoverOption:!0,skipRagOption:!0,skipNone:!0,onTypeChange:L,onMessageChange:B,onAddContextEntry:P,onRemoveContextEntry:P,onUpdateContextEntries:P})})}),"handoff"===M&&/* @__PURE__ */C(Ab,{label:"Condition",id:R.condition,children:/* @__PURE__ */C(sf,{condition:d.condition,onDataChange:S})}),"handoff"===M&&/* @__PURE__ */C(Ab,{label:"Availability",id:R.availability,children:/* @__PURE__ */C(nf,{available:d.available,onDataChange:T})})]}:{activeTabIndex:I,children:[
/* @__PURE__ */C(Ab,{label:"Properties",id:R.properties,children:/* @__PURE__ */C(_y,{edgeId:t,data:d,edgeType:u,onTypeChange:y,onDataChange:b})}),"chat"===u&&/* @__PURE__ */C(Ab,{label:"Message",id:R.message,children:/* @__PURE__ */C(Vy,{edgeId:t,data:d,darkMode:p,skipRagOption:!m,onDataChange:b})}),"nested"===u&&/* @__PURE__ */C(Ab,{label:"Nested Chat",id:R.nested,children:/* @__PURE__ */C(Wy,{flowId:l,edgeId:t,darkMode:p,data:d,onDataChange:b})})]}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{type:"button",title:"Cancel",className:"secondary",onClick:v,id:D.cancel,"data-testid":D.cancel,children:"Cancel"}),
/* @__PURE__ */w("div",{className:"flex-row",children:[
/* @__PURE__ */C("button",{title:"Save & Close",type:"button",className:"save margin-right-10 ",onClick:k,id:D.saveAndClose,"data-testid":D.saveAndClose,disabled:!g,"aria-disabled":!g,children:"Save & Close"}),
/* @__PURE__ */C("button",{type:"button",title:g?"Save changes":"No changes to save",className:"primary",onClick:A,id:D.save,"data-testid":D.save,disabled:!g,"aria-disabled":!g,children:"Save"})]})]})]})}):null});Uy.displayName="WaldiezEdgeModal";const Xy=({activity:e,title:t,className:n})=>e?"thinking"===e?/* @__PURE__ */w("span",{className:`agent-activity-icon is-thinking ${n??""}`,title:t??"Thinking","data-activity":"thinking",children:[
/* @__PURE__ */C(pe,{}),
/* @__PURE__ */w("span",{className:"typing-dots","aria-label":"thinking",children:[
/* @__PURE__ */C("i",{}),
/* @__PURE__ */C("i",{}),
/* @__PURE__ */C("i",{})]})]}):"tool"===e?/* @__PURE__ */C("span",{className:`agent-activity-icon is-tool ${n??""}`,title:t??"Running tool","data-activity":"tool",children:/* @__PURE__ */C(ge,{className:"gear"})}):"message"===e?/* @__PURE__ */w("span",{className:`agent-activity-icon is-message ${n??""}`,title:t??"Composing","data-activity":"message",children:[
/* @__PURE__ */C(me,{className:"bubble"}),
/* @__PURE__ */w("span",{className:"typing-dots","aria-label":"typing",children:[
/* @__PURE__ */C("i",{}),
/* @__PURE__ */C("i",{}),
/* @__PURE__ */C("i",{})]})]}):/* @__PURE__ */C("span",{className:`agent-activity-icon ${n??""}`,title:t??String(e),"data-activity":String(e),children:/* @__PURE__ */C(he,{className:"status-dot"})}):null,Zy={wikipedia_search:void 0,youtube_search:/* @__PURE__ */w("div",{className:"info",children:[
/* @__PURE__ */C("p",{children:"To use the YouTube Search tool, you need to set up a YouTube Data API key."}),
/* @__PURE__ */C("p",{children:" Follow these steps:"}),
/* @__PURE__ */w("ol",{children:[
/* @__PURE__ */w("li",{children:["Go to the"," ",
/* @__PURE__ */C("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"}),"."]}),
/* @__PURE__ */C("li",{children:"Create a new project or select an existing one."}),
/* @__PURE__ */w("li",{children:["Navigate to ",
/* @__PURE__ */C("strong",{children:"APIs & Services > Library"}),"."]}),
/* @__PURE__ */w("li",{children:["Search for ",
/* @__PURE__ */C("strong",{children:"YouTube Data API v3"})," and enable it."]}),
/* @__PURE__ */w("li",{children:["Go to ",
/* @__PURE__ */C("strong",{children:"APIs & Services > Credentials"}),"."]}),
/* @__PURE__ */w("li",{children:["Click on ",
/* @__PURE__ */C("strong",{children:"Create Credentials > API key"})," and copy your API key."]})]})]}),google_search:/* @__PURE__ */w("div",{className:"info",children:[
/* @__PURE__ */C("p",{children:"To use the Google Search tool, you need to set up a Google Custom Search Engine (CSE) and obtain an API key."}),
/* @__PURE__ */C("p",{children:"Follow these steps:"}),
/* @__PURE__ */w("ol",{children:[
/* @__PURE__ */w("li",{children:["Go to"," ",
/* @__PURE__ */C("a",{href:"https://programmablesearchengine.google.com/about/",target:"_blank",rel:"noopener noreferrer",children:"Google Programmable Search Engine"}),"."]}),
/* @__PURE__ */w("li",{children:["Click ",
/* @__PURE__ */C("strong",{children:"Get Started"})," and create a search engine."]}),
/* @__PURE__ */w("li",{children:["Under ",
/* @__PURE__ */C("strong",{children:"Sites to Search"}),", select ",
/* @__PURE__ */C("strong",{children:"Search the entire web"})," if you want global search."]}),
/* @__PURE__ */w("li",{children:["Copy the ",
/* @__PURE__ */C("strong",{children:"Search Engine ID"})," from the CSE dashboard (the `cx` parameter from the URL)."]}),
/* @__PURE__ */w("li",{children:["Go to the"," ",
/* @__PURE__ */C("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"}),"."]}),
/* @__PURE__ */C("li",{children:"Create a new project."}),
/* @__PURE__ */w("li",{children:["Navigate to ",
/* @__PURE__ */C("strong",{children:"APIs & Services > Library"}),", search for"," ",
/* @__PURE__ */C("strong",{children:"Custom Search API"}),", and enable it."]}),
/* @__PURE__ */w("li",{children:["Go to ",
/* @__PURE__ */C("strong",{children:"APIs & Services > Credentials"}),", click on"," ",
/* @__PURE__ */C("strong",{children:"Create Credentials > API key"}),", and copy your API key."]})]})]}),tavily_search:/* @__PURE__ */w("div",{className:"info",children:[
/* @__PURE__ */C("p",{children:"To use the Tavily Search tool, you need to set up a Tavily API key."}),
/* @__PURE__ */C("p",{children:"Follow these steps:"}),
/* @__PURE__ */w("ol",{children:[
/* @__PURE__ */w("li",{children:["Visit"," ",
/* @__PURE__ */C("a",{href:"https://tavily.com/",target:"_blank",rel:"noopener noreferrer",children:"Tavily AI"}),"."]}),
/* @__PURE__ */w("li",{children:["Click ",
/* @__PURE__ */C("strong",{children:"Sign Up"})," and create an account."]}),
/* @__PURE__ */w("li",{children:["Navigate to"," ",
/* @__PURE__ */C("a",{href:"https://app.tavily.com/",target:"_blank",rel:"noopener noreferrer",children:"Tavily API"}),"."]}),
/* @__PURE__ */w("li",{children:["Generate an API key under ",
/* @__PURE__ */C("strong",{children:"API Keys"}),"."]})]})]}),duckduckgo_search:void 0,perplexity_search:/* @__PURE__ */w("div",{className:"info",children:[
/* @__PURE__ */C("p",{children:"To use the Perplexity Search tool, you need to set up a Perplexity API key."}),
/* @__PURE__ */C("p",{children:"Follow these steps:"}),
/* @__PURE__ */w("ol",{children:[
/* @__PURE__ */w("li",{children:["Visit"," ",
/* @__PURE__ */C("a",{href:"https://www.perplexity.ai/",target:"_blank",rel:"noopener noreferrer",children:"Perplexity AI"}),"."]}),
/* @__PURE__ */w("li",{children:["Click ",
/* @__PURE__ */C("strong",{children:"Sign Up"})," and create an account."]}),
/* @__PURE__ */w("li",{children:["Navigate to"," ",
/* @__PURE__ */C("a",{href:"https://www.perplexity.ai/settings/api",target:"_blank",rel:"noopener noreferrer",children:"Perplexity API"}),"."]}),
/* @__PURE__ */w("li",{children:["Generate an API key under ",
/* @__PURE__ */C("strong",{children:"API Keys"}),"."]})]})]}),searxng_search:void 0,shared:void 0,custom:void 0},Jy=(e,t,n=14)=>{if("custom"===t)/* @__PURE__ */
return C(We,{"aria-hidden":"true",size:n,style:{width:n,height:n}});if("shared"===t)/* @__PURE__ */
return C(He,{"aria-hidden":"true",size:n,style:{width:n,height:n}});switch(e){case"wikipedia_search":/* @__PURE__ */
return C("img",{src:Vo,alt:"Wikipedia Search Icon",style:{width:n,height:n}});case"youtube_search":/* @__PURE__ */
return C("img",{src:Ho,alt:"YouTube Search Icon",style:{width:n,height:n}});case"google_search":/* @__PURE__ */
return C("img",{src:_o,alt:"Google Search Icon",style:{width:n,height:n}});case"tavily_search":/* @__PURE__ */
return C("img",{src:Wo,alt:"Tavily Search Icon",style:{width:n,height:n}});case"duckduckgo_search":/* @__PURE__ */
return C("img",{src:jo,alt:"DuckDuckGo Search Icon",style:{width:n,height:n}});case"perplexity_search":/* @__PURE__ */
return C("img",{src:Fo,alt:"Perplexity Search Icon",style:{width:n,height:n},className:"perplexity-icon"});case"searxng_search":/* @__PURE__ */
return C("img",{src:Uo,alt:"SearxNG Search Icon",style:{width:n,height:n}});default:/* @__PURE__ */
return C(We,{"aria-hidden":"true",size:n,style:{width:n,height:n}})}},Yy=[{value:"shared",label:"Shared Code",icon:/* @__PURE__ */C(He,{size:18,style:{marginLeft:2,width:16,height:16}})},{value:"wikipedia_search",label:"Wikipedia Search",icon:/* @__PURE__ */C("img",{src:Vo,alt:"Wikipedia Search Icon",style:{width:20,height:20}})},{value:"youtube_search",label:"YouTube Search",icon:/* @__PURE__ */C("img",{src:Ho,alt:"YouTube Search Icon",style:{width:20,height:20}})},{value:"tavily_search",label:"Tavily Search",icon:/* @__PURE__ */C("img",{src:Wo,alt:"Tavily Search Icon",style:{width:20,height:20}})},{value:"google_search",label:"Google Search",icon:/* @__PURE__ */C("img",{src:_o,alt:"Google Search Icon",style:{width:20,height:20}})},{value:"duckduckgo_search",label:"DuckDuckGo Search",icon:/* @__PURE__ */C("img",{src:jo,alt:"DuckDuckGo Search Icon",style:{width:20,height:20}})},{value:"perplexity_search",label:"Perplexity AI Search",icon:/* @__PURE__ */C("img",{src:Fo,alt:"Perplexity AI Search Icon",style:{width:20,height:20},className:"perplexity-icon"})},{value:"searxng_search",label:"SearxNG Search",icon:/* @__PURE__ */C("img",{src:Uo,alt:"SearxNG Search Icon",style:{width:20,height:20}})},{value:"custom",label:"Custom Tool",icon:/* @__PURE__ */C(We,{size:18,style:{marginLeft:2,width:16,height:16}})}],qy=g(e=>{const{id:t,data:n}=e,a=n.agentType;return"group_manager"===a?/* @__PURE__ */C("div",{className:"agent-content"}):"user_proxy"===a?/* @__PURE__ */C("div",{className:"agent-content",children:/* @__PURE__ */C("div",{className:"agent-label margin-top-20","data-testid":`agent-${t}-label`,children:n.label})}):$y(t,n)}),$y=(e,t)=>{const a=al(e=>e.getModels),o=al(e=>e.getTools),[l,c]=i(2),[d,u]=i(2),[p,g]=i(0),{tools:m,agentModelNames:h,agentWaldiezModelAPITypes:f,agentModelLogos:b}=n(()=>{const e=a(),n=o(),r=t.modelIds.map(t=>e.find(e=>e.id===t)?.data.label??"").filter(e=>""!==e),i=t.modelIds.map(t=>e.find(e=>e.id===t)?.data.apiType??"").filter(e=>""!==e),s=i.map(e=>Go[e]??"").filter(e=>""!==e);return{tools:n,agentModelNames:r,agentWaldiezModelAPITypes:i,agentModelLogos:s}},[a,o,t.modelIds]),y=r(e=>{const n=Math.floor(e/18),a=h.length,o=t.tools.length;if(n<=0)return{models:0,tools:0};let r=0,i=0;if(0===a)i=Math.min(o,n);else if(0===o)r=Math.min(a,n);else{if(r=Math.min(a,Math.ceil(n/2)),i=Math.min(o,n-r),r<Math.ceil(n/2)){const e=Math.min(a-r,n-(r+i));r+=Math.max(0,e)}if(i<Math.floor(n/2)){const e=Math.min(o-i,n-(r+i));i+=Math.max(0,e)}}return{models:r,tools:i}},[h.length,t.tools.length]),v=r(e=>{if(!e)return;const t=()=>{const t=e.closest(".react-flow__node"),n=(t?.offsetHeight||e.offsetHeight)-20-20-40;g(n);const{models:a,tools:o}=y(n);c(a),u(o)};setTimeout(t,0);const n=new ResizeObserver(t);return n.observe(e),()=>{n.disconnect()}},[y]);return s(()=>{if(0===p){const{models:e,tools:t}=y(120);c(e),u(t)}},[y,p]),n(()=>{const n=h.length>0,a=t.tools.length>0,o=n&&l>0,r=a&&d>0;/* @__PURE__ */
return w("div",{ref:v,className:"agent-content",children:[
/* @__PURE__ */C("div",{className:"agent-label","data-testid":`agent-${e}-label`,children:t.label}),o&&/* @__PURE__ */w("div",{className:"agent-models-preview",children:[h.slice(0,l).map((t,n)=>/* @__PURE__ */w("div",{className:"agent-model-preview","data-testid":"agent-model-preview",children:[
/* @__PURE__ */C("div",{className:`agent-model-img ${f[n]}`,children:/* @__PURE__ */C("img",{src:b[n],title:t,alt:t})}),
/* @__PURE__ */C("div",{className:"font-small agent-model-name","data-testid":`agent-${e}-linked-model-${n}`,children:t})]},t)),h.length>l&&/* @__PURE__ */w("div",{className:"agent-more-indicator",children:[
/* @__PURE__ */C("div",{className:"agent-model-img",children:/* @__PURE__ */C("span",{children:"â‹¯"})}),
/* @__PURE__ */w("div",{className:"font-small agent-model-name",children:["+",h.length-l," more"]})]})]}),!n&&"user_proxy"!==t.agentType&&/* @__PURE__ */C("div",{className:"agent-models-preview",children:/* @__PURE__ */C("div",{className:"font-small agent-model-name",children:"No models"})}),r&&/* @__PURE__ */w("div",{className:"agent-tools-preview",children:[t.tools.slice(0,d).map((t,n)=>{const a=m.find(e=>e.id===t.id);return a?/* @__PURE__ */w("div",{className:"agent-tool-preview","data-testid":"agent-tool-preview",children:[
/* @__PURE__ */C("div",{className:"agent-tool-img",children:Jy(a.data.label,a.data.toolType)}),
/* @__PURE__ */C("div",{className:"font-small agent-tool-name","data-testid":`agent-${e}-linked-tool-${n}`,children:a.data.label})]},a.id):null}),t.tools.length>d&&/* @__PURE__ */w("div",{className:"agent-more-indicator",children:[
/* @__PURE__ */C("div",{className:"agent-tool-img",children:/* @__PURE__ */C("span",{children:"â‹¯"})}),
/* @__PURE__ */w("div",{className:"font-small agent-tool-name",children:["+",t.tools.length-d," more"]})]})]}),!a&&!["user_proxy","rag_user_proxy"].includes(t.agentType)&&/* @__PURE__ */C("div",{className:"agent-tools-preview",children:/* @__PURE__ */C("div",{className:"font-small agent-tool-name",children:"No tools"})})]})},[h,t.tools,t.label,t.agentType,l,d,v,e,f,b,m])},Qy=e=>{const{agentType:t,id:n,handleClassNameBase:a,selected:o,onEdgeConnection:r}=e,i=[{pos:E.Top,label:"top"},{pos:E.Bottom,label:"bottom"},{pos:E.Left,label:"left"},{pos:E.Right,label:"right"}];let s=`${a}handle `;if(o||(s+="not-selected "),"group_manager"===t)return i.map(({pos:e,label:t})=>/* @__PURE__ */C(D,{className:`${s} ${t} target`,type:"target",isConnectableEnd:!0,position:e,onConnect:r,"data-testid":`agent-handle-${t}-target-${n}`,id:`agent-handle-${t}-target-${n}`},`target-${t}`));const l={[E.Top]:{target:{left:"75%"},source:{left:"25%"}},[E.Bottom]:{target:{left:"25%"},source:{left:"75%"}},[E.Left]:{target:{top:"25%"},source:{top:"75%"}},[E.Right]:{target:{top:"75%"},source:{top:"25%"}}};return i.flatMap(({pos:e,label:t})=>[
/* @__PURE__ */C(D,{className:`${s} ${t} target`,type:"target",isConnectableEnd:!0,position:e,onConnect:r,"data-testid":`agent-handle-${t}-target-${n}`,id:`agent-handle-${t}-target-${n}`,style:l[e].target},`target-${t}`),
/* @__PURE__ */C(D,{className:`${s} ${t} source`,type:"source",isConnectableStart:!0,position:e,onConnect:r,"data-testid":`agent-handle-${t}-source-${n}`,id:`agent-handle-${t}-source-${n}`,style:l[e].source},`source-${t}`)])},Ky=g(e=>{const{id:t,data:a,models:o,onDataChange:i}=e,s=n(()=>o.map(e=>({label:e.data.label,value:e.id})),[o]),l=n(()=>a.modelIds&&0!==a.modelIds.length?a.modelIds.map(e=>{const t=o.find(t=>t.id===e);return t?{label:t.data.label,value:t.id}:null}):[],[a.modelIds,o]),c=r(e=>{if(e){const t=(Array.isArray(e)?e:[e]).map(e=>e.value);i({modelIds:t})}else i({modelIds:[]})},[i]);/* @__PURE__ */
return w("div",{className:"agent-panel margin-bottom-10","data-testid":"agent-models-panel",children:[
/* @__PURE__ */w("label",{htmlFor:`select-agent-models-${t}`,children:["Model","rag_user_proxy"===a.agentType?"":"s"," to use:"]}),
/* @__PURE__ */C(Ym,{options:s,value:l,onChange:c,isMulti:"rag_user_proxy"!==a.agentType,inputId:`select-agent-models-${t}`,isClearable:!0,"aria-label":"Select agent's model"+("rag_user_proxy"===a.agentType?"":"s")})]})});Ky.displayName="WaldiezAgentModels";const ev=g(e=>{const{isModalOpen:t,flowId:a,id:o,data:l}=e,{groupMembers:c,models:d,initialAgent:u,initialAgentOptions:p,speakersOrder:g,onGroupNameChange:m,onManagerNameChange:h,onMaxRoundChange:f,onAddContextVariable:b,onDeleteContextVariable:y,onUpdateContextVariable:v,onInitialAgentChange:x,onEnableClearHistoryChange:A,onSendIntroductionsChange:I,onMaxRetriesForSelectingChange:N,onSpeakerSelectionMethodChange:k,onDescriptionChange:S,onAfterWorkChange:T,onMoveMemberUp:E,onMoveMemberDown:M}=(e=>{const{id:t,data:a,onDataChange:o}=e,i=al(e=>e.getGroupMembers),s=al(e=>e.getAgentById),l=al(e=>e.getModels),c=n(()=>{const e=i(t),n=a.speakers.order||[],o=new Set(e.map(e=>e.id)),r=n.filter(e=>o.has(e)),s=new Set(r),l=e.filter(e=>!s.has(e.id)).map(e=>e.id);let c=[...r,...l];return a.initialAgentId&&o.has(a.initialAgentId)&&(c=c.filter(e=>e!==a.initialAgentId),c.unshift(a.initialAgentId)),c},[i,t,a.speakers.order,a.initialAgentId]),d=r(e=>{o({speakers:{...a.speakers,order:e}})},[a.speakers,o]),u=r(e=>{if(!c.includes(e))return;const t=c.indexOf(e);if(t<=0)return;if(a.initialAgentId&&1===t)return;const n=[...c];[n[t-1],n[t]]=[n[t],n[t-1]],d(n)},[c,a.initialAgentId,d]),p=r(e=>{if(!c.includes(e))return;const t=c.indexOf(e);if(t>=c.length-1)return;if(a.initialAgentId&&e===a.initialAgentId)return;const n=[...c];[n[t],n[t+1]]=[n[t+1],n[t]],d(n)},[c,a.initialAgentId,d]),g=n(()=>l(),[l]),m=n(()=>i(t),[i,t]),h=n(()=>a.initialAgentId?s(a.initialAgentId):void 0,[a.initialAgentId,s]),f=n(()=>h?{label:h.data.label,value:h}:void 0,[h]),b=n(()=>m.map(e=>({label:e.data.label,value:e})),[m]),y=r(e=>{const t={...a.speakers,...e};o({speakers:t})},[a.speakers,o]),v=r(e=>{const t=e.target.value;o({groupName:t})},[o]),C=r(e=>{const t=e.target.value;o({name:t,label:t})},[o]),w=r(e=>{const t=e.target.value;o({description:t})},[o]),x=r(e=>{const t=e.target.value;o({systemMessage:t})},[o]),A=r(e=>{null!==e&&e>0&&o({maxRound:e})},[o]),I=r((e,t)=>{const n={...a.contextVariables,[e]:t};o({contextVariables:n})},[a.contextVariables,o]),N=r(e=>{const t={...a.contextVariables};delete t[e],o({contextVariables:t})},[a.contextVariables,o]),k=r(e=>{o({contextVariables:e})},[o]),S=r(e=>{if(!e)return void o({initialAgentId:void 0});const t=e.value.id;o({initialAgentId:t})},[o]),T=r(e=>{o({enableClearHistory:e})},[o]),E=r(e=>{o({sendIntroductions:e})},[o]),M=r(e=>{y({maxRetriesForSelecting:e})},[y]),R=r(e=>{y({selectionMethod:e?.value??void 0})},[y]),D=r(e=>{o(e?{...a,afterWork:e}:{...a,afterWork:null})},[a,o]);return{models:g,groupMembers:m,speakersOrder:c,initialAgent:f,initialAgentOptions:b,onGroupNameChange:v,onManagerNameChange:C,onDescriptionChange:w,onSystemMessageChange:x,onMaxRoundChange:A,onAddContextVariable:I,onDeleteContextVariable:N,onUpdateContextVariable:k,onInitialAgentChange:S,onEnableClearHistoryChange:T,onSendIntroductionsChange:E,onMaxRetriesForSelectingChange:M,onSpeakerSelectionMethodChange:R,onAfterWorkChange:D,onMoveMemberUp:u,onMoveMemberDown:p}})(e),[R,D]=i(0);s(()=>{D(0)},[t]);const O=n(()=>[{label:"Auto",value:"auto"},{label:"Manual",value:"manual"},{label:"Default",value:"default"},{label:"Random",value:"random"},{label:"Round Robin",value:"round_robin"}],[]),P=n(()=>({label:O.find(e=>e.value===l.speakers?.selectionMethod)?.label??"Auto",value:l.speakers?.selectionMethod??"auto"}),[l.speakers?.selectionMethod,O]),L=!["manual","auto"].includes(l.speakers?.selectionMethod);/* @__PURE__ */
return w(Ib,{activeTabIndex:R,children:[
/* @__PURE__ */C(Ab,{label:"Group",id:`wf-${a}-agent-group-manager-config-${o}`,children:/* @__PURE__ */w("div",{className:"agent-panel",children:[
/* @__PURE__ */C(af,{label:"Group Name:",name:"group-name",value:l.groupName??"",onChange:m,dataTestId:`agent-name-input-${o}`,"aria-label":"Group name"}),
/* @__PURE__ */C("label",{htmlFor:`wf-${a}-agent-config-${o}-select-initial-agent`,children:"Initial Agent:"}),
/* @__PURE__ */C(Ym,{options:p,value:u,onChange:x,inputId:`wf-${a}-agent-config-${o}-select-initial-agent`,"aria-label":"Select initial agent"}),
/* @__PURE__ */C(Jf,{name:"max-rounds",label:"Max Rounds:",value:l.maxRound,onChange:f,min:1,max:1e3,step:1,setNullOnLower:!1,forceInt:!0,labelInfo:"The maximum number of conversation rounds in the group.",dataTestId:`manager-max-rounds-input-${o}`,"aria-label":"Maximum conversation rounds"}),
/* @__PURE__ */C(Qh,{itemsType:"group-context-variables",viewLabel:"Context Variables",viewLabelInfo:"The context variables that will be available when the group chat starts.",onAdd:b,onDelete:y,onUpdate:v,items:l.contextVariables??{},allowEmptyValues:!0,"aria-label":"Group context variables"})]})}),
/* @__PURE__ */C(Ab,{label:"Group Manager",id:`wf-${a}-agent-group-manager-agent-${o}`,children:/* @__PURE__ */w("div",{className:"agent-panel",children:[
/* @__PURE__ */C("div",{children:/* @__PURE__ */C(Ky,{id:o,data:e.data,models:d,onDataChange:e.onDataChange})}),
/* @__PURE__ */C("div",{children:/* @__PURE__ */C(af,{label:"Group Manager's Name:",name:"group-manager-name",value:l.name??l.label??"",onChange:h,dataTestId:`agent-name-input-${o}`,placeholder:"Group Manager Name",className:"margin-top-5","aria-label":"Group manager name"})}),
/* @__PURE__ */C("label",{htmlFor:`agent-description-input-${o}`,children:"Description:"}),
/* @__PURE__ */C(ef,{id:`agent-description-input-${o}`,title:"Agent description",rows:2,value:l.description,onChange:S,"data-testid":`agent-description-input-${o}`,"aria-label":"Manager description"}),
/* @__PURE__ */C(Yd,{label:"Send introductions",checked:!0===l.sendIntroductions,info:"Send a round of introductions at the start of the group chat, so agents know who they can speak to (default: False)",onChange:I,id:`manager-send-introductions-checkbox-${o}`,"aria-label":"Enable sending introductions"}),
/* @__PURE__ */C(Yd,{label:"Enable clear history",checked:!0===l.enableClearHistory,info:"Enable the possibility to clear history of messages for agents manually by providing 'clear history' phrase in user prompt.",onChange:A,id:`manager-enable-clear-history-checkbox-${o}`,"aria-label":"Enable clear history functionality"})]})}),
/* @__PURE__ */C(Ab,{label:"Speakers",id:`wf-${a}-agent-group-manager-speakers-${o}`,children:/* @__PURE__ */w("div",{className:"agent-panel",children:[
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */w("div",{className:"info",children:["The method for selecting the next speaker. The default is"," ",
/* @__PURE__ */C("strong",{className:"italic",children:"Auto"}),". Could be any of the following:",
/* @__PURE__ */w("ul",{children:[
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{className:"italic",children:"Auto"}),": the next speaker is selected automatically by LLM."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{className:"italic",children:"Manual"}),": the next speaker is selected manually by user input."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{className:"italic",children:"Default"}),": the transitions to the speakers are explicitly defined in the workflow."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{className:"italic",children:"Random"}),": the next speaker is selected randomly."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("strong",{className:"italic",children:"Round Robin"}),": the next speaker is selected in a round robin fashion, i.e., iterating in the same order as provided in agents."]})]})]})}),
/* @__PURE__ */C("label",{htmlFor:`manager-speaker-selection-method-${o}`,children:"Speaker Selection Method:"}),
/* @__PURE__ */C(Ym,{options:O,value:P,onChange:k,inputId:`manager-speaker-selection-method-${o}`,"aria-label":"Select speaker selection method"}),
/* @__PURE__ */C(Jf,{name:"max-retries-for-selecting",label:"Max Retries for selecting a speaker:",value:l.speakers?.maxRetriesForSelecting??0,onChange:N,min:0,max:100,step:1,onNull:0,setNullOnLower:!0,onLowerLabel:"Unset",labelInfo:"The maximum number of times the speaker selection re-query process will run. If, during speaker selection, multiple agent names or no agent names are returned by the LLM as the next agent, it will be queried again up to the maximum number of times until a single agent is returned or it exhausts the maximum attempts. Applies only to 'auto' speaker selection method.",dataTestId:`manager-max-retries-for-selecting-input-${o}`,"aria-label":"Maximum retries for speaker selection"}),"round_robin"===l.speakers?.selectionMethod&&/* @__PURE__ */w("div",{className:"margin-top-10",children:[
/* @__PURE__ */C("div",{className:"info",children:"The order in which the speakers will be selected in round robin mode. If not provided, the order will be automatically determined based on the agents in the group."}),
/* @__PURE__ */C("div",{className:"ordered-items-list",children:g.map((e,t)=>{const n=l.initialAgentId===e,a=t>0&&!(l.initialAgentId&&1===t),o=t<g.length-1&&!n;/* @__PURE__ */
return w("div",{className:"ordered-item "+(a||o?"has-buttons":"no-buttons"),"data-testid":`group-speaker-${t}`,children:[
/* @__PURE__ */w("div",{className:"reorder-buttons",children:[a&&/* @__PURE__ */C("button",{type:"button",title:"Move up",className:"reorder-btn up-btn",onClick:()=>E(e),children:"â†‘"}),o&&/* @__PURE__ */C("button",{type:"button",title:"Move down",className:"reorder-btn down-btn",onClick:()=>M(e),children:"â†“"}),n&&/* @__PURE__ */C("button",{type:"button",className:"reorder-btn no-click",children:/* @__PURE__ */C(Fe,{})})]}),
/* @__PURE__ */C("div",{className:"ordered-item-content",children:(r=e,c.find(e=>e.id===r)?.data.label??r)})]},`group-speaker-${e}`);var r})})]})]})}),L&&/* @__PURE__ */C(Ab,{label:"Afterwards",id:`wf-${a}-agent-group-manager-after-work-${o}`,children:/* @__PURE__ */C("div",{className:"agent-panel",children:/* @__PURE__ */C(Km,{target:l.afterWork,agents:c,onChange:T,isForGroupChat:!0,"aria-label":"After work configuration"})})})]})});ev.displayName="WaldiezNodeGroupManagerTabs";const tv=g(e=>{const{id:t,data:a}=e,{onMultimodalChange:o,onNameChange:i,onDescriptionChange:s,onSystemMessageChange:l,onHumanInputModeChange:c,onMaxConsecutiveAutoReplyChange:d,onAgentDefaultAutoReplyChange:u}=(e=>{const{onDataChange:t,onAgentTypeChange:n}=e;return{onRagChange:r(e=>{n(e?"rag_user_proxy":"user_proxy")},[n]),onMultimodalChange:r(e=>{t({isMultimodal:e})},[t]),onNameChange:r(e=>{const n=e.target.value;t({label:n})},[t]),onDescriptionChange:r(e=>{const n=e.target.value;t({description:n})},[t]),onSystemMessageChange:r(e=>{const n=e.target.value;t({systemMessage:n})},[t]),onHumanInputModeChange:r(e=>{if(e){const n=e.value;t({humanInputMode:n})}},[t]),onMaxConsecutiveAutoReplyChange:r(e=>{t({maxConsecutiveAutoReply:e})},[t]),onAgentDefaultAutoReplyChange:r(e=>{const n=e.target.value;t({agentDefaultAutoReply:n})},[t])}})(e),p=n(()=>({ALWAYS:"Always",NEVER:"Never",TERMINATE:"Terminate"}),[]),g=n(()=>[{label:"Always",value:"ALWAYS"},{label:"Never",value:"NEVER"},{label:"Terminate",value:"TERMINATE"}],[]),m=n(()=>({label:p[a.humanInputMode],value:a.humanInputMode}),[a.humanInputMode,p]);/* @__PURE__ */
return w("div",{className:"agent-panel agent-basic-panel",children:["assistant"===a.agentType&&/* @__PURE__ */C(Yd,{label:"Multimodal",info:"If checked, the agent will handle uploaded images from the user. NOTE: Make sure you use a compatible LLM model that supports multimodal inputs (e.g. GPT-4o-mini).",checked:a.isMultimodal??!1,onChange:o,id:`agent-multimodal-toggle-${t}`}),
/* @__PURE__ */C(af,{label:"Name:",name:"human-input-name",value:a.label,onChange:i,dataTestId:`agent-name-input-${t}`,"aria-label":"Agent name"}),
/* @__PURE__ */C("label",{htmlFor:`agent-description-input-${t}`,children:"Description:"}),
/* @__PURE__ */C(ef,{id:`agent-description-input-${t}`,title:"Agent description",rows:2,value:a.description,onChange:s,"data-testid":`agent-description-input-${t}`,"aria-label":"Agent description"}),
/* @__PURE__ */C("label",{htmlFor:`agent-system-message-input-${t}`,children:"System Message:"}),
/* @__PURE__ */C(ef,{id:`agent-system-message-input-${t}`,title:"System message",rows:2,value:a.systemMessage??"",onChange:l,"data-testid":`agent-system-message-input-${t}`,"aria-label":"System message"}),
/* @__PURE__ */C($h,{label:"Human Input mode:",info:()=>/* @__PURE__ */w("div",{children:["Whether to ask for human inputs every time a message is received. ",
/* @__PURE__ */C("br",{}),"Possible values are: ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */w("ul",{children:[
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("b",{children:"Always:"}),' the agent prompts for human input every time a message is received. Under this mode, the conversation stops when the human input is "exit", or when is_termination_msg is True and there is no human input.']}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("b",{children:"Terminate:"})," the agent only prompts for human input only when a termination message is received or the number of auto reply reaches the max_consecutive_auto_reply."]}),
/* @__PURE__ */w("li",{children:[
/* @__PURE__ */C("b",{children:"Never:"})," the agent will never prompt for human input. Under this mode, the conversation stops when the number of auto reply reaches the max_consecutive_auto_reply or when is_termination_msg is True."]})]})]}),htmlFor:`agent-human-input-mode-${t}`}),
/* @__PURE__ */C("label",{htmlFor:`agent-human-input-mode-select-${t}`,className:"hidden",children:"Human Input mode:"}),
/* @__PURE__ */C(Ym,{options:g,value:m,onChange:c,inputId:`agent-human-input-mode-select-${t}`,"aria-label":"Human input mode"}),
/* @__PURE__ */C(Jf,{name:"max-consecutive-auto-reply",label:"Max consecutive auto reply: ",value:a.maxConsecutiveAutoReply,onChange:d,min:0,max:1001,step:1,setNullOnUpper:!0,setNullOnLower:!1,onLowerLabel:"No auto reply",onUpperLabel:"Unset",labelInfo:"The maximum number of consecutive auto replies (i.e., when no code execution or llm-based reply is generated). Default is None (no limit provided). When set to 0, no auto reply will be generated.",dataTestId:`agent-max-consecutive-auto-reply-input-${t}`,"aria-label":"Maximum consecutive auto replies"}),
/* @__PURE__ */C("label",{htmlFor:`agent-default-auto-reply-input-${t}`,children:"Default Auto Reply:"}),
/* @__PURE__ */C("div",{className:"margin-top-5"}),
/* @__PURE__ */C(ef,{className:"w-full margin-top-5",value:a.agentDefaultAutoReply??"",onChange:u,"data-testid":`agent-default-auto-reply-input-${t}`,"aria-label":"Default auto reply message"}),
/* @__PURE__ */C("div",{className:"margin-bottom-10"})]})});tv.displayName="WaldiezAgentBasic";const nv=g(e=>{const{id:t,data:n,flowId:a}=e,{agentLib:o,enableAgentLib:l,onEnableAgentLibChange:c,onFileUpload:d,onToolLibChange:u,onMaxRoundChange:p}=(e=>{const{data:t,onDataChange:n}=e,[a,o]=i(t.agentLib.length>0),[l,c]=i(t.agentLib);s(()=>{c(t.agentLib)},[t]);const d=r(e=>{n({...e})},[n]),u=r(e=>{"number"==typeof e&&d({maxRound:e})},[d]),p=r(e=>{d({toolLib:e?"default":null})},[d]),g=r(e=>{o(e),d(e?{agentLib:l}:{agentLib:[]})},[d,l]),m=r(e=>{const t=[];if(Array.isArray(e))for(const n of e)if("object"==typeof n&&null!==n){const{name:e,description:a}=n;if("string"==typeof e&&"string"==typeof a){const o=n,r="string"==typeof o.systemMessage?o.systemMessage:"string"==typeof o.system_message?o.system_message:null;r&&t.push({name:e,description:a,systemMessage:r})}}return t},[]),h=r(e=>{if(!e.length)return;const t=e[0];if(!t)return;const n=new FileReader;n.onload=()=>{try{const e=n.result,t=JSON.parse(e),a=m(t);c(a),d({agentLib:a})}catch(e){}},n.readAsText(t)},[d,m]);return{agentLib:l,enableAgentLib:a,onEnableAgentLibChange:g,onFileUpload:h,onMaxRoundChange:u,onToolLibChange:p}})(e);/* @__PURE__ */
return w("div",{className:"agent-panel agent-codeExecution-panel margin-top--10",children:[
/* @__PURE__ */C(Jf,{name:"max-round",label:"Max Round",labelInfo:"The maximum number of conversation rounds to be used in the generated groupchat.",value:n.maxRound,onChange:p,dataTestId:`agent-captain-max-round-${t}`,min:1,max:100,"aria-label":"Maximum rounds"}),
/* @__PURE__ */C(Yd,{id:`tool-lib-${t}`,label:"Include tool lib",info:"If enabled, the agents will be equipped with several tools",checked:"default"===n.toolLib,onChange:u,"aria-label":"Include tool library"}),
/* @__PURE__ */w("div",{className:"margin-bottom-10",children:["If selected, you can find the available tools"," ",
/* @__PURE__ */C("a",{href:"https://github.com/ag2ai/ag2/tree/main/autogen/agentchat/contrib/captainagent/tools",target:"_blank",rel:"noreferrer nofollow noopener","aria-label":"View available tools on GitHub",children:"here"})]}),
/* @__PURE__ */C(Yd,{label:"Include agent lib",info:"If enabled, the captain agent will generate agents from a dedicated agents library",checked:l,onChange:c,id:`agent-captain-toggle-agent-lib-${t}`,"aria-label":"Include agent library"}),
/* @__PURE__ */w("div",{className:"margin-bottom-10",children:["You can find an example of agents library"," ",
/* @__PURE__ */C("a",{href:"https://github.com/ag2ai/ag2/blob/main/notebook/agent_library_example.json",target:"_blank",rel:"noreferrer nofollow noopener","aria-label":"View example agent library on GitHub",children:"here"})]}),l&&/* @__PURE__ */w("div",{className:"agent-lib-container",children:[
/* @__PURE__ */C(Kh,{flowId:a,allowedFileExtensions:[".json"],onUpload:d,"aria-label":"Upload agent library JSON file"}),o.length>0&&/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(qh,{title:`Agent Library (${o.length} entries)`,dataTestId:`agent-lib-${t}`,expanded:!1,fullWidth:!0,"aria-label":"Agent library entries",children:/* @__PURE__ */C("div",{className:"agent-lib-preview",style:{maxHeight:"300px",overflowY:"auto"},children:/* @__PURE__ */C("pre",{children:JSON.stringify(o,null,2)})})})})]})]})});nv.displayName="WaldiezAgentCaptainTab";const av=g(e=>{const{id:t,data:a,tools:o}=e,{codeExecutionValue:i,codeExecutionFunctionOptions:s,onUseCodeExecutionChange:l,onCodeExecutionWorkDirChange:c,onCodeExecutionLastNMessagesChange:d,onCodeExecutionTimeoutChange:u,onCodeExecutionUseDockerChange:p,onExecutionFunctionsChange:g}=(e=>{const{data:t,onDataChange:a,tools:o}=e,i=r(e=>{const t=o.find(t=>t.id===e);return t?.data.label??"Unknown Tool"},[o]),s=n(()=>o.map(e=>({label:e.data.label??"Unknown Tool",value:e.id})),[o]),l=n(()=>!1===t.codeExecutionConfig?[]:(t.codeExecutionConfig?.functions??[]).map(e=>({label:i(e),value:e})),[t.codeExecutionConfig,i]),c=r(e=>{const n=!!e&&{...t.codeExecutionConfig};a({codeExecutionConfig:n})},[t.codeExecutionConfig,a]),d=r(e=>{const n=e.target.value;a({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,workDir:n}:{workDir:n}})},[t.codeExecutionConfig,a]),u=r(e=>{const n=e??0;a({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,lastNMessages:n}:{lastNMessages:n}})},[t.codeExecutionConfig,a]),p=r(e=>{const n=e??0;a({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,timeout:n}:{timeout:n}})},[t.codeExecutionConfig,a]),g=r(e=>{a({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,useDocker:e}:{useDocker:e}})},[t.codeExecutionConfig,a]),m=r(e=>{if(!e)return;const n=(Array.isArray(e)?e:[e]).map(e=>e?.value).filter(Boolean);a({codeExecutionConfig:"object"==typeof t.codeExecutionConfig?{...t.codeExecutionConfig,functions:n}:{functions:n}})},[t.codeExecutionConfig,a]);return{codeExecutionValue:l,codeExecutionFunctionOptions:s,getToolName:i,onUseCodeExecutionChange:c,onCodeExecutionWorkDirChange:d,onCodeExecutionLastNMessagesChange:u,onCodeExecutionTimeoutChange:p,onCodeExecutionUseDockerChange:g,onExecutionFunctionsChange:m}})(e),m=!1!==a.codeExecutionConfig,h=m&&!1!==a.codeExecutionConfig&&a.codeExecutionConfig?.lastNMessages&&"auto"!==a.codeExecutionConfig?.lastNMessages?a.codeExecutionConfig?.lastNMessages:0,f=m&&!1!==a.codeExecutionConfig&&!0===a.codeExecutionConfig?.useDocker,b=m&&!f&&o.length>0;/* @__PURE__ */
return w("div",{className:"agent-panel agent-codeExecution-panel",children:[
/* @__PURE__ */C(Yd,{label:"Enable Code Execution",info:"Whether the agent is capable of executing code.",checked:m,onChange:l,id:`agent-code-execution-toggle-${t}`,"aria-label":"Enable code execution"}),m&&!1!==a.codeExecutionConfig&&/* @__PURE__ */w("div",{className:"agent-node-codeExecution-options margin-top-10",children:[
/* @__PURE__ */C(af,{label:"Working directory:",placeholder:"Working directory",className:"margin-top-10",name:"working-directory",value:a.codeExecutionConfig?.workDir??"",onChange:c,dataTestId:`agent-code-execution-work-dir-${t}`,"aria-label":"Code execution working directory"}),
/* @__PURE__ */C(Jf,{name:"last-n-messages",label:"Last N messages:",value:h,onChange:d,min:0,max:1e3,step:1,setNullOnLower:!0,forceInt:!0,onLowerLabel:"auto",labelInfo:"Maximum number of messages to use for code execution. If set to auto(0), all messages will be used.",dataTestId:`agent-code-execution-last-n-messages-${t}`,"aria-label":"Number of messages to include for code execution"}),
/* @__PURE__ */C(Jf,{label:"Timeout:",name:"timeout",value:a.codeExecutionConfig?.timeout??0,onChange:u,min:0,max:1e3,step:1,onNull:0,forceInt:!0,setNullOnLower:!0,onLowerLabel:"No timeout",labelInfo:"Maximum time in seconds to wait for code execution. If set to 0, no timeout will be used.",dataTestId:`agent-code-execution-timeout-${t}`,"aria-label":"Code execution timeout in seconds"}),
/* @__PURE__ */C("div",{className:"margin-top-10 margin-bottom-10 sr-only hidden",children:/* @__PURE__ */C(Yd,{label:"Use Docker",info:"Whether to use Docker for code execution. If enabled, the agent will run code in a Docker container.",checked:f,onChange:p,id:`agent-code-execution-use-docker-${t}`,"aria-label":"Enable Docker for code execution"})}),b&&/* @__PURE__ */C("div",{className:"codeExecution-functions",children:/* @__PURE__ */w("div",{className:"agent-node-functions",children:[
/* @__PURE__ */C("div",{className:"margin-top-20"}),
/* @__PURE__ */C("label",{htmlFor:`agent-code-execution-functions-${t}`,children:"Functions:"}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(Ym,{isMulti:!0,options:s,value:i,onChange:g,inputId:`agent-code-execution-functions-${t}`,"aria-label":"Select code execution functions"})})]})})]})]})});av.displayName="WaldiezAgentCodeExecution";const ov=g(e=>{const{id:t,flowId:n,data:a,onDataChange:o}=e,i=r(e=>{o({collectionName:e.target.value})},[o]),s=r(e=>{o({resetCollection:e})},[o]),l=r(e=>{o({queryEngine:{type:a.queryEngine?.type||"VectorChromaQueryEngine",dbPath:a.queryEngine?.dbPath||null,citationChunkSize:a.queryEngine?.citationChunkSize||512,enableQueryCitations:e}})},[a.queryEngine,o]),c=r(e=>{let t=e.target.value||null;""===t?.trim()&&(t=null),o({queryEngine:{type:a.queryEngine?.type||"VectorChromaQueryEngine",enableQueryCitations:a.queryEngine?.enableQueryCitations||!1,citationChunkSize:a.queryEngine?.citationChunkSize||512,dbPath:t}})},[a.queryEngine,o]);/* @__PURE__ */
return w("div",{className:"agent-panel",children:[
/* @__PURE__ */C(af,{label:"Collection Name:",name:"doc-agent-collection-name",dataTestId:`input-id-wf-${n}-wa-${t}-collection-name`,value:a.collectionName,onChange:i,placeholder:"Enter collection name",className:"margin-top-5"}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(Yd,{label:"Reset Collection",info:"If enabled, the collection will be reset before adding new documents.",id:`checkbox-id-wf-${n}-wa-${t}-reset-collection`,checked:a.resetCollection,onChange:s})}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(Yd,{label:"Enable Query Citations",info:"If enabled, citations will be included in query results.",id:`checkbox-id-wf-${n}-wa-${t}-enable-query-citations`,checked:a.queryEngine?.enableQueryCitations||!1,onChange:l})}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(af,{label:"Database Path:",name:"doc-agent-db-path",dataTestId:`input-id-wf-${n}-wa-${t}-db-path`,value:a.queryEngine?.dbPath||"",onChange:c,placeholder:"Enter database path",labelInfo:rv()})})]})}),rv=()=>{const e=(()=>{try{if("userAgentData"in navigator&&navigator.userAgentData&&"platform"in navigator.userAgentData&&"string"==typeof navigator.userAgentData.platform)return navigator.userAgentData.platform.toLowerCase().replace(/\s/g,"");if(navigator.platform)return navigator.platform.toLowerCase().replace(/\s/g,"");const e=navigator.userAgent.toLowerCase();return e.includes("mac")?"macos":e.includes("win")?"windows":e.includes("linux")?"linux":e.includes("android")?"android":e.includes("iphone")||e.includes("ipad")?"ios":"unknown"}catch{return"unknown"}})(),t=e.includes("mac"),n=e.includes("win");/* @__PURE__ */
return w("div",t?{className:"help-instructions",children:[
/* @__PURE__ */C("h4",{children:"How to find folder path on Mac:"}),
/* @__PURE__ */w("ol",{children:[
/* @__PURE__ */C("li",{children:"Open Finder and navigate to your folder"}),
/* @__PURE__ */C("li",{children:'Right-click the folder and select "Get Info"'}),
/* @__PURE__ */C("li",{children:'Copy the path from "Where:" field'}),
/* @__PURE__ */C("li",{children:"Or drag the folder into Terminal to see its path"})]}),
/* @__PURE__ */w("p",{children:[
/* @__PURE__ */C("strong",{children:"Example:"})," /Users/you/Documents/MyProject"]})]}:n?{className:"help-instructions",children:[
/* @__PURE__ */C("h4",{children:"How to find folder path on Windows:"}),
/* @__PURE__ */w("ol",{children:[
/* @__PURE__ */C("li",{children:"Open File Explorer and navigate to your folder"}),
/* @__PURE__ */C("li",{children:"Click on the address bar (or press Ctrl+L)"}),
/* @__PURE__ */C("li",{children:"The full path will be shown - copy it"}),
/* @__PURE__ */C("li",{children:"Or right-click folder â†’ Properties â†’ Location"})]}),
/* @__PURE__ */w("p",{children:[
/* @__PURE__ */C("strong",{children:"Example:"})," C:\\Users\\you\\Documents\\MyProject"]})]}:{className:"help-instructions",children:[
/* @__PURE__ */C("h4",{children:"How to find folder path:"}),
/* @__PURE__ */w("ol",{children:[
/* @__PURE__ */C("li",{children:"Open your file manager"}),
/* @__PURE__ */C("li",{children:"Navigate to the folder you want"}),
/* @__PURE__ */C("li",{children:"Look for the path in the address bar"}),
/* @__PURE__ */C("li",{children:"Or right-click and check properties"})]}),
/* @__PURE__ */w("p",{children:[
/* @__PURE__ */C("strong",{children:"Example:"})," /home/you/Documents/MyProject"]})]})},iv=g(e=>{const{id:t,data:a,darkMode:o,agents:l,edges:c,onDataChange:d}=e,u="doc_agent"===a.agentType,{groupOptions:p,currentGroupManager:g,selectedGroup:m,groupMembers:h,onSelectGroupChange:f,onJoinGroup:b,onLeaveGroup:y,onAfterWorkChange:v}=(e=>{const{id:t,agents:a,data:o,onDataChange:l}=e,c=n(()=>a.filter(e=>"group_manager"===e.data.agentType),[a]),d=n(()=>o.parentId?a.filter(e=>e.data.parentId===o.parentId&&e.id!==t):[],[a,o.parentId,t]),u=n(()=>o.parentId?c.find(e=>e.id===o.parentId):void 0,[c,o.parentId]),p=n(()=>c.map(e=>({label:e.data.label,value:e})),[c]),[g,m]=i(u);s(()=>{m(u)},[u]);const h=r(e=>{m(e?e.value:void 0)},[]),f=r(()=>{l({parentId:g?.id})},[g,l]),b=r(()=>{l({parentId:void 0})},[l]),y=r(e=>{l({afterWork:e})},[l]);return{groupOptions:p,currentGroupManager:u,selectedGroup:g,groupMembers:d,onSelectGroupChange:h,onJoinGroup:f,onLeaveGroup:b,onAfterWorkChange:y}})(e),x=n(()=>m?{label:m.data.label,value:m}:null,[m]),A=!!g,I=null===m;/* @__PURE__ */
return C("div",{className:"agent-panel agent-group-panel",children:/* @__PURE__ */w(Ib,{activeTabIndex:0,children:[
/* @__PURE__ */C(Ab,{id:`wa-${t}-group-membership`,label:"Membership",children:/* @__PURE__ */w("div",{style:{padding:"1rem"},"data-testid":`agent-group-panel-${t}`,children:[
/* @__PURE__ */C("div",{className:"info margin-bottom-10",children:"Should this agent be part of a group chat?"}),
/* @__PURE__ */w("div",A?{className:"flex items-center justify-between current-group-info",children:[
/* @__PURE__ */C("div",{className:"agent-panel-group-label","data-testid":`group-label-agent-${t}`,children:g.data.label}),
/* @__PURE__ */C("div",{className:"agent-panel-group-actions",children:/* @__PURE__ */C("button",{title:"Leave group",type:"button",className:"p-2 rounded-lg text-sm",onClick:y,"data-testid":`leave-group-button-agent-${t}`,"aria-label":"Leave current group",children:"Leave group"})})]}:{children:[
/* @__PURE__ */C("label",{htmlFor:`agent-select-group-${t}`,children:"Group:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */w("div",{className:"flex items-center justify-between",children:[
/* @__PURE__ */C(Ym,{options:p,value:x,onChange:f,inputId:`agent-select-group-${t}`,className:"flex-1 margin-right-10","aria-label":"Select a group to join"}),
/* @__PURE__ */C("button",{type:"button",title:"Join group",className:"p-2 rounded-lg text-sm",onClick:b,disabled:I,"data-testid":`join-group-button-agent-${t}`,"aria-label":"Join selected group",children:"Join group"})]})]})]})}),A&&/* @__PURE__ */C(Ab,{id:`wa-${t}-group-handoffs`,label:"Handoffs",children:/* @__PURE__ */C(cf,{agents:l,edges:c,id:t,data:a,onDataChange:d})}),A&&!u&&/* @__PURE__ */C(Ab,{id:`wa-${t}-group-update-state`,label:"State",children:/* @__PURE__ */C(Yb,{data:a,darkMode:o,onDataChange:d})}),A&&/* @__PURE__ */C(Ab,{label:"Afterwards",id:`wa-${t}-group-after-work`,children:/* @__PURE__ */C("div",{style:{paddingLeft:"1rem",paddingRight:"1rem"},"data-testid":`after-work-panel-${t}`,children:/* @__PURE__ */C(Km,{target:a.afterWork,agents:h,onChange:v,isForGroupChat:!1,"aria-label":"After work configuration"})})})]})})});iv.displayName="WaldiezAgentGroupMember";const sv={conditionType:"string_llm",prompt:""},lv={type:"none",value:""},cv=g(e=>{const{id:t,flowId:a,agentConnections:o,data:i,edges:l,onDataChange:c}=e,d=n(()=>((e,t)=>{const n=[];return e.nestedChats.length>0&&e.nestedChats[0].messages.length>0?n.push(e.nestedChats[0]):n.push({triggeredBy:[],messages:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}),t.forEach(e=>{n.length>0&&-1===n[0]?.messages.findIndex(t=>t.id===e.id)&&n[0]?.messages.push({id:e.id,isReply:!1})}),structuredClone(n)})(i,l),[i,l]);s(()=>{if(!i?.nestedChats?.length)return;const e=new Set(i.nestedChats[0]?.messages.map(e=>e.id)),t=new Set(l.map(e=>e.id)),n=l.filter(t=>!e.has(t.id)),a=i.nestedChats[0]?.messages.filter(e=>!t.has(e.id));if(n.length>0||a.length>0){const e=[...i.nestedChats[0].messages.filter(e=>t.has(e.id)),...n.map(e=>({id:e.id,isReply:!1}))],a=[{...i.nestedChats[0],messages:e}];c({nestedChats:a})}},[i.nestedChats,l,c]);const u=n(()=>d.length>0?d[0]?.messages.length:0,[d]),p=r(e=>{const t=o.targets.edges.find(t=>t.id===e);if(!t)return"";const n=o.targets.nodes.find(e=>e.id===t.target);return n?n.data.label:""},[o.targets.edges,o.targets.nodes]),g=r(e=>{const t=[...d];if(t[0]&&Array.isArray(t[0].messages)&&void 0!==t[0].messages[e]&&void 0!==t[0].messages[e-1]){const n=t[0].messages[e];t[0].messages[e]=t[0].messages[e-1],t[0].messages[e-1]=n,c({nestedChats:t})}},[d,c]),m=r(e=>{const t=[...d],n=t[0].messages;if(void 0!==n[e+1]){const a=n[e];n[e]=n[e+1],n[e+1]=a,c({nestedChats:structuredClone(t)})}},[d,c]),h=r(e=>{const t=structuredClone(d);t[0].condition=e||sv,c({nestedChats:t})},[d,c]),f=r(e=>{const t=structuredClone(d);t[0].available=e||lv,c({nestedChats:t})},[d,c]);/* @__PURE__ */
return C("div",{className:"agent-panel","data-testid":`agent-group-nested-chat-tabs-${t}`,children:/* @__PURE__ */w(Ib,{activeTabIndex:0,children:[
/* @__PURE__ */C(Ab,{label:"Queue",id:`wf-${a}-wa-${t}-nested-chats-queue`,children:/* @__PURE__ */C("div",{className:"flex flex-col margin-10 nested-chat-queue",children:d[0]?.messages.map((e,n)=>/* @__PURE__ */w("div",{className:"flex items-center margin-bottom-10 queue-item","data-testid":`nested-chat-queue-item-${n}`,children:[
/* @__PURE__ */w("div",{className:"margin-right-10 reorder-buttons",children:[n>0&&(u||0)>1&&/* @__PURE__ */C("button",{type:"button",title:"Move up",className:"reorder-btn up-btn","data-testid":`move-nested-recipient-up-button-${n}`,onClick:()=>g(n),"aria-label":`Move ${p(e.id)} up`,children:"â†‘"}),n<(u||0)-1&&/* @__PURE__ */C("button",{title:"Move down",type:"button",className:"reorder-btn down-btn","data-testid":`move-nested-recipient-down-button-${n}`,onClick:()=>m(n),"aria-label":`Move ${p(e.id)} down`,children:"â†“"})]}),
/* @__PURE__ */C("div",{className:"agent-nested-recipient-name",children:p(e.id)})]},`agent-${t}-nestedChat-recipient-${n}`))})}),
/* @__PURE__ */C(Ab,{label:"Condition",id:`wf-${a}-wa-${t}-nested-chat-condition`,children:/* @__PURE__ */C(sf,{condition:d[0]?.condition||sv,onDataChange:h,"aria-label":"Handoff condition settings"})}),
/* @__PURE__ */C(Ab,{label:"Availability",id:`wf-${a}-wa-${t}-nested-chat-availability`,children:/* @__PURE__ */C(nf,{available:d[0]?.available||lv,onDataChange:f,"aria-label":"Handoff availability settings"})})]})})});cv.displayName="WaldiezAgentGroupNestedChatTabs";const dv=g(e=>{const{id:t,chat:a,selectOptions:o,selectedRecipient:r,getEdgeLabel:i,onSelectedRecipientChange:s,onSelectedRecipientIsReplyChange:l,onAddNestedChatConnection:c,onRemoveRecipient:d,onNestedChatRecipientMovedUp:u,onNestedChatRecipientMovedDown:p,getMessageLabel:g}=e,m=n(()=>r?{label:i(r.id),value:r.id}:null,[r,i]),h=!r||!r.id,f=0===a.messages.length;/* @__PURE__ */
return w("div",{className:"nested-chat-messages","data-testid":`nested-chat-messages-${t}`,children:[
/* @__PURE__ */w("div",{className:"info",children:[
/* @__PURE__ */C("b",{children:"Messages:"})," Specifies which nested chat will be triggered. The final message is returned to the main chat. ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("b",{children:"Agent's Reply:"}),' Indicates the recipient of the trigger message. If selected, it is the second in the order. For example, if "User => Assistant" with the box ticked, the message is sent to the User; otherwise, it is sent to the Assistant.']}),
/* @__PURE__ */C("label",{htmlFor:`new-nested-chat-select-recipient-${t}`,className:"nested-chat-messages-label",children:"Messages:"}),
/* @__PURE__ */w("div",{className:"nested-chats-add-message",children:[
/* @__PURE__ */w("div",{className:"nested-chat-recipients margin-right-10",children:[
/* @__PURE__ */C("label",{htmlFor:`new-nested-chat-select-recipient-${t}`,className:"hidden",children:"Recipient"}),
/* @__PURE__ */C(Ym,{options:o,onChange:s,value:m,inputId:`new-nested-chat-select-recipient-${t}`,"aria-label":"Select message recipient"})]}),
/* @__PURE__ */C(Jd,{id:`new-nested-chat-recipient-is-agent-reply-${t}`,label:"Agent's reply",isChecked:r?.isReply??!1,onCheckedChange:l,"data-testid":`new-nested-chat-recipient-is-agent-reply-${t}`}),
/* @__PURE__ */C("div",{className:"nested-chat-add-button",children:/* @__PURE__ */C("button",{type:"button",title:"Add",className:"add-nested-chat",disabled:h,onClick:c,"data-testid":`new-nested-chat-add-recipient-${t}`,"aria-label":"Add message to nested chat",children:"Add"})})]}),
/* @__PURE__ */C("div",{className:"nested-chats-registered-messages",children:/* @__PURE__ */C("div",f?{className:"nested-chat-registered-message",children:"No messages to include"}:{className:"flex-1 messages-list",children:a.messages.map((e,n)=>/* @__PURE__ */C(uv,{target:e,index:n,messageCount:a.messages.length,getMessageLabel:g,onMoveUp:u,onMoveDown:p,onRemove:d,id:t},`${e.id}-${n}`))})})]})}),uv=g(({target:e,index:t,messageCount:n,getMessageLabel:a,onMoveUp:o,onMoveDown:r,onRemove:i,id:s})=>{const l=n>1&&0!==t,c=n>1&&t!==n-1;/* @__PURE__ */
return w("div",{className:"nested-chat-registered-message","data-testid":`nested-chat-message-${s}-${t}`,children:[
/* @__PURE__ */w("span",{className:"message-label",children:[a(t),e.isReply&&/* @__PURE__ */C("span",{className:"reply-indicator",children:" (Reply)"})]}),
/* @__PURE__ */w("div",{className:"nested-chat-message-actions",children:[l&&/* @__PURE__ */C("div",{className:"nested-chat-reorder",children:/* @__PURE__ */C("button",{type:"button",title:"Move up",onClick:()=>o(t),"data-testid":`nested-chat-reorder-up-${t}`,"aria-label":`Move message ${t+1} up`,children:"â†‘"})}),c&&/* @__PURE__ */C("div",{className:"nested-chat-reorder",children:/* @__PURE__ */C("button",{type:"button",title:"Move down",onClick:()=>r(t),"data-testid":`nested-chat-reorder-down-${t}`,"aria-label":`Move message ${t+1} down`,children:"â†“"})}),
/* @__PURE__ */C("div",{className:"nested-chat-remove",children:/* @__PURE__ */C("button",{type:"button",title:"Remove",onClick:()=>i(t),"data-testid":`remove-nested-chat-recipient-${t}`,"aria-label":`Remove message ${t+1}`,children:"Remove"})})]})]})});dv.displayName="WaldiezAgentNestedChatsMessages",uv.displayName="MessageListItem";const pv=g(e=>{const{id:t,selectOptions:a,selectedTriggers:o,onSelectedTriggersChange:r}=e,i=n(()=>o.map(e=>{const t=a.find(t=>t.value===e);return{label:t?.label||"Unknown",value:e}}),[o,a]);/* @__PURE__ */
return w("div",{className:"nested-chat-triggers margin-bottom--10","data-testid":`nested-chat-triggers-${t}`,children:[
/* @__PURE__ */w("div",{className:"info",children:[
/* @__PURE__ */C("b",{children:"Trigged by:"})," The agent triggers a sequence of nested chats when a message is received. If it is the termination message of a selected chat (e.g., max turns is set to 1) the trigger won't be activated."]}),
/* @__PURE__ */C("label",{htmlFor:`new-nested-chat-select-trigger-${t}`,className:"nested-chat-triggers-label",children:"Triggered by:"}),
/* @__PURE__ */C("div",{className:"nested-chat-select-trigger-view",children:/* @__PURE__ */C("div",{className:"nested-chat-select-trigger",children:/* @__PURE__ */C(Ym,{options:a,value:i,onChange:r,isMulti:!0,inputId:`new-nested-chat-select-trigger-${t}`,"aria-label":"Select triggers for nested chat"})})})]})});pv.displayName="WaldiezAgentNestedChatsTriggers";const gv=g(e=>{const{id:t}=e,{chat:a,triggerSelectOptions:o,messageSelectOptions:l,selectedTriggers:c,selectedRecipient:d,onSelectedTriggersChange:u,onSelectedRecipientChange:p,onSelectedRecipientIsReplyChange:g,onAddNestedChatConnection:m,onRemoveRecipient:h,onNestedChatRecipientMovedUp:f,onNestedChatRecipientMovedDown:b,getMessageLabel:y,getEdgeLabel:v}=(e=>{const{data:t,onDataChange:a,agentConnections:o}=e;s(()=>{0===t.nestedChats.length&&a({nestedChats:[{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}}]})},[t.nestedChats,a]);const l=n(()=>t.nestedChats.length>0&&t.nestedChats[0]||{messages:[],triggeredBy:[],condition:{conditionType:"string_llm",prompt:""},available:{type:"none",value:""}},[t.nestedChats]),[c,d]=i(null),[u,p]=i(l.triggeredBy),{sources:g,targets:m}=o,h=n(()=>[...new Map([...g.nodes,...m.nodes].map(e=>[e.id,e])).values()],[g.nodes,m.nodes]),f=n(()=>g.edges.concat(m.edges),[g.edges,m.edges]),b=n(()=>h.map(e=>({label:e.data?.label,value:e.id})),[h]),y=n(()=>f.map(e=>({label:e.data?.label,value:e.id})),[f]),v=r(e=>{const t=f.find(t=>t.id===e);return t?.data?.label||"Unknown"},[f]),C=r(e=>e<0||e>=l.messages.length?"Invalid message":v(l.messages[e].id),[l.messages,v]),w=r(()=>{if(!c)return;if(l.messages.some(e=>e.id===c.id&&e.isReply===c.isReply))return;const e={messages:[...l.messages,{id:c.id,isReply:c.isReply}],triggeredBy:l.triggeredBy,condition:l.condition,available:l.available};a({nestedChats:[e]})},[c,l,a]),x=r(e=>{const t={...l,messages:l.messages.filter((t,n)=>n!==e)};a({nestedChats:[t]})},[l,a]),A=r(e=>{if(e<=0||e>=l.messages.length)return;const t=[...l.messages],n=t[e];t[e]=t[e-1],t[e-1]=n;const o={...l,messages:t};a({nestedChats:[o]})},[l,a]),I=r(e=>{if(e<0||e>=l.messages.length-1)return;const t=[...l.messages];if(void 0!==t[e]&&void 0!==t[e+1]){const n=t[e];t[e]=t[e+1],t[e+1]=n}const n={...l,messages:t};a({nestedChats:[n]})},[l,a]),N=r(e=>{p(e?e.map(e=>e.value):[]);const t={...l,messages:e?l.messages:[],triggeredBy:e?e.map(e=>e.value):[]};a({nestedChats:[t]})},[l,a]),k=r(e=>{e&&e.value?d(t=>({id:e.value,isReply:t?.isReply||!1})):d(null)},[]),S=r(e=>{c&&d(t=>({...t,isReply:e}))},[c]);return{chat:l,triggerSelectOptions:b,messageSelectOptions:y,selectedTriggers:u,selectedRecipient:c,onSelectedTriggersChange:N,onSelectedRecipientChange:k,onSelectedRecipientIsReplyChange:S,onAddNestedChatConnection:w,onRemoveRecipient:x,onNestedChatRecipientMovedUp:A,onNestedChatRecipientMovedDown:I,getMessageLabel:C,getEdgeLabel:v}})(e),A=a.triggeredBy.length>0;/* @__PURE__ */
return w("div",{className:"agent-panel agent-nestedChats-panel margin-top-10","data-testid":`agent-nested-chats-panel-${t}`,children:[
/* @__PURE__ */C(pv,{id:t,selectedTriggers:c,onSelectedTriggersChange:u,selectOptions:o}),A&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("hr",{className:"nested-chat-separator margin-top--10",style:{width:"100%",opacity:.3},"aria-hidden":"true"}),
/* @__PURE__ */C(dv,{id:t,chat:a,selectOptions:l,selectedRecipient:d,onSelectedRecipientChange:p,onSelectedRecipientIsReplyChange:g,onAddNestedChatConnection:m,onRemoveRecipient:h,onNestedChatRecipientMovedUp:f,onNestedChatRecipientMovedDown:b,getMessageLabel:y,getEdgeLabel:v})]})]})});gv.displayName="WaldiezAgentNestedChats";const mv=[{label:"Chroma",value:"chroma"},{label:"Qdrant",value:"qdrant"},{label:"Pgvector",value:"pgvector"},{label:"MongoDB",value:"mongodb"}],hv={chroma:"Chroma",pgvector:"Pgvector",mongodb:"MongoDB",qdrant:"Qdrant"},fv={chroma:"all-MiniLM-L6-v2",pgvector:"all-MiniLM-L6-v2",mongodb:"all-MiniLM-L6-v2",qdrant:"BAAI/bge-small-en-v1.5"},bv=()=>/* @__PURE__ */w("div",{children:["The model for embedding. ",
/* @__PURE__ */C("br",{}),"The defaults are: ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("b",{children:"Chroma:"})," all-MiniLM-L6-v2; ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("b",{children:"Pgvector:"})," all-MiniLM-L6-v2; ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("b",{children:"MongoDB:"})," all-MiniLM-L6-v2; ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("b",{children:"Qdrant:"})," BAAI/bge-small-en-v1.5."]}),yv=g(e=>{const{id:t,data:a}=e,{retrieveConfig:o}=a,{onVectorDbChange:i,onModelChange:s,onQdrantUseMemoryChange:l,onQdrantUseLocalStorageChange:c,onQdrantLocalStoragePathChange:d,onChromaUseLocalStorageChange:u,onChromaLocalStoragePathChange:p,onDbConfigConnectionUrlChange:g}=(e=>{const{data:t,onDataChange:n}=e,a=r(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]),o=r(e=>{a({dbConfig:{...t.retrieveConfig.dbConfig,...e}})},[t,a]);return{onVectorDbChange:r(e=>{e&&a({vectorDb:e.value})},[a]),onModelChange:r(e=>{a({model:e.target.value})},[a]),onQdrantUseMemoryChange:r(e=>{o({useMemory:e,useLocalStorage:!1})},[o]),onQdrantUseLocalStorageChange:r(e=>{o({useMemory:!1,useLocalStorage:e})},[o]),onQdrantLocalStoragePathChange:r(e=>{o({localStoragePath:e.target.value})},[o]),onChromaUseLocalStorageChange:r(e=>{o({useLocalStorage:e})},[o]),onChromaLocalStoragePathChange:r(e=>{o({localStoragePath:e.target.value})},[o]),onDbConfigConnectionUrlChange:r(e=>{o({connectionUrl:e.target.value})},[o])}})(e),m=n(()=>({label:hv[o.vectorDb??"chroma"],value:o.vectorDb??"chroma"}),[o.vectorDb]),h=n(()=>o.dbConfig.model??fv[o.vectorDb??"chroma"],[o.dbConfig.model,o.vectorDb]),f="qdrant"===o.vectorDb,b="chroma"===o.vectorDb,y=f&&o.dbConfig.useMemory,v=o.dbConfig.useLocalStorage,A=!f||f&&!y&&!v;/* @__PURE__ */
return w("div",{className:"flex flex-col vector-db-config","data-testid":`rag-vector-db-config-${t}`,children:[
/* @__PURE__ */C("label",{htmlFor:`rag-vector-db-${t}`,children:"Vector DB:"}),
/* @__PURE__ */C(Ym,{options:mv,value:m,onChange:i,inputId:`rag-vector-db-${t}`,"aria-label":"Select vector database type"}),
/* @__PURE__ */C($h,{label:"Embedding Model:",info:bv,htmlFor:`rag-vector-db-model-${t}`}),
/* @__PURE__ */C("input",{type:"text",title:"Embedding model",value:h,onChange:s,"data-testid":`rag-vector-db-model-${t}`,id:`rag-vector-db-model-${t}`,"aria-label":"Embedding model name"}),f&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C(Yd,{label:"Use Memory Storage ",info:"Use memory for the vector db. Default is True.",checked:o.dbConfig.useMemory,id:`rag-vector-db-use-memory-${t}`,onChange:l,"aria-label":"Use memory storage for Qdrant"}),!y&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C(Yd,{label:"Use Local Storage ",info:'Use local storage for the vector db. Default is: True if "Use Memory Storage" is False.',checked:v,onChange:c,id:`rag-vector-db-use-local-storage-${t}`,"aria-label":"Use local storage for Qdrant"}),v&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:`rag-vector-db-local-storage-path-${t}`,children:"Storage Path:"}),
/* @__PURE__ */C("input",{id:`rag-vector-db-local-storage-path-${t}`,title:"Storage path",type:"text",value:o.dbConfig.localStoragePath??"",onChange:d,"data-testid":`rag-vector-db-local-storage-path-${t}`,"aria-label":"Qdrant local storage path"})]})]})]}),b&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C(Yd,{label:"Use Persistent Storage ",info:"Use persistent storage for the vector db (i.e., whether to store data after closing the session). Default is False.",checked:v,id:`rag-vector-db-use-local-storage-${t}`,onChange:u,"aria-label":"Use persistent storage for Chroma"}),v&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:`rag-vector-db-chroma-local-storage-path-${t}`,children:"Storage Path:"}),
/* @__PURE__ */C("input",{id:`rag-vector-db-chroma-local-storage-path-${t}`,title:"Storage path",type:"text",value:o.dbConfig.localStoragePath??"",onChange:p,"data-testid":`rag-vector-db-local-storage-path-${t}`,"aria-label":"Chroma storage path"})]})]}),A&&/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{htmlFor:`rag-vector-db-connection-url-${t}`,label:"Connection URL:",info:"The connection URL for the vector db. If using chroma and not provided, a new chroma db server will be spawned. For pgvector and mongodb, this is required."}),
/* @__PURE__ */C("input",{type:"text",title:"Connection URL",value:o.dbConfig.connectionUrl??"",onChange:g,"data-testid":`rag-vector-db-connection-url-${t}`,id:`rag-vector-db-connection-url-${t}`,"aria-label":"Vector DB connection URL"})]})]})});yv.displayName="WaldiezAgentRagUserVectorDb";const vv=[{label:"Code",value:"code"},{label:"QA",value:"qa"},{label:"Default",value:"default"}],Cv={code:"Code",qa:"QA",default:"Default"},wv=[".txt",".pdf",".doc",".docx",".rtf",".xlsx",".xls",".csv",".json",".yaml",".yml",".xml",".md",".odt"],xv=g(e=>{const{id:t,flowId:a,uploadsEnabled:o,data:i}=e,{retrieveConfig:s}=i,{onFilesUpload:l,onTaskChange:c,onAddDocsPath:d,onRemoveDocsPath:u,onDocPathChange:p,onCollectionNameChange:g,onNResultsChange:m,onDistanceThresholdChange:h}=(e=>{const{data:t,onDataChange:n,filesToUpload:a,onFilesToUploadChange:o}=e,i=r(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onFilesUpload:r(e=>{if(!e.length)return;const n=[...t.retrieveConfig.docsPath],r=[...a];for(const t of e){const e=`file:///${t.name}`;n.includes(e)||(n.push(e),r.push(t))}o(r),i({docsPath:n})},[t.retrieveConfig.docsPath,a,o,i]),onTaskChange:r(e=>{e&&i({task:e.value})},[i]),onAddDocsPath:r(e=>{i({docsPath:[...t.retrieveConfig.docsPath,e]})},[t.retrieveConfig.docsPath,i]),onRemoveDocsPath:r(e=>{if(a.length){const t=a.filter(t=>`file:///${t.name}`!==e);o(t.length?t:[])}const n=t.retrieveConfig.docsPath.filter(t=>t!==e);i({docsPath:n})},[t.retrieveConfig.docsPath,a,o,i]),onDocPathChange:r((e,n)=>{i({docsPath:t.retrieveConfig.docsPath.map(t=>t===e?n:t)})},[t.retrieveConfig.docsPath,i]),onCollectionNameChange:r(e=>{i({collectionName:e.target.value})},[i]),onNResultsChange:r(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseInt(e.target.value,10);i({nResults:isNaN(t)||t<1?null:t})}catch(t){i({nResults:null})}else i({nResults:null})},[i]),onDistanceThresholdChange:r(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseFloat(e.target.value);i({distanceThreshold:isNaN(t)||t<0?null:t})}catch(t){i({distanceThreshold:null})}else i({distanceThreshold:null})},[i])}})(e),f=n(()=>({label:Cv[s.task],value:i.retrieveConfig.task}),[i.retrieveConfig.task,s.task]);/* @__PURE__ */
return w("div",{className:"rag-retrieve-config-container","data-testid":`rag-retrieve-config-${t}`,children:[
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{label:"Task:",info:'The task of the retrieve chat. Possible values are "code", "qa" and "default". The system prompt will be different for different tasks. The default value is `default`, which supports both code and qa, and provides source information in the end of the response.',htmlFor:`rag-retrieve-task-input-${t}`}),
/* @__PURE__ */C("label",{className:"hidden",htmlFor:`rag-retrieve-task-${t}`,children:"Task"}),
/* @__PURE__ */C(Ym,{options:vv,value:f,onChange:c,inputId:`rag-retrieve-task-${t}`,"aria-label":"Select RAG task type"})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[o&&/* @__PURE__ */C("div",{className:"margin-top-20",children:/* @__PURE__ */C(Kh,{flowId:a,onUpload:l,allowedFileExtensions:wv,multiple:!0,"aria-label":"Upload documents for RAG"})}),
/* @__PURE__ */C(xb,{viewLabel:"Docs Paths:",viewLabelInfo:"The paths of the documents for the retrieve chat. It can be a list of directories, files and urls. Default is None, which works only if the collection is already created.",items:s.docsPath,itemsType:"rag-doc",onItemAdded:d,onItemDeleted:u,onItemChange:p,"aria-label":"Document paths"})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{label:"Collection Name:",info:"The name of the collection to be used in the vector database. If not provided, a default name `autogen-docs` will be used.",htmlFor:`rag-retrieve-collection-name-${t}`}),
/* @__PURE__ */C("input",{type:"text",title:"Collection name",value:s.collectionName??"",onChange:g,"data-testid":`rag-retrieve-collection-name-${t}`,"aria-label":"Collection name",id:`rag-retrieve-collection-name-${t}`})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{label:"Number of results:",info:"The number of results to return. Default is None, which means the system will return all the results. Will be ignored if < 1.",htmlFor:`rag-retrieve-n-results-${t}`}),
/* @__PURE__ */C("input",{title:"Number of results",type:"number",value:s.nResults??"",onChange:m,"data-testid":`rag-retrieve-n-results-${t}`,"aria-label":"Number of results",id:`rag-retrieve-n-results-${t}`})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{htmlFor:`rag-retrieve-distance-threshold-${t}`,label:"Distance Threshold:",info:"The threshold for the distance score, only distance smaller than it will be returned. Will be ignored if < 0. Default is -1."}),
/* @__PURE__ */C("input",{title:"Distance threshold",type:"number",value:s.distanceThreshold??-1,onChange:h,"data-testid":`rag-retrieve-distance-threshold-${t}`,"aria-label":"Distance threshold",id:`rag-retrieve-distance-threshold-${t}`})]})]})});xv.displayName="WaldiezAgentRagUserRetrieveConfig";const Av=[{label:"Multi Lines",value:"multi_lines"},{label:"One Line",value:"one_line"}],Iv={multi_lines:"Multi Lines",one_line:"One Line"},Nv=g(e=>{const{id:t,data:a}=e,{retrieveConfig:o}=a,{onChunkTokenSizeChange:i,onContextMaxTokensChange:s,onChunkModeChange:l,onMustBreakAtEmptyLineChange:c}=(e=>{const{data:t,onDataChange:n}=e,a=r(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onChunkTokenSizeChange:r(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseInt(e.target.value,10);if(isNaN(t)||t<1)return;a({chunkTokenSize:t})}catch(t){}else a({chunkTokenSize:void 0})},[a]),onContextMaxTokensChange:r(e=>{if(e.target.value&&""!==e.target.value.trim())try{const t=parseInt(e.target.value,10);if(isNaN(t)||t<1)return;a({contextMaxTokens:t})}catch(t){}else a({contextMaxTokens:void 0})},[a]),onChunkModeChange:r(e=>{e&&a({chunkMode:e.value})},[a]),onMustBreakAtEmptyLineChange:r(e=>{a({mustBreakAtEmptyLine:e})},[a])}})(e),d=n(()=>({label:Iv[o.chunkMode],value:o.chunkMode}),[o.chunkMode]),u="multi_lines"===o.chunkMode;/* @__PURE__ */
return w("div",{className:"text-split-config","data-testid":`rag-text-split-config-${t}`,children:[
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{label:"Chunk Token Size:",info:"The chunk token size for the retrieve chat. If not provided, a default size `max_tokens * 0.4` will be used.",htmlFor:`rag-chunk-token-size-${t}`}),
/* @__PURE__ */C("input",{title:"Chunk token size",type:"number",value:o.chunkTokenSize??"",onChange:i,"data-testid":`rag-chunk-token-size-${t}`,id:`rag-chunk-token-size-${t}`,"aria-label":"Chunk token size"})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{label:"Context Max Tokens:",info:"The context max token size for the retrieve chat. If not provided, a default size `max_tokens * 0.8` will be used.",htmlFor:`rag-context-max-tokens-${t}`}),
/* @__PURE__ */C("input",{title:"Context max tokens",type:"number",value:o.contextMaxTokens??"",onChange:s,"data-testid":`rag-context-max-tokens-${t}`,id:`rag-context-max-tokens-${t}`,"aria-label":"Context maximum tokens"})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{htmlFor:`rag-chunk-mode-${t}`,label:"Chunk Mode:",info:'The chunk mode for the retrieve chat. Possible values are "Multi Lines" and "One Line". If not provided, a default mode "Multi Lines" will be used.'}),
/* @__PURE__ */C("label",{className:"hidden",htmlFor:`rag-select-chunk-mode-${t}`,children:"Chunk Mode"}),
/* @__PURE__ */C(Ym,{options:Av,value:d,onChange:l,inputId:`rag-select-chunk-mode-${t}`,"aria-label":"Select chunk mode"})]}),u&&/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(Yd,{label:"Must Break at Empty Line ",info:'Chunk will only break at empty line if True. Default is True. If chunk_mode is "one_line", this parameter will be ignored.',id:`rag-must-break-at-empty-line-${t}`,checked:o.mustBreakAtEmptyLine,onChange:c,"aria-label":"Must break at empty line"})})]})});Nv.displayName="WaldiezAgentRagUserTextSplit";const kv=g(e=>{const{id:t,data:n}=e,{retrieveConfig:a}=n,{onCustomizedPromptChange:o,onCustomizedAnswerPrefixChange:i,onUpdateContextChange:s,onGetOrCreateChange:l,onNewDocsChange:c,onOverwriteChange:d,onRecursiveChange:u}=(e=>{const{data:t,onDataChange:n}=e,a=r(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onCustomizedPromptChange:r(e=>{a({customizedPrompt:e.target.value})},[a]),onCustomizedAnswerPrefixChange:r(e=>{a({customizedAnswerPrefix:e.target.value})},[a]),onUpdateContextChange:r(e=>{a({updateContext:e})},[a]),onGetOrCreateChange:r(e=>{a({getOrCreate:e})},[a]),onNewDocsChange:r(e=>{a({newDocs:e})},[a]),onOverwriteChange:r(e=>{a({overwrite:e})},[a]),onRecursiveChange:r(e=>{a({recursive:e})},[a])}})(e);/* @__PURE__ */
return w("div",{className:"rag-advanced-settings","data-testid":`rag-advanced-settings-${t}`,children:[
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{label:"Customized Prompt:",info:"The customized prompt for the retrieve chat. Default is None.",htmlFor:`rag-customized-prompt-${t}`}),
/* @__PURE__ */C(ef,{title:"Customized prompt",rows:2,value:a.customizedPrompt??"",onChange:o,"data-testid":`rag-customized-prompt-${t}`,id:`rag-customized-prompt-${t}`,"aria-label":"Customized prompt for RAG"})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C($h,{label:"Customized Answer Prefix:",info:'The customized answer prefix for the retrieve chat. Default is "".If not "" and the customized_answer_prefix is not in the answer, `Update Context` will be triggered.',htmlFor:`rag-customized-answer-prefix-${t}`}),
/* @__PURE__ */C("input",{type:"text",title:"Customized answer prefix",value:a.customizedAnswerPrefix??"",onChange:i,"data-testid":`rag-customized-answer-prefix-${t}`,id:`rag-customized-answer-prefix-${t}`,"aria-label":"Customized answer prefix"})]}),
/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(Yd,{label:"Update Context ",info:"If False, will not apply `Update Context` for interactive retrieval. Default is True.",checked:a.updateContext,onChange:s,id:`rag-update-context-${t}`,"aria-label":"Update context for interactive retrieval"})}),
/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(Yd,{label:"Get or Create ",info:"Whether to get the collection if it exists. Default is True.",checked:a.getOrCreate,id:`rag-get-or-create-${t}`,onChange:l,"aria-label":"Get or create collection"})}),
/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(Yd,{label:"New Docs ",info:"When True, only adds new documents to the collection; when False, updates existing documents and adds new ones. The default value is True. Document id is used to determine if a document is new or existing. By default, the id is the hash value of the content.",checked:a.newDocs,onChange:c,id:`rag-new-docs-${t}`,"aria-label":"Only add new documents"})}),
/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(Yd,{label:"Overwrite ",info:"Whether to overwrite the collection if it exists. Default is False. Case 1. if the collection does not exist, create the collection. Case 2. the collection exists, if overwrite is True, it will overwrite the collection. Case 3. the collection exists and overwrite is False, if get_or_create is True, it will get the collection, otherwise it raise a ValueError.",checked:a.overwrite,onChange:d,id:`rag-overwrite-${t}`,"aria-label":"Overwrite existing collection"})}),
/* @__PURE__ */C("div",{className:"flex flex-col",children:/* @__PURE__ */C(Yd,{label:"Recursive ",info:"Whether to search documents recursively in the docs_path. Default is True.",checked:a.recursive,onChange:u,id:`rag-recursive-${t}`,"aria-label":"Search documents recursively"})})]})});kv.displayName="WaldiezAgentRagUserAdvanced";const Sv=g(e=>{const{flowId:t,data:a,isDarkMode:o}=e,{retrieveConfig:i}=a,{onUseCustomEmbeddingChange:s,onEmbeddingFunctionChange:l,onUseCustomTokenCountChange:c,onCustomTokenCountFunctionChange:d,onUseCustomTextSplitChange:u,onCustomTextSplitFunctionChange:p}=(e=>{const{data:t,onDataChange:n}=e,a=r(e=>{n({...t,retrieveConfig:{...t.retrieveConfig,...e}})},[t,n]);return{onUseCustomEmbeddingChange:r(e=>{a({useCustomEmbedding:e})},[a]),onEmbeddingFunctionChange:r(e=>{void 0!==e&&a({embeddingFunction:e})},[a]),onUseCustomTokenCountChange:r(e=>{a({useCustomTokenCount:e})},[a]),onCustomTokenCountFunctionChange:r(e=>{void 0!==e&&a({customTokenCountFunction:e})},[a]),onUseCustomTextSplitChange:r(e=>{a({useCustomTextSplit:e})},[a]),onCustomTextSplitFunctionChange:r(e=>{void 0!==e&&a({customTextSplitFunction:e})},[a])}})(e),g=n(()=>i.embeddingFunction??'"""Custom embedding function."""\n# provide the function to embed the input text\n# complete the `custom_embedding_function` below.\n# Do not change the name of the function.\n# See https://docs.trychroma.com/integrations for more information and examples.\n# examples:\n# def custom_embedding_function():\n#    # type: () -> callable\n#   import chromadb.utils.embedding_functions as embedding_functions\n#   huggingface_ef = embedding_functions.HuggingFaceEmbeddingFunction(\n#        api_key="YOUR_API_KEY",\n#        model_name="sentence-transformers/all-MiniLM-L6-v2"\n#   )\n#   return huggingface_ef\n#\n# def custom_embedding_function():\n#    # type: () -> callable\n#    import chromadb.utils.embedding_functions as embedding_functions\n#    openai_ef = embedding_functions.OpenAIEmbeddingFunction(\n#       api_key="YOUR_API_KEY",\n#       model_name="text-embedding-3-small"\n#    )\n#    return openai_ef\n#\ndef custom_embedding_function():\n    # type: () -> callable\n    """Complete the custom embedding function."""\n    ...\n',[i.embeddingFunction]),m=n(()=>i.customTokenCountFunction??'"""Custom function to count the number of tokens in a string.\n\nThe function should take (text:str, model:str) as input and return the\ntoken_count(int). the retrieve_config["model"] will be passed in the function.\nDefault is autogen.token_count_utils.count_token that uses tiktoken, which may\nnot be accurate for non-OpenAI models.\n"""\n# provide the function to count the number of tokens in a string.\n# complete the `custom_token_count_function` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the token count.\n\n# example:\n# def custom_token_count_function(text, model):\n#    # type: (Union[str, List, Dict], str) -> int\n#    return len(text.split())\n#\ndef custom_token_count_function(text, model):\n    """Complete the custom token count function."""\n    ...\n',[i.customTokenCountFunction]),h=n(()=>i.customTextSplitFunction??'"""Custom text split function.\n\nA custom function to split a string into a list of strings. The default function is\n\'autogen.retrieve_utils.split_text_to_chunks\'.\n"""\n# provide the function to split the text into chunks.\n# complete the `custom_text_split_function` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the list of strings.\n# example:\n# def custom_text_split_function(\n#    text: str,\n#    max_tokens: int = 4000,\n#    chunk_mode: str = "multi_lines",\n#    must_break_at_empty_line: bool = True,\n#    overlap: int = 0,  # number of overlapping lines\n# ) -> list[str]:\n#    return text.split("\\n")\n#\ndef custom_text_split_function(\n    text,  # type: str\n    max_tokens,  # type: int\n    chunk_mode,  # type: str (multi_lines or one_line)\n    must_break_at_empty_line,  # type: bool\n    overlap,  # type: int # number of overlapping lines\n):\n    # type: (...) -> list[str]\n    """Complete the custom text split function."""\n    ...\n',[i.customTextSplitFunction]),f=i.useCustomEmbedding??!1,b=i.useCustomTokenCount??!1,y=i.useCustomTextSplit??!1,v={marginTop:-20,marginBottom:-10};/* @__PURE__ */
return w("div",{className:"waldiez-agent-rag-user-custom-functions","data-testid":`rag-custom-functions-${t}`,children:[
/* @__PURE__ */C(qh,{title:"Embedding Function",dataTestId:`${t}-rag-use-custom-embedding`,"aria-label":"Embedding function settings",children:/* @__PURE__ */w("div",{className:"flex flex-col",style:v,children:[
/* @__PURE__ */C("div",{className:"info",children:/* @__PURE__ */C("div",{className:"info-tooltip",children:"If selected, the agent will use a custom embedding function. Default is False."})}),
/* @__PURE__ */C(Jd,{id:`${t}-rag-use-custom-embedding-checkbox`,label:"Use Custom Embedding Function",isChecked:f,onCheckedChange:s,"data-testid":`${t}-rag-use-custom-embedding-checkbox`}),f&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:`${t}-embedding-function-editor`,children:"Embedding Function:"}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(Yh,{darkMode:o,value:g,onChange:l,"aria-label":"Custom embedding function code editor"})})]})]})}),
/* @__PURE__ */C(qh,{title:"Token Count",dataTestId:`${t}-rag-use-custom-tokenCount`,"aria-label":"Token count function settings",children:/* @__PURE__ */w("div",{className:"flex flex-col",style:v,children:[
/* @__PURE__ */C("div",{className:"info",children:/* @__PURE__ */C("div",{className:"info-tooltip",children:"If selected, the agent will use a custom token count function. Default is False."})}),
/* @__PURE__ */C(Jd,{id:`${t}-rag-use-custom-tokenCount-checkbox`,label:"Use Custom Token Count Function",isChecked:b,onCheckedChange:c,"data-testid":`${t}-rag-use-custom-tokenCount-checkbox`}),b&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:`${t}-token-count-function-editor`,children:"Custom Token Count Function:"}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(Yh,{darkMode:o,value:m,onChange:d,"aria-label":"Custom token count function code editor"})})]})]})}),
/* @__PURE__ */C(qh,{title:"Text Split",dataTestId:`${t}-rag-use-custom-textSplit`,"aria-label":"Text split function settings",children:/* @__PURE__ */w("div",{className:"flex flex-col",style:v,children:[
/* @__PURE__ */C("div",{className:"info",children:/* @__PURE__ */C("div",{className:"info-tooltip",children:"If selected, the agent will use a custom text split function. Default is False."})}),
/* @__PURE__ */C(Jd,{id:`${t}-rag-use-custom-textSplit-checkbox`,label:"Use Custom Text Split Function",isChecked:y,onCheckedChange:u,"data-testid":`${t}-rag-use-custom-textSplit-checkbox`}),y&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:`${t}-text-split-function-editor`,children:"Custom Text Split Function:"}),
/* @__PURE__ */C("div",{className:"margin-top-10",children:/* @__PURE__ */C(Yh,{darkMode:o,value:h,onChange:p,"aria-label":"Custom text split function code editor"})})]})]})})]})});Sv.displayName="WaldiezAgentRagUserCustomFunctions";const Tv=g(e=>{const{id:t,data:a,tools:o,skipExecutor:l}=e,{toolOptions:c,agentOptions:d,selectedTool:u,selectedTools:p,selectedExecutor:g,getToolName:m,getAgentName:h,onSelectedToolChange:f,onSelectedToolsChange:b,onSelectedExecutorChange:y,onAddTool:v,onRemoveTool:x}=(e=>{const{id:t,data:a,tools:o,agents:l,onDataChange:c}=e,d=al(e=>e.updateAgentData),[u,p]=i(null),[g,m]=i(null);s(()=>{const e=o.map(e=>e.id),n=a.tools.filter(t=>e.includes(t.id));n.length!==a.tools.length&&d(t,{tools:n})},[o,a.tools,d,t]);const h=n(()=>a.tools.map(e=>{const t=o.find(t=>t.id===e.id);return t?{label:t.data.label,value:t}:null}),[a.tools,o]),f=r(e=>{e&&0!==e.length?c({tools:e.filter(e=>null!==e).map(e=>({id:e.value.id,executorId:t}))}):c({tools:[]})},[c,t]),b=n(()=>o.filter(e=>"shared"!==e.data.toolType).map(e=>({label:e.data.label??"Unknown tool",value:e})),[o]),y=n(()=>l.map(e=>({label:e.data.label??"Unknown Agent",value:e})),[l]),v=r(e=>{const t=o.find(t=>t.id===e.id);return t?t.data.label:"Unknown tool"},[o]),C=r(e=>{const t=l.find(t=>t.id===e.executorId);return t?t.data.label:"Unknown Agent"},[l]),w=r(()=>{if(!u||!g)return;const e=u.value,t=g.value;if(!a.tools.find(n=>n.executorId===t.id&&n.id===e.id)){const n={id:e.id,executorId:t.id},o=[...a.tools,n];c({tools:o}),p(null),m(null)}},[u,g,a.tools,c]),x=r(e=>{const t=a.tools.filter((t,n)=>n!==e);c({tools:t})},[a.tools,c]);return{toolOptions:b,agentOptions:y,selectedTool:u,selectedTools:h,selectedExecutor:g,getToolName:v,getAgentName:C,onSelectedToolChange:p,onSelectedToolsChange:f,onSelectedExecutorChange:m,onAddTool:w,onRemoveTool:x}})(e);return 0===o.length?/* @__PURE__ */C("div",{className:"agent-panel agent-tools-panel margin-bottom-10",children:/* @__PURE__ */C("div",{className:"margin-top-10 margin-left-10",children:"No tools found in the workspace"})}):/* @__PURE__ */C("div",!0===l?{className:"agent-panel agent-tools-panel margin-top-10 margin-bottom-10",children:/* @__PURE__ */w("div",{className:"agent-panel-select-tools",children:[
/* @__PURE__ */C("label",{htmlFor:`select-agent-tools-${t}`,children:"Tools:"}),
/* @__PURE__ */C(Ym,{options:c,onChange:b,value:p,isMulti:!0,isClearable:!0,inputId:`select-agent-tool-${t}`,"aria-label":"Select tools"})]})}:{className:"agent-panel agent-tools-panel margin-top-10 margin-bottom-10",children:/* @__PURE__ */w("div",{children:[
/* @__PURE__ */w("div",{className:"agent-panel-add-tool",children:[
/* @__PURE__ */C("label",{htmlFor:`select-agent-tool-${t}`,children:"Tool:"}),
/* @__PURE__ */C(Ym,{options:c,onChange:f,value:u,inputId:`select-agent-tool-${t}`,"aria-label":"Select tool"}),
/* @__PURE__ */C("label",{htmlFor:`select-agent-tool-executor-${t}`,children:"Executor:"}),
/* @__PURE__ */C(Ym,{options:d,onChange:y,value:g,inputId:`select-agent-tool-executor-${t}`,"aria-label":"Select executor agent"}),
/* @__PURE__ */C("button",{type:"button",title:"Add tool",className:"p-2 rounded-lg text-sm",disabled:!u||!g,onClick:v,"data-testid":`add-agent-tool-${t}`,"aria-label":"Add tool",children:"Add"})]}),a.tools.length>0&&/* @__PURE__ */w("div",{className:"agent-panel-current-tools margin-top-10",children:[
/* @__PURE__ */C("div",{className:"agent-panel-current-tools-heading",children:"Current tools:"}),a.tools.map((e,n)=>/* @__PURE__ */C("div",{className:"agent-panel-current-tool",children:/* @__PURE__ */w("div",{className:"agent-panel-current-tool-entry",children:[
/* @__PURE__ */w("div",{className:"tool-item",children:["Tool:"," ",
/* @__PURE__ */C("div",{className:"tool-name","data-testid":`tool-name-${t}-${n}`,children:m(e)})]}),
/* @__PURE__ */w("div",{className:"agent-item",children:["Executor:"," ",
/* @__PURE__ */C("div",{className:"agent-name","data-testid":`agent-name-${t}-${n}`,children:h(e)})]}),
/* @__PURE__ */C("button",{type:"button",title:"Remove tool",className:"p-2 rounded-lg text-sm",onClick:()=>x(n),"data-testid":`remove-agent-tool-${t}-${n}`,"aria-label":`Remove ${m(e)}`,children:"Remove"})]})},`tool-${t}-${e.id}-${e.executorId}`))]})]})})});Tv.displayName="WaldiezAgentTools";const Ev=g(e=>{const{id:t,data:n,agents:a,models:o,tools:r,flowId:l,agentConnections:c,isDarkMode:d,isModalOpen:u,onDataChange:p,filesToUpload:g,onFilesToUploadChange:m,uploadsEnabled:h,showNestedChatsTab:f}=e,[b,y]=i(0);return s(()=>{y(0)},[u]),/* @__PURE__ */C("div",{className:"agent-panel agent-ragUser-panel margin-bottom-10","data-testid":`agent-rag-user-panel-${t}`,children:/* @__PURE__ */w(Ib,{activeTabIndex:b,children:[
/* @__PURE__ */C(Ab,{label:"Model",id:`wf-${l}-wa-${t}-models`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(Ky,{id:t,data:n,models:o,onDataChange:p})})}),
/* @__PURE__ */C(Ab,{label:"Code Execution",id:`wf-${l}-wa-${t}-codeExecution`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(av,{id:t,data:n,tools:r,onDataChange:p})})}),
/* @__PURE__ */C(Ab,{label:"Tools",id:`wf-${l}-wa-${t}-tools`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(Tv,{id:t,data:n,agents:a,tools:r,skipExecutor:!1,onDataChange:p})})}),f&&/* @__PURE__ */C(Ab,{label:"Nested chat",id:`wf-${l}-wa-${t}-nested`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(gv,{id:t,data:n,onDataChange:p,agentConnections:c})})}),
/* @__PURE__ */C(Ab,{label:"RAG",id:`wf-${l}-wa-${t}-rag`,children:/* @__PURE__ */w(Ib,{activeTabIndex:0,children:[
/* @__PURE__ */C(Ab,{label:"Retrieve Config",id:`wf-${l}-wa-${t}-rag-retrieveConfig`,children:/* @__PURE__ */C(xv,{id:t,flowId:l,data:n,onDataChange:p,uploadsEnabled:h,filesToUpload:g,onFilesToUploadChange:m})}),
/* @__PURE__ */C(Ab,{label:"Text splitting",id:`wf-${l}-wa-${t}-rag-textSplit`,children:/* @__PURE__ */C(Nv,{id:t,data:n,onDataChange:p})}),
/* @__PURE__ */C(Ab,{label:"Vector DB Config",id:`wf-${l}-wa-${t}-rag-vectorDb`,children:/* @__PURE__ */C(yv,{id:t,data:n,onDataChange:p})}),
/* @__PURE__ */C(Ab,{label:"Custom Functions",id:`wf-${l}-wa-${t}-rag-customFunctions`,children:/* @__PURE__ */C(Sv,{id:t,flowId:l,data:n,isDarkMode:d,onDataChange:p})}),
/* @__PURE__ */C(Ab,{label:"Advanced",id:`wf-${l}-wa-${t}-rag-advanced`,children:/* @__PURE__ */C(kv,{id:t,data:n,onDataChange:p})})]})})]})})});Ev.displayName="WaldiezAgentRagUserTabs";const Mv=g(e=>{const{id:t,data:a}=e,{reasoningMethodOptions:o,reasoningMethodValue:i,answerApproachOptions:s,answerApproachValue:l,isBeamSearch:c,isSimulationBasedMethod:d,onVerboseChange:u,onReasoningMethodChange:p,onMaxDepthChange:g,onForestSizeChange:m,onRatingScaleChange:h,onBeamSizeChange:f,onAnswerApproachChange:b,onNSimChange:y,onExplorationConstantChange:v}=(e=>{const{data:t,onDataChange:a}=e,o=n(()=>[{value:"beam_search",label:"Beam Search"},{value:"mcts",label:"Monte Carlo Tree Search"},{value:"lats",label:"Language Agent Tree Search"},{value:"dfs",label:"Depth First Search"}],[]),i=n(()=>({value:t.reasonConfig.method,label:o.find(e=>e.value===t.reasonConfig.method)?.label||"Beam Search"}),[t.reasonConfig.method,o]),s=n(()=>[{value:"pool",label:"Pool"},{value:"best",label:"Best"}],[]),l=n(()=>({value:t.reasonConfig.answerApproach,label:s.find(e=>e.value===t.reasonConfig.answerApproach)?.label||"Pool"}),[t.reasonConfig.answerApproach,s]),c=n(()=>["mcts","lats"].includes(t.reasonConfig.method),[t.reasonConfig.method]),d=n(()=>"beam_search"===t.reasonConfig.method,[t.reasonConfig.method]),u=r(e=>{a({...e})},[a]),p=r(e=>{u({verbose:e})},[u]),g=r(e=>{e&&u({reasonConfig:{...t.reasonConfig,answerApproach:e.value}})},[u,t.reasonConfig]),m=r(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,forestSize:e}})},[u,t.reasonConfig]),h=r(e=>{e&&u({reasonConfig:{...t.reasonConfig,method:e.value}})},[u,t.reasonConfig]),f=r(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,maxDepth:e}})},[u,t.reasonConfig]),b=r(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,ratingScale:e}})},[u,t.reasonConfig]),y=r(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,beamSize:e}})},[u,t.reasonConfig]),v=r(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,nsim:e}})},[u,t.reasonConfig]),C=r(e=>{null!==e&&u({reasonConfig:{...t.reasonConfig,explorationConstant:e}})},[u,t.reasonConfig]);return{reasoningMethodOptions:o,answerApproachOptions:s,isSimulationBasedMethod:c,isBeamSearch:d,reasoningMethodValue:i,answerApproachValue:l,onVerboseChange:p,onAnswerApproachChange:g,onForestSizeChange:m,onReasoningMethodChange:h,onMaxDepthChange:f,onRatingScaleChange:b,onBeamSizeChange:y,onNSimChange:v,onExplorationConstantChange:C}})(e);/* @__PURE__ */
return w("div",{className:"agent-panel agent-codeExecution-panel margin-top--10",children:[
/* @__PURE__ */C(Yd,{label:"Verbose",info:"When enabled, the agent will provide additional information about the reasoning process.",checked:a.verbose,onChange:u,id:`agent-reasoning-verbose-toggle-${t}`,"aria-label":"Enable verbose reasoning output"}),
/* @__PURE__ */C("label",{className:"agent-panel-label",htmlFor:`agent-reasoning-method-${t}`,children:"Reasoning Method:"}),
/* @__PURE__ */C(Ym,{options:o,value:i,onChange:p,inputId:`agent-reasoning-method-${t}`,"aria-label":"Select reasoning method"}),
/* @__PURE__ */C(Jf,{label:"Max Depth:",name:"max-depth",value:a.reasonConfig.maxDepth,onChange:g,min:1,max:10,dataTestId:`agent-reasoning-max-depth-${t}`,"aria-label":"Maximum depth for reasoning"}),
/* @__PURE__ */C(Jf,{label:"Forest Size:",name:"forest-size",value:a.reasonConfig.forestSize,onChange:m,min:1,max:10,dataTestId:`agent-reasoning-forest-size-${t}`,"aria-label":"Forest size for reasoning"}),
/* @__PURE__ */C(Jf,{label:"Rating Scale:",name:"rating-scale",value:a.reasonConfig.ratingScale,onChange:h,min:1,max:10,dataTestId:`agent-reasoning-rating-scale-${t}`,"aria-label":"Rating scale for reasoning"}),c&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C(Jf,{name:"beam-size",label:"Beam Size:",value:a.reasonConfig.beamSize,onChange:f,min:1,max:10,dataTestId:`agent-reasoning-beam-size-${t}`,"aria-label":"Beam size for beam search"}),
/* @__PURE__ */C("label",{className:"agent-panel-label",htmlFor:`agent-reasoning-answer-approach-${t}`,children:"Answer Approach:"}),
/* @__PURE__ */C(Ym,{options:s,value:l,onChange:b,inputId:`agent-reasoning-answer-approach-${t}`,"aria-label":"Select answer approach"})]}),d&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C(Jf,{name:"number-of-simulations",label:"Number of Simulations:",value:a.reasonConfig.nsim,onChange:y,min:1,max:10,dataTestId:`agent-reasoning-nsim-${t}`,"aria-label":"Number of simulations for MCTS/LATS"}),
/* @__PURE__ */C(Jf,{label:"Exploration Constant:",name:"exploration-constant",value:a.reasonConfig.explorationConstant,onChange:v,min:0,max:10,step:.01,dataTestId:`agent-reasoning-exploration-constant-${t}`,"aria-label":"Exploration constant for MCTS/LATS"})]})]})});Mv.displayName="WaldiezAgentReasoning";const Rv=[{label:"Keyword is found",value:"found"},{label:"Keyword is the last word",value:"ending"},{label:"Keyword is the first word",value:"starting"},{label:"Exact match",value:"exact"}],Dv=[{label:"None",value:"none"},{label:"Keyword",value:"keyword"},{label:"Method",value:"method"}],Ov=g(e=>{const{id:t}=e,{data:a,isDarkMode:o,terminationCriterionOptions:i,terminationTypeOptions:s,defaultTerminationMethodContent:l,onTerminationTypeChange:c,onTerminationMethodChange:d,onTerminationCriterionChange:u,onAddTerminationKeyword:p,onDeleteTerminationKeyword:g,onTerminationKeywordChange:m}=(e=>{const{data:t,onDataChange:a}=e,{isDark:o}=Zo(),i=n(()=>t.termination.methodContent&&t.termination.methodContent.length>1?t.termination.methodContent:'"""Custom termination message function."""\n# provide the function to check if the message is a termination message\n# complete the `is_termination_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return True if the message is a termination message, False otherwise.\n# example:\n# def is_termination_message(message):\n#    # type: (dict[str, any]) -> bool\n#    return message.get("content", "").lower() == "terminate"\n#\ndef is_termination_message(message):\n    """Complete the termination message function"""\n    ...\n',[t.termination.methodContent]),s=r(e=>{if(!e)return;const n=e.value;a({termination:{...t.termination,keywords:"keyword"===n?t.termination.keywords:[],methodContent:"method"===n?i:"",criterion:"keyword"===n?t.termination.criterion:"found",type:n}})},[t.termination,a,i]),l=r(e=>{e&&a({termination:{...t.termination,methodContent:e}})},[t.termination,a]),c=r(e=>{if(!e)return;const n=e.value;a({termination:{...t.termination,criterion:n}})},[t.termination,a]),d=r(e=>{a({termination:{...t.termination,keywords:[...t.termination.keywords,e]}})},[t.termination,a]),u=r(e=>{a({termination:{...t.termination,keywords:t.termination.keywords.filter(t=>t!==e)}})},[t.termination,a]),p=r((e,n)=>{a({termination:{...t.termination,keywords:t.termination.keywords.map(t=>t===e?n:t)}})},[t.termination,a]);return{data:t,terminationCriterionOptions:Rv,terminationTypeOptions:Dv,defaultTerminationMethodContent:i,isDarkMode:o,onTerminationTypeChange:s,onTerminationMethodChange:l,onTerminationCriterionChange:c,onAddTerminationKeyword:d,onDeleteTerminationKeyword:u,onTerminationKeywordChange:p}})(e),h=n(()=>({label:s.find(e=>e.value===a.termination.type)?.label??"None",value:a.termination?.type??"none"}),[a.termination.type,s]),f=n(()=>{const e=i.find(e=>e.value===a.termination.criterion);if(e)return{label:e.label,value:e.value}},[a.termination.criterion,i]),b=a.termination&&"method"===a.termination.type,y=a.termination&&"keyword"===a.termination.type;/* @__PURE__ */
return w("div",{className:"agent-panel agent-termination-panel",children:[
/* @__PURE__ */C("div",{className:"info",children:"After receiving each message, the agent will send a reply to the sender unless the termination condition is met. A termination condition can be a keyword or a custom method."}),
/* @__PURE__ */C("label",{htmlFor:`termination-type-${t}`,children:"Termination Type:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Ym,{options:s,value:h,onChange:c,inputId:`termination-type-${t}`,"aria-label":"Select termination type"}),b&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("label",{htmlFor:`termination-method-editor-${t}`,children:"Termination Method:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Yh,{"data-testid":`termination-method-editor-${t}`,darkMode:o,value:l,onChange:d,"aria-label":"Edit termination method code"})]}),y&&/* @__PURE__ */w("div",{className:"margin-top-10",children:[
/* @__PURE__ */C("label",{htmlFor:`termination-criterion-${t}`,children:"Termination Criterion:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Ym,{options:i,value:f,onChange:u,inputId:`termination-criterion-${t}`,"aria-label":"Select termination criterion"}),
/* @__PURE__ */C(xb,{viewLabel:"Termination Keywords:",viewLabelInfo:"List of keywords to check for termination.",items:a.termination?.keywords??[],itemsType:"termination-keyword",onItemAdded:p,onItemDeleted:g,onItemChange:m,"aria-label":"Termination keywords list"})]})]})});Ov.displayName="WaldiezAgentTermination";const Pv=g(e=>{const{id:t,flowId:n,data:a,tools:o,showNestedChatsTab:i,onDataChange:s,agentConnections:l,agents:c}=e,d=r(e=>{s({label:e.target.value})},[s]),u=r(e=>{s({maxConsecutiveAutoReply:e})},[s]),p=r(e=>{s({agentDefaultAutoReply:e.target.value})},[s]);/* @__PURE__ */
return C("div",{className:"agent-panel agent-user-panel margin-bottom-10","data-testid":`agent-user-panel-${t}`,children:/* @__PURE__ */w(Ib,{children:[
/* @__PURE__ */C(Ab,{label:"User",id:`wf-${n}-wa-${t}-user`,children:/* @__PURE__ */w("div",{className:"modal-tab-body",children:[
/* @__PURE__ */C(af,{label:"Name:",name:"agent-name",value:a.label,onChange:d,dataTestId:`agent-name-input-${t}`,"aria-label":"Agent name",className:"margin-top-5"}),
/* @__PURE__ */C(Jf,{name:"max-consecutive-auto-reply",label:"Max consecutive auto reply: ",value:a.maxConsecutiveAutoReply,onChange:u,min:0,max:1001,step:1,setNullOnUpper:!0,setNullOnLower:!1,onLowerLabel:"No auto reply",onUpperLabel:"Unset",labelInfo:"The maximum number of consecutive auto replies (i.e., when no code execution or llm-based reply is generated). Default is None (no limit provided). When set to 0, no auto reply will be generated.",dataTestId:`agent-max-consecutive-auto-reply-input-${t}`,"aria-label":"Maximum consecutive auto replies"}),
/* @__PURE__ */C("div",{className:"margin-bottom-20"}),
/* @__PURE__ */C("label",{htmlFor:`agent-default-auto-reply-input-${t}`,children:"Default Auto Reply:"}),
/* @__PURE__ */C("div",{className:"margin-top-5"}),
/* @__PURE__ */C(ef,{className:"w-full margin-top-5",value:a.agentDefaultAutoReply??"",onChange:p,"data-testid":`agent-default-auto-reply-input-${t}`,"aria-label":"Default auto reply message",placeholder:"Type your default auto reply message here..."})]})}),
/* @__PURE__ */C(Ab,{label:"Code Execution",id:`wf-${n}-wa-${t}-codeExecution`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(av,{id:t,data:a,tools:o,onDataChange:s})})}),
/* @__PURE__ */C(Ab,{label:"Tools",id:`wf-${n}-wa-${t}-tools`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(Tv,{id:t,data:a,agents:c,tools:o,skipExecutor:!1,onDataChange:s})})}),i&&/* @__PURE__ */C(Ab,{label:"Nested chat",id:`wf-${n}-wa-${t}-nested`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(gv,{id:t,data:a,onDataChange:s,agentConnections:l})})})]})})});Pv.displayName="WaldiezAgentUserTabs";const Lv=g(({id:e,data:t,flowId:a,isModalOpen:o,isDarkMode:r,filesToUpload:l,onDataChange:c,onAgentTypeChange:d,onFilesToUploadChange:u})=>{const p=al(e=>e.getAgentConnections),g=al(e=>e.getAgents),m=al(e=>e.getModels),h=al(e=>e.getTools),f=al(e=>e.getEdges),b=al(e=>e.onUpload),[y,v]=i(0);s(()=>{v(0)},[o]);const x=n(()=>({isManager:"group_manager"===t.agentType,isGroupMember:"group_manager"!==t.agentType&&!!t.parentId,isRagUser:"rag_user_proxy"===t.agentType,isReasoning:"reasoning"===t.agentType,isCaptain:"captain"===t.agentType,isDocAgent:"doc_agent"===t.agentType}),[t.agentType,t.parentId]),{isManager:A,isGroupMember:I,isRagUser:N,isReasoning:k,isCaptain:S,isDocAgent:T}=x,E=n(()=>{const n=p(e),a=m(),o=g(),r=h(),i=f(),s=o.filter(e=>"group_manager"===e.data.agentType),l=n.targets.edges.length+n.sources.edges.length,c=!I&&l>0;let d=!1,u=[],y=[];I&&(u=o.filter(e=>e.data.parentId===t.parentId),y=n.targets.edges.filter(e=>-1===u.findIndex(t=>t.id===e.target)),d=y.length>0);return{agentConnections:n,models:a,agents:o,edges:i,tools:r,groupManagers:s,showNestedChatsTab:c,showGroupNestedChatTab:d,groupMembers:u,connectionsOutsideGroup:y,uploadsEnabled:!!b}},[p,m,g,f,h,e,I,t.parentId,b]),{agentConnections:M,models:R,agents:D,edges:O,tools:P,groupManagers:L,showNestedChatsTab:B,showGroupNestedChatTab:G,connectionsOutsideGroup:z,uploadsEnabled:_}=E;return N?/* @__PURE__ */C(Ev,{id:e,flowId:a,isDarkMode:r,isModalOpen:o,agents:D,models:R,tools:P,agentConnections:M,showNestedChatsTab:B,uploadsEnabled:_,data:t,onDataChange:c,filesToUpload:l,onFilesToUploadChange:u}):"user_proxy"===t.agentType?/* @__PURE__ */C(Pv,{id:e,flowId:a,isDarkMode:r,isModalOpen:o,data:t,agents:D,tools:P,showNestedChatsTab:B,agentConnections:M,onDataChange:c}):/* @__PURE__ */w(Ib,{activeTabIndex:y,children:[
/* @__PURE__ */C(Ab,{label:"Agent",id:`wf-${a}-wa-${e}-basic`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(tv,{id:e,data:t,onDataChange:c,onAgentTypeChange:d})})}),k&&/* @__PURE__ */C(Ab,{label:"Reasoning",id:`wf-${a}-wa-${e}-reasoning`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(Mv,{id:e,data:t,onDataChange:c})})}),S&&/* @__PURE__ */C(Ab,{label:"Captain",id:`wf-${a}-wa-${e}-captain`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(nv,{id:e,flowId:a,data:t,onDataChange:c})})}),T&&/* @__PURE__ */C(Ab,{label:"Documents",id:`wf-${a}-wa-${e}-documents`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(ov,{id:e,flowId:a,data:t,onDataChange:c})})}),
/* @__PURE__ */C(Ab,{label:"Termination",id:`wf-${a}-wa-${e}-termination`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(Ov,{id:e,data:t,onDataChange:c})})}),
/* @__PURE__ */C(Ab,{label:"Code Execution",id:`wf-${a}-wa-${e}-codeExecution`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(av,{id:e,data:t,tools:P,onDataChange:c})})}),
/* @__PURE__ */C(Ab,{label:"Models",id:`wf-${a}-wa-${e}-models`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(Ky,{id:e,data:t,models:R,onDataChange:c})})}),!(T&&I)&&/* @__PURE__ */C(Ab,{label:"Tools",id:`wf-${a}-wa-${e}-tools`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(Tv,{id:e,data:t,agents:D,tools:P,skipExecutor:I,onDataChange:c})})}),B&&/* @__PURE__ */C(Ab,{label:"Nested chat",id:`wf-${a}-wa-${e}-nested`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(gv,{id:e,data:t,onDataChange:c,agentConnections:M})})}),I&&G&&/* @__PURE__ */C(Ab,{label:"Nested chat",id:`wf-${a}-wa-${e}-group-nested`,children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(cv,{id:e,flowId:a,darkMode:r,data:t,agentConnections:M,edges:z,onDataChange:c})})}),!A&&L.length>0&&/* @__PURE__ */C(Ab,{id:`wf-${a}-wa-${e}-group`,label:"Group",children:/* @__PURE__ */C("div",{className:"modal-tab-body",children:/* @__PURE__ */C(iv,{id:e,data:t,agents:D,edges:O,darkMode:r,onDataChange:c})})})]})});Lv.displayName="WaldiezNodeAgentModalTabs";const Bv=(e,t,n,a,o)=>{const r=n.toLowerCase(),i=n.charAt(0).toUpperCase()+n.slice(1);/* @__PURE__ */
return w("div",{className:"modal-header-import-export",children:[
/* @__PURE__ */C("input",{title:`Import ${i}`,id:`file-upload-${r}-${e}-${t}`,"data-testid":`file-upload-${r}-${e}-${t}`,type:"file",accept:`.waldiez${i}`,onChange:a,className:"hidden"}),
/* @__PURE__ */C("label",{htmlFor:`file-upload-${r}-${e}-${t}`,className:"modal-header-import-button file-label",title:`Import ${i}`,children:/* @__PURE__ */C(fe,{})}),
/* @__PURE__ */C("div",{role:"button",className:"modal-header-export-button",onClick:o,title:`Export ${i}`,"data-testid":`export-${r}-${e}-${t}`,children:/* @__PURE__ */C(be,{})})]})},Gv=g(e=>{const{id:t,data:a,isOpen:o,onClose:l}=e,{flowId:c,isDirty:d,isDarkMode:u,agentData:p,filesToUpload:g,onDataChange:m,onAgentTypeChange:h,onFilesToUploadChange:f,onImport:b,onExport:y,onSave:v,onSaveAndClose:x,onCancel:A}=((e,t,n,a)=>{const o=al(e=>e.flowId),l=al(e=>e.getAgentById),c=al(e=>e.updateAgentData),d=al(e=>e.updateEdgeData),u=al(e=>e.exportAgent),p=al(e=>e.importAgent),g=al(e=>e.getAgentConnections),m=al(e=>e.removeGroupMember),h=al(e=>e.addGroupMember),f=al(e=>e.updateEdgePath),b=al(e=>e.onUpload),y=al(e=>e.onFlowChanged),[v,C]=i({...n}),[w,x]=i([]),[A,I]=i(!1),{isDark:N}=Zo();s(()=>{I(!1),x([])},[t]);const k=r(t=>{const n=document.getElementById(`flow-${o}-agent-description-${e}`);n&&(n.value=t)},[o,e]),S=r(()=>{const t=l(e);if(!t)return k(v.description),void I(!1);t.data&&(C({...t.data}),I(!1)),k(t.data.description),y()},[e,v.description,l,k,y]),T=r(()=>{const t=g(e,{sourcesOnly:!1,targetsOnly:!1}),a=t.sources.edges,o=t.targets.edges,r=v.label,i=n.label;a.forEach(e=>{const t=` => ${i}`,n=` => ${r}`,a=e.data?.label.indexOf(t);if("number"==typeof a&&a>-1){const a=e.data?.label.replace(t,n);d(e.id,{...e.data,label:a})}}),o.forEach(e=>{const t=`${i} => `,n=`${r} => `,a=e.data?.label.indexOf(t);if("number"==typeof a&&a>-1){const a=e.data?.label.replace(t,n);d(e.id,{...e.data,label:a})}})},[e,v.label,n.label,g,d]),E=r(t=>{g(e,{targetsOnly:!0}).targets.edges.forEach(e=>{f(e.id,t)})},[e,g,f]),M=r(e=>{const t=e.agentType;E(t),"rag_user_proxy"!==t||e.retrieveConfig?"user_proxy"===t&&e.retrieveConfig&&delete e.retrieveConfig:e.retrieveConfig=Fn},[E]),R=r(t=>{const a=n.parentId,o=t.parentId;a!==o&&(a&&m(a,e),o&&h(o,e))},[n.parentId,e,m,h]),D=r(t=>{t.agentType!==n.agentType&&M(t),R(t),c(e,t),n.label!==t.label&&T(),x([]),S()},[n,e,M,R,c,T,S]),O=r((e,t)=>{const n=[...v.retrieveConfig.docsPath];for(let a=0;a<w.length;a++){const e=n.indexOf(`file:///${w[a]?.name}`);e>-1&&("string"==typeof t[a]?n[e]=t[a]:n.splice(e,1))}e.retrieveConfig.docsPath=n,e.retrieveConfig.docsPath=[...n].filter(e=>"string"==typeof e&&e.length>0&&!e.startsWith("file:///")),x([]),D(e)},[v,w,D]),P=r(e=>{if(w.length>0&&b){const t=b(w);Yt(t)?t.then(t=>{O(e,t)}).catch(t=>{O(e,[])}):O(e,t)}else{const t=v.retrieveConfig.docsPath;e.retrieveConfig.docsPath=t.filter(e=>"string"==typeof e&&e.length>0&&!e.startsWith("file:///")),x([]),D(e)}},[v,w,b,D,O]),L=r(()=>{const e=v;e.agentType="rag_user_proxy",e.retrieveConfig||(e.retrieveConfig=Fn),e.retrieveConfig.docsPath=[],C({...v,...e})},[v]),B=r(()=>{const e=v;e.agentType="user_proxy",e.retrieveConfig&&delete e.retrieveConfig,C({...v,...e})},[v]),G=r(()=>{const e={...v};"rag_user_proxy"===v.agentType?P(e):D(e)},[v,P,D]),z=r(()=>{G(),a()},[G,a]),_=r(e=>{const t=!Py({...v,...e},n);C(t=>({...t,...e})),I(t)},[v,n]),V=r((t,n)=>{const a=p(n,e,!0,t?.position,!1);_({...a.data})},[e,p,_]),H=r(t=>{Jt(t,l.bind(null,e),V)},[e,l,V]),W=r(async()=>{await Xt(v.label,"agent",u.bind(null,e,!0))},[v.label,e,u]),F=r(()=>{const t=l(e);if(!t)return I(!1),void a();t.data&&C({...t.data}),I(!1),a()},[e,l,a]),j=r(e=>{"rag_user_proxy"===e?L():B(),I(n.agentType!==e)},[n.agentType,L,B]),U=r(e=>{const t=!Py(e,w);x(e),I(t)},[w]);return{flowId:o,filesToUpload:w,agentData:v,isDirty:A,isDarkMode:N,onDataChange:_,onAgentTypeChange:j,onFilesToUploadChange:U,onImport:H,onExport:W,onSave:G,onSaveAndClose:z,onCancel:F}})(t,o,a,l),I=n(()=>"group_manager"!==a.agentType?Bv(c,t,"agent",b,y):void 0,[a.agentType,c,t,b,y]),N=n(()=>"group_manager"===a.agentType?p.groupName:p.label,[a.agentType,p]),k=n(()=>"group_manager"===a.agentType?/* @__PURE__ */C(ev,{isModalOpen:o,flowId:c,id:t,data:p,onDataChange:m,isDarkMode:u}):/* @__PURE__ */C(Lv,{id:t,flowId:c,data:p,isDarkMode:u,onDataChange:m,isModalOpen:o,onAgentTypeChange:h,filesToUpload:g,onFilesToUploadChange:f}),[a.agentType,o,c,t,p,m,u,h,g,f]);/* @__PURE__ */
return w(hf,{flowId:c,title:N,isOpen:o,onClose:A,onSaveAndClose:x,beforeTitle:I,dataTestId:`wf-${c}-agent-modal-${t}`,hasUnsavedChanges:d,preventCloseIfUnsavedChanges:!0,children:[
/* @__PURE__ */C("div",{className:"modal-body",children:k}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{className:"secondary",onClick:A,"data-testid":`cancel-agent-data-${t}`,type:"button",title:"Cancel","aria-label":"Cancel",children:"Cancel"}),
/* @__PURE__ */w("div",{className:"flex-row",children:[
/* @__PURE__ */C("button",{type:"button",title:"Save & Close",className:"save margin-right-10",onClick:x,"data-testid":`submit-and-close-agent-data-${t}`,disabled:!d,"aria-label":"Save and Close",children:"Save & Close"}),
/* @__PURE__ */C("button",{type:"button",title:d?"Save":"No changes to save",className:"primary",onClick:v,"data-testid":`submit-agent-data-${t}`,disabled:!d,"aria-label":"Save",children:"Save"})]})]})]})});Gv.displayName="WaldiezNodeAgentModal";const zv={minWidth:490,minHeight:330},_v={minWidth:130,minHeight:120};function Vv(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11.445 20.913a1.665 1.665 0 0 1 -1.12 -1.23a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.31 .318 1.643 1.79 .997 2.694"},child:[]},{tag:"path",attr:{d:"M15 19l2 2l4 -4"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(e)}const Hv=[{label:"OpenAI",value:"openai"},{label:"Claude",value:"anthropic"},{label:"NIM",value:"nim"},{label:"Gemini",value:"google"},{label:"Cohere",value:"cohere"},{label:"DeepSeek",value:"deepseek"},{label:"Mistral",value:"mistral"},{label:"Azure",value:"azure"},{label:"Groq",value:"groq"},{label:"Together",value:"together"},{label:"Bedrock",value:"bedrock"},{label:"Other",value:"other"}],Wv={openai:"OPENAI_API_KEY",azure:"AZURE_API_KEY",bedrock:"BEDROCK_API_KEY",deepseek:"DEEPSEEK_API_KEY",google:"GOOGLE_GEMINI_API_KEY",anthropic:"ANTHROPIC_API_KEY",cohere:"COHERE_API_KEY",mistral:"MISTRAL_API_KEY",groq:"GROQ_API_KEY",together:"TOGETHER_API_KEY",nim:"NIM_API_KEY",other:"OPENAI_API_KEY"},Fv={openai:"https://platform.openai.com/docs/models",anthropic:"https://docs.anthropic.com/en/docs/about-claude/models/all-models",google:"https://ai.google.dev/gemini-api/docs/models",deepseek:"https://api-docs.deepseek.com/quick_start/pricing",cohere:"https://docs.cohere.com/v2/docs/models",together:"https://docs.together.ai/docs/serverless-models",nim:"https://docs.nvidia.com/nim/large-language-models/latest/models.html",mistral:"https://docs.mistral.ai/getting-started/models/models_overview/",azure:"https://learn.microsoft.com/en-us/azure/cognitive-services/openai/concepts/models",bedrock:"https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html",groq:"",other:""},jv={openai:[{label:"GPT-5",value:"gpt-5"},{label:"GPT-5 Mini",value:"gpt-5-mini"},{label:"GPT-5 Nano",value:"gpt-5-nano"},{label:"GPT-4.1",value:"gpt-4.1"},{label:"GPT-4",value:"gpt-4"},{label:"GPT-4 Turbo",value:"gpt-4-turbo"},{label:"GPT-3.5 Turbo",value:"gpt-3.5-turbo"},{label:"GPT-4o",value:"gpt-4o"},{label:"GPT-4o Mini",value:"gpt-4o-mini"},{label:"GPT Image 1",value:"gpt-image-1"},{label:"o4-mini",value:"o4-mini"},{label:"o3",value:"o3"}],anthropic:[{label:"Claude Sonnet 4.5",value:"claude-sonnet-4-5-20250929"},{label:"Claude Opus 4.1",value:"claude-opus-4-1-20250805"},{label:"Claude Sonnet 4",value:"claude-sonnet-4-20250514"},{label:"Claude Opus 4",value:"claude-opus-4-20250514"},{label:"Claude Sonnet 3.7",value:"claude-3-7-sonnet-20250219"},{label:"Claude Haiku 3.5",value:"claude-3-5-haiku-20241022"},{label:"Claude Sonnet 3.5 v2",value:"claude-3-5-sonnet-20241022"},{label:"Claude Sonnet 3.5",value:"claude-3-5-sonnet-20240620"},{label:"Claude Opus 3",value:"claude-3-opus-20240229"},{label:"Claude Sonnet 3",value:"claude-3-sonnet-20240229"},{label:"Claude Haiku3 ",value:"claude-3-haiku-20240307"}],google:[{label:"Gemini 2.5 Flash Preview 04-17",value:"gemini-2.5-flash-preview-04-17"},{label:"Gemini 2.5 Pro Preview",value:"gemini-2.5-pro-preview-03-25"},{label:"Gemini 2.0 Flash",value:"gemini-2.0-flash"},{label:"Gemini 2.0 Flash-Lite",value:"gemini-2.0-flash-lite"},{label:"Gemini 1.5 Flash",value:"gemini-1.5-flash"},{label:"Gemini 1.5 Pro",value:"gemini-1.5-pro"}],deepseek:[{label:"DeepSeek-V3",value:"deepseek-chat"},{label:"DeepSeek-R1",value:"deepseek-reasoner"}],cohere:[{label:"Command-R",value:"command-r"},{label:"Command-R+",value:"command-r-plus"},{label:"Command Light Nightly",value:"command-light-nightly"},{label:"Command A",value:"command-a-03-2025"},{label:"Command Nightly",value:"command-nightly"},{label:"Command R7B",value:"command-r7b-12-2024"}],together:[{label:"Llama 4 Maverick",value:"meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8"},{label:"Llama 4 Scout",value:"meta-llama/Llama-4-Scout-17B-16E-Instruct"},{label:"DeepSeek-R1",value:"deepseek-ai/DeepSeek-R1"},{label:"DeepSeek-R1 Distill Llama 70B",value:"deepseek-ai/DeepSeek-R1-Distill-Llama-70B"},{label:"DeepSeek-V3",value:"deepseek-ai/DeepSeek-V3"},{label:"Llama 3.3 70B Instruct Turbo",value:"meta-llama/Llama-3.3-70B-Instruct-Turbo"},{label:"Mistral Small 3 Instruct",value:"mistral-ai/Mistral-Small-3-Instruct"},{label:"Mistral (7B) Instruct v0.3",value:"mistralai/Mistral-7B-Instruct-v0.3"}],nim:[{label:"GPT-OSS-20B",value:"openai/gpt-oss-20b"},{label:"GPT-OSS-120B",value:"openai/gpt-oss-120b"},{label:"Meta Llama 3 8B Instruct",value:"meta/llama3-8b-instruct"},{label:"Meta Llama 3 70B Instruct",value:"meta/llama3-70b-instruct"},{label:"Llama 3.3 70B Instruct",value:"meta/llama-3.3-70b-instruct"},{label:"Llama 3.1 Nemotron Ultra 253B v1",value:"nvidia/llama-3.1-nemotron-ultra-253b-v1"},{label:"Llama 3.1 Nemotron Super 49B v1",value:"nvidia/llama-3.3-nemotron-super-49b-v1"},{label:"Llama 3.1 Nemotron Nano 8B v1",value:"nvidia/llama-3.1-nemotron-nano-8b-v1"}],mistral:[{label:"Codestral",value:"codestral-latest"},{label:"Mistral Large",value:"mistral-large-latest"},{label:"Pixtral Large",value:"pixtral-large-latest"},{label:"Mistral Saba",value:"mistral-saba-latest"},{label:"Ministral 3B",value:"ministral-3b-latest"},{label:"Ministral 8B",value:"ministral-8b-latest"}],bedrock:[],azure:[],groq:[],other:[]},Uv={async signRequest(e,t,n,a,o,r,i,s={},l=""){const{host:c,path:d}=this.parseUrl(t),u=(/* @__PURE__ */new Date).toISOString().replace(/[:-]|\.\d{3}/g,""),p=u.slice(0,8),g=await Wt(l),m={...s,host:c,"x-amz-date":u,"x-amz-content-sha256":g};i&&(m["x-amz-security-token"]=i);const h=this.buildCanonicalHeaders(m),f=this.buildSignedHeadersList(m),b=[e,d,"",h,f,g].join("\n"),y="AWS4-HMAC-SHA256",v=`${p}/${n}/${a}/aws4_request`,C=[y,u,v,await Wt(b)].join("\n"),w=await this.getSignatureKey(r,p,n,a),x=await Ft(w,C,"hex");return m.Authorization=`${y} Credential=${o}/${v}, SignedHeaders=${f}, Signature=${x}`,m},parseUrl(e){try{const t=new URL(e);return{host:t.host,path:t.pathname}}catch(t){throw new Error(`Invalid URL: ${e}`)}},buildCanonicalHeaders:e=>Object.keys(e).sort().map(t=>`${t.toLowerCase()}:${e[t]?.trim()}\n`).join(""),buildSignedHeadersList:e=>Object.keys(e).sort().map(e=>e.toLowerCase()).join(";"),async getSignatureKey(e,t,n,a){const o=await Ft("AWS4"+e,t),r=await Ft(o,n),i=await Ft(r,a);return await Ft(i,"aws4_request")}},Xv={openai:"https://api.openai.com/v1",google:"https://generativelanguage.googleapis.com/v1beta",anthropic:"https://api.anthropic.com/v1",cohere:"https://api.cohere.com/v1",deepseek:"https://api.deepseek.com",mistral:"https://api.mistral.ai/v1",groq:"https://api.groq.com/openai/v1",together:"https://api.together.xyz/v1",nim:"https://integrate.api.nvidia.com/v1",bedrock:"https://bedrock.{region}.amazonaws.com",azure:"",other:""},Zv={openai:"/models",azure:"/openai/deployments",deepseek:"/models",google:"/models",anthropic:"/models",cohere:"/models",mistral:"/models",groq:"/models",together:"/models",nim:"/models",other:"/v1/models",bedrock:""},Jv=["openai","google","groq","anthropic","cohere","mistral","nim","other"],Yv=e=>{const{success:t,message:n,details:a}=(e=>{if(["azure","other"].includes(e.apiType)&&!e.baseUrl)return{success:!1,message:"Missing base URL"};let t=e.baseUrl||Xv[e.apiType];return["azure","other"].includes(e.apiType)&&e.baseUrl&&(t=e.baseUrl),t.trim()?{success:!0,message:"Model validated successfully",details:t}:{success:!1,message:"Missing base URL"}})(e);return t?e.apiKey?e.label.trim()?"azure"!==e.apiType||e.apiVersion?{success:!0,message:n,details:a}:{success:!1,message:"Missing Azure API version"}:{success:!1,message:"Missing model name"}:{success:!1,message:"Missing API key"}:{success:t,message:n,details:a}},qv=(e,t)=>{let n=t.replace(/\/$/,"")+Zv[e.apiType];const a=Object.fromEntries(Object.entries(e.defaultHeaders||{}).map(([e,t])=>[e,String(t)]));return"azure"===e.apiType?(n+=`?api-version=${e.apiVersion}`,a["api-key"]=e.apiKey):e.apiKey&&(a.Authorization=`Bearer ${e.apiKey}`),{url:n,headers:a}},$v=async(e,t,n)=>{try{const a=await tC(e,{method:"GET",headers:t});if(!a.ok)return{success:!1,message:"Azure API error"};const o=await a.json();return Array.isArray(o.data)&&o.data.some(e=>e.id===n)?{success:!0,message:"Model validated successfully"}:{success:!1,message:"Model not found"}}catch(a){return aC(a)}},Qv=async(e,t,n)=>{const a=oC(n);if(!a.success)return a;const{region:o,accessKey:r,secretKey:i,sessionToken:s}=n,l="bedrock",c=`https://${l}.${o}.amazonaws.com/foundation-models/${encodeURIComponent(t)}`;try{const n=await Uv.signRequest("GET",c,o,l,r,i,s,e),a=await tC(c,{method:"GET",headers:n});return await rC(a,t,o)}catch(d){return aC(d)}},Kv=async(e,t,n)=>{try{const a=`${e}/${encodeURIComponent(n)}`,o=await tC(a,{method:"GET",headers:t});return o.ok?{success:!0,message:"Model validated successfully"}:nC(o)}catch(a){return aC(a)}},eC=async(e,t,n)=>{try{const o=await tC(e,{method:"GET",headers:t});if(!o.ok)return nC(o);let r={data:[]};try{r=await o.json()}catch(a){return{success:!1,message:"Could not fetch model",details:a instanceof Error?a.message:String(a)}}return Array.isArray(r.data)&&r.data.some(e=>e.id===n)?{success:!0,message:"Model validated successfully"}:{success:!1,message:"Model not found"}}catch(a){return aC(a)}},tC=async(e,t)=>{const n=new AbortController,a=setTimeout(()=>n.abort(),4e3);try{return await fetch(e,{...t,signal:n.signal})}finally{clearTimeout(a)}},nC=async e=>{try{const t=await e.json().catch(()=>({})),n=t?.error?.message||e.statusText||"Unknown error";let a="API error";return 404===e.status&&(a="Model not found"),{success:!1,message:a,details:n}}catch(t){return aC(t)}},aC=e=>({success:!1,message:e instanceof DOMException&&"AbortError"===e.name?"Could not get a response from the model's endpoint":"Unknown error",details:e instanceof Error?e.message:String(e)}),oC=e=>{if(!e)return{success:!1,message:"Model fetch failed",details:"Missing AWS configuration"};const{region:t,accessKey:n,secretKey:a}=e;return t&&n&&a?{success:!0,message:"Model validated successfully"}:{success:!1,message:"Model fetch failed",details:"Missing required AWS credentials (region, accessKey, or secretKey)"}},rC=async(e,t,n)=>{if(e.ok)return{success:!0,message:"Model validated successfully",details:`Model ${t} is available in region ${n}`};if(404===e.status)return{success:!1,message:"Model not found",details:`Model ${t} not found in region ${n}`};if(403===e.status)return{success:!1,message:"API error",details:`Not authorized to access model ${t} in region ${n}`};try{const t=await e.text();return{success:!1,message:"API error",details:`Error (${e.status}): ${t}`}}catch(a){return{success:!1,message:"API error",details:`Error (${e.status})`}}},iC=(e,t)=>{const a=al(e=>e.getModelById),o=al(e=>e.updateModelData),l=al(e=>e.cloneModel),c=al(e=>e.deleteModel),d=al(e=>e.importModel),u=al(e=>e.exportModel),p=al(e=>e.onFlowChanged),g=al(e=>e.flowId),[m,h]=i(Go[t.apiType]||""),[f,b]=i(!1),[y,v]=i(t),[C,w]=i(!1);s(()=>{v(t),h(Go[t.apiType]||""),w(!1)},[t]);const x=r(()=>{b(!0),w(!1)},[]),A=r(()=>{c(e),w(!1),p()},[c,e,p]),I=r(()=>{l(e),w(!1),p()},[l,e,p]),N=r((n,a)=>{const o=d(a,e,n?.position,!1);v(o.data),w(!Py(t,o.data))},[d,e,t]),k=r(t=>{Jt(t,(e=>a(e)).bind(null,e),N)},[a,e,N]),S=r(async()=>{await Xt(t.label,"model",()=>u(e,!0))},[t.label,u,e]),T=r(e=>{v(n=>{const a={...n,...e};return w(!Py(a,t)),a})},[t]),E=r(()=>{h(Go[t.apiType]||""),v(t),w(!1),b(!1)},[t]),M=r(()=>{(async e=>{const t=Yv(e);if(!t.success||!t.details)return t;const{url:n,headers:a}=qv(e,t.details);return"azure"===e.apiType?$v(n,a,e.label.trim()):"bedrock"===e.apiType?Qv(a,e.label.trim(),e.aws):Jv.includes(e.apiType)?Kv(n,a,e.label.trim()):eC(n,a,e.label.trim())})(y).then(e=>{e.success?Ms({flowId:g,message:e.message,level:"success",details:null,duration:3e3,withCloseButton:!1}):Ms({flowId:g,message:e.message,level:"error",details:e.details,duration:void 0,withCloseButton:!0})}).catch(e=>{const t=e instanceof Error?e.message:String(e);Ms({flowId:g,message:"Error validating model",level:"error",details:t,duration:void 0,withCloseButton:!0})})},[y,g]),R=r(()=>{const t=Go[y.apiType]||"";h(t),o(e,y);const n=a(e);n?.data&&v(n.data),w(!1),p()},[y,o,e,a,p]),D=r(()=>{R(),b(!1)},[R]);return n(()=>({flowId:g,isOpen:f,isDirty:C,logo:m,modelData:y,setLogo:h,onOpen:x,onImport:k,onExport:S,onDataChange:T,onDelete:A,onClone:I,onSave:R,onSaveAndClose:D,onCancel:E,onCheck:M}),[g,f,C,m,y,h,x,k,S,T,A,I,R,D,E,M])},sC=g(e=>{const{data:t}=e,{temperature:n,topP:a,maxTokens:o,defaultHeaders:i,tags:s}=t,{onTemperatureChange:l,onTopPChange:c,onMaxTokensChange:d,onUpdateHeaders:u,onDeleteHeader:p,onAddHeader:g,onAddTag:m,onUpdateTag:h,onDeleteTag:f}=(e=>{const{data:t,onDataChange:n}=e;return{onTemperatureChange:r(e=>{let t=null;e>=0&&(t=e),n({temperature:t})},[n]),onTopPChange:r(e=>{let t=null;e>=0&&(t=e),n({topP:t})},[n]),onMaxTokensChange:r(e=>{let t=null;e>=0&&(t=e),n({maxTokens:t})},[n]),onUpdateHeaders:r(e=>{n({defaultHeaders:e})},[n]),onDeleteHeader:r(e=>{const a={...t.defaultHeaders};delete a[e],n({defaultHeaders:a})},[t.defaultHeaders,n]),onAddHeader:r((e,a)=>{const o={...t.defaultHeaders};o[e]=a,n({defaultHeaders:o})},[t.defaultHeaders,n]),onAddTag:r(e=>{const{tags:a}=t;if(!a.includes(e)){const t=[...a,e];n({tags:t})}},[t,n]),onUpdateTag:r((e,a)=>{const{tags:o}=t,r=o.indexOf(e);if(r>=0){const e=[...o];e[r]=a,n({tags:e})}},[t,n]),onDeleteTag:r(e=>{const a=[...t.tags],o=a.indexOf(e);o>=0&&(a.splice(o,1),n({tags:a}))},[t.tags,n])}})(e);/* @__PURE__ */
return w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C(Jf,{name:"temperature",label:"Temperature:",value:null!==n?n:-.001,onChange:l,min:-.001,max:1,step:.001,setNullOnLower:!0,onLowerLabel:"Unset",dataTestId:"model-modal-temperature"}),
/* @__PURE__ */C(Jf,{name:"top-p",label:"Top P:",labelInfo:"Top P value for sampling (it is recommended to use either temperature or top P, not both)",value:null!==a?a:-.001,onChange:c,min:-.001,max:1,step:.001,setNullOnLower:!0,onLowerLabel:"Unset",dataTestId:"model-modal-top-p"}),
/* @__PURE__ */C(Jf,{name:"max-tokens",label:"Max Tokens:",value:null!==o?o:0,onChange:d,min:0,max:5e4,step:1,forceInt:!0,setNullOnLower:!0,onLowerLabel:"No limit",dataTestId:"model-modal-max-tokens"}),
/* @__PURE__ */C(Qh,{viewLabel:"Default Headers:",viewLabelInfo:"Optional headers to be included in every request",items:i,itemsType:"model-header",onUpdate:u,onDelete:p,onAdd:g}),
/* @__PURE__ */C(xb,{viewLabel:"Tags:",items:s,itemsType:"tag",placeholder:"Tag",onItemAdded:m,onItemChange:h,onItemDeleted:f})]})}),lC=g(({data:e,onDataChange:t})=>{const n=r(n=>{t({aws:{...e.aws,accessKey:n.target.value}})},[e.aws,t]),a=r(n=>{t({aws:{...e.aws,secretKey:n.target.value}})},[e.aws,t]),o=r(n=>{t({aws:{...e.aws,region:n.target.value}})},[e.aws,t]),i=r(n=>{t({aws:{...e.aws,profileName:n.target.value}})},[e.aws,t]),s=r(n=>{t({aws:{...e.aws,sessionToken:n.target.value}})},[e.aws,t]);/* @__PURE__ */
return w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C(af,{value:e.aws?.accessKey||"",name:"aws-access-key",label:"AWS Access Key:",placeholder:"AWS Access Key",onChange:n}),
/* @__PURE__ */C(af,{value:e.aws?.secretKey||"",name:"aws-secret-key",label:"AWS Secret Key:",placeholder:"AWS Secret Key",onChange:a}),
/* @__PURE__ */C(af,{value:e.aws?.region||"",name:"aws-region",label:"AWS Region:",placeholder:"AWS Region",onChange:o}),
/* @__PURE__ */C(af,{value:e.aws?.profileName||"",name:"aws-profile-name",label:"AWS Profile Name:",placeholder:"AWS Profile Name",onChange:i}),
/* @__PURE__ */C(af,{value:e.aws?.sessionToken||"",name:"aws-session-token",label:"AWS Session Token:",placeholder:"AWS Session Token",onChange:s})]})}),cC=g(e=>{const{ref:t,onChange:a}=e,o=n(()=>Object.entries(jv).filter(([e,t])=>t.length>0).map(([e,t])=>({label:e,options:t.map(t=>({label:t.label,value:t.value,apiType:e}))})),[]);/* @__PURE__ */
return w("div",{className:"margin-bottom-5",children:[
/* @__PURE__ */C("label",{htmlFor:"predefined-models-select",children:"Predefined models:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Ym,{ref:t,inputId:"predefined-models-select",options:o,onChange:e=>{a(e?{label:e.value,apiType:e.apiType}:void 0)},placeholder:"Select a model...",formatGroupLabel:e=>{const t=Go[e.label];/* @__PURE__ */
return w("div",{className:`model-logo ${e.label} flex items-center`,children:[
/* @__PURE__ */C("img",{src:t,alt:`${e.label} logo`,className:"w-[20px] h-[20px] mr-[10px] bg-transparent"}),
/* @__PURE__ */C("strong",{children:e.label})]})},isSearchable:!0,isClearable:!0,"aria-label":"Predefined models",className:"w-full"})]})});cC.displayName="ModelSelector";const dC=g(e=>{const{id:t,data:a}=e,{label:s,apiType:l,apiKey:c,baseUrl:d}=a,{apiTypeLabel:u,apiKeyInfo:p,apiKeyEnv:m,urlIsEditable:h,apiKeyVisible:f,apiTypeOptions:b,readOnlyBaseUrl:y,predefinedModelsSelectRef:v,onDataChange:x,onApiKeyVisibleChange:A,onLabelChange:I,onApiTypeChange:N,onApiKeyChange:k,onBaseUrlChange:S}=(e=>{const{data:t,onDataChange:a,onLogoChange:s}=e,{apiType:l}=t,c=o(null),[d,u]=i(!1),p=r(e=>Xv[e],[]),g=r(e=>["other","azure"].includes(e),[]),m=r(e=>{a({label:e.target.value})},[a]),h=r(e=>{a({description:e.target.value})},[a]),f=r(e=>{e&&(c.current?.clearValue(),a({apiType:e.value}),s(Go[e.value]))},[a,s]),b=r(e=>{a({apiKey:e.target.value})},[a]),y=r(e=>{a({baseUrl:e.target.value})},[a]),v=r(()=>{u(e=>!e)},[]),C=n(()=>Wv[l],[l]),w=n(()=>`API key to use if the '${C}' environment variable is not set`,[C]),x=n(()=>{return"anthropic"===(e=l)?"Claude":"deepseek"===e?"DeepSeek":"google"===e?"Gemini":"openai"===e?"OpenAI":"nim"===e?"NIM":e&&0!==e.length&&"other"!==e?e[0].toUpperCase()+e.slice(1):"Other";var e},[l]),A=n(()=>p(l),[p,l]),I=n(()=>g(l),[g,l]);return{apiTypeOptions:Hv,apiKeyVisible:d,apiKeyEnv:C,apiKeyInfo:w,apiTypeLabel:x,readOnlyBaseUrl:A,urlIsEditable:I,predefinedModelsSelectRef:c,onDataChange:a,onLabelChange:m,onDescriptionChange:h,onApiTypeChange:f,onApiKeyChange:b,onBaseUrlChange:y,onApiKeyVisibleChange:v}})(e),T=n(()=>e=>{if(!e)return;const{label:t,apiType:n}=e;x({label:t,apiType:n})},[x]),E=n(()=>/* @__PURE__ */C("div",{className:"flex flex-col",children:Object.entries(Fv).filter(([e,t])=>t.length>0).map(([e,t])=>/* @__PURE__ */w("div",{className:"flex-row margin-bottom-5",children:[
/* @__PURE__ */w("span",{className:"flex-shrink-0",children:[Nn(e)," models:Â Â "]}),
/* @__PURE__ */C("a",{href:t,target:"_blank",rel:"noreferrer",className:"text-truncate",children:t})]},e))}),[]),M=g(e=>{const{innerProps:t,data:n}=e;/* @__PURE__ */
return w("div",{...t,className:"flex margin-10",children:[
/* @__PURE__ */C("div",{className:`margin-right-10 margin-left-5 model-logo ${n.value}`,children:/* @__PURE__ */C("img",{src:Go[n.value],alt:n.label,style:{width:20,height:20}})}),
/* @__PURE__ */C("span",{className:"label",children:n.label})]})}),R=`model-name-input-${t}`,D=`model-api-type-select-${t}`,O=`model-api-key-input-${t}`,P=`model-base-url-input-${t}`;/* @__PURE__ */
return w("div",{className:"flex flex-col",children:[
/* @__PURE__ */w("div",{className:"info margin-bottom-10",children:["You can select one of the predefined models from the list below or manually enter the model name and type. In the latter case, make sure that the model's name is a valid name (based on the provider). You can use the ",
/* @__PURE__ */C("strong",{children:"Test"})," button to check if the model parameters are correct, but model credits might be used for this test (depending on the provider). ",
/* @__PURE__ */C("br",{}),
/* @__PURE__ */C("strong",{children:"Note"}),' that if testing the model fails with a "Failed to load" message (for example a NIM model), it doesn\'t mean that the configuration is not correct (it could be a browser/CORS issue).',
/* @__PURE__ */C(qh,{title:"Useful Links",expanded:!1,fullWidth:!0,className:"bg-transparent color-info no-padding margin-top-5 margin-bottom-5",contentClassName:"background-info",children:E})]}),
/* @__PURE__ */C(cC,{ref:v,onChange:T}),
/* @__PURE__ */w("div",{className:"margin-top-10",children:[
/* @__PURE__ */C("label",{htmlFor:R,children:"Name:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C("input",{id:R,type:"text",value:s||"",onChange:I,title:"Model name","data-testid":"model-name-input",className:"w-full","aria-label":"Model name"})]}),
/* @__PURE__ */w("div",{className:"margin-top-0",children:[
/* @__PURE__ */C($h,{htmlFor:`model-type-${t}`,label:"Model Type:",info:"API type to use for the model. Use 'other' for custom openai compatible models"}),
/* @__PURE__ */C("label",{htmlFor:D,className:"hidden",children:"Model Type:"}),
/* @__PURE__ */C(Ym,{options:b,value:{label:u,value:l},components:{Option:M},onChange:N,inputId:D,"aria-label":"Model API type",className:"w-full"})]}),"bedrock"!==l&&/* @__PURE__ */w("div",{className:"margin-top-0",children:[
/* @__PURE__ */C($h,{label:"API Key:",info:p,htmlFor:O}),
/* @__PURE__ */w("div",{className:"flex w-full",children:[
/* @__PURE__ */C("input",{id:O,className:"flex-1 margin-right-10",type:f?"text":"password",value:c||"",placeholder:m,onChange:k,"data-testid":"model-api-key-input","aria-label":"API key"}),
/* @__PURE__ */C("button",{type:"button",className:"toggle-visibility-btn",onClick:A,title:f?"Hide API key":"Show API key","aria-label":f?"Hide API key":"Show API key","data-testid":`visibility-apiKey-model-${t}`,children:/* @__PURE__ */C(f?ae:oe,{})})]})]}),
/* @__PURE__ */w("div",{className:"margin-top-0",children:[
/* @__PURE__ */C($h,{label:"Base URL:",info:"Model's base URL (including version)",htmlFor:P}),/* @__PURE__ */C("input",h?{id:P,title:"Model base URL",type:"text",value:d||"",onChange:S,"data-testid":"model-base-url-input",className:"w-full","aria-label":"Base URL"}:{id:P,type:"text",title:"Model base URL",readOnly:!0,disabled:!0,value:y,"data-testid":"model-base-url-input-read-only",className:"w-full","aria-label":"Base URL (read-only)"})]})]})});dC.displayName="WaldiezNodeModelModalBasicTab";const uC=g(e=>{const{modelId:t,data:a}=e,{onPricePromptChange:o,onPriceCompletionChange:i}=(e=>{const{data:t,onDataChange:n}=e,a=r(e=>{const a=parseFloat(e.target.value);if(isNaN(a))return;const o=t.price?.completionTokenPricePer1k??null;n({price:{completionTokenPricePer1k:o,promptPricePer1k:a>=0?a:null}})},[t.price?.completionTokenPricePer1k,n]),o=r(e=>{const a=parseFloat(e.target.value);if(isNaN(a))return;const o=t.price?.promptPricePer1k??null;n({price:{completionTokenPricePer1k:a>=0?a:null,promptPricePer1k:o}})},[t.price?.promptPricePer1k,n]);return{onPricePromptChange:a,onPriceCompletionChange:o}})(e),s=n(()=>null!==a.price?.promptPricePer1k?a.price.promptPricePer1k:-1,[a.price?.promptPricePer1k]),l=n(()=>null!==a.price?.completionTokenPricePer1k?a.price.completionTokenPricePer1k:-1,[a.price?.completionTokenPricePer1k]),c=`model-modal-price-prompt-${t}`,d=`model-modal-price-completion-${t}`,u=`price-prompt-${t}`,p=`price-completion-${t}`;/* @__PURE__ */
return C("div",{className:"flex flex-col",children:/* @__PURE__ */w("div",{className:"model-price",children:[
/* @__PURE__ */C($h,{label:"Price:",info:"Price in USD ($). Use 0 if it's free, -1 to skip setting a value",htmlFor:"prompt-price-inputs"}),
/* @__PURE__ */w("div",{className:"flex flex-col margin-left-10 margin-bottom-10 padding-left-10",children:[
/* @__PURE__ */w("div",{className:"flex flex-col margin-bottom-10",children:[
/* @__PURE__ */C("label",{htmlFor:u,children:"Prompt price per 1K tokens:"}),
/* @__PURE__ */C("input",{id:u,title:"Prompt price per 1K tokens",type:"number",min:"-1",step:"0.0001",className:"number-max-width",value:s,onChange:o,"data-testid":c,"aria-label":"Prompt price per 1000 tokens"})]}),
/* @__PURE__ */w("div",{className:"flex flex-col",children:[
/* @__PURE__ */C("label",{htmlFor:p,children:"Completion price per 1K tokens:"}),
/* @__PURE__ */C("input",{id:p,title:"Completion price per 1K tokens",type:"number",min:"-1",step:"0.0001",className:"number-max-width",value:l,onChange:i,"data-testid":d,"aria-label":"Completion price per 1000 tokens"})]})]})]})})});uC.displayName="WaldiezNodeModelModalPriceTab";const pC=e=>{const{flowId:t,modelId:n,data:a,isOpen:o,isDirty:r,importExportView:l,onDataChange:c,onLogoChange:d,onClose:u,onSave:p,onSaveAndClose:g,onTest:m,onCancel:h}=e,[f,b]=i(0);return s(()=>{b(0)},[o]),/* @__PURE__ */C(hf,{flowId:t,beforeTitle:l,title:a.label,dataTestId:`model-modal-${n}`,isOpen:o,onClose:u,onSaveAndClose:g,hasUnsavedChanges:r,preventCloseIfUnsavedChanges:!0,children:/* @__PURE__ */w("div",{className:"modal-body",children:[
/* @__PURE__ */w(Ib,{activeTabIndex:f,children:[
/* @__PURE__ */C(Ab,{label:"Basic",id:`model-config-basic-${n}`,children:/* @__PURE__ */C("div",{className:"model-panel",children:/* @__PURE__ */C(dC,{id:n,data:a,onDataChange:c,onLogoChange:d})})}),"bedrock"===a.apiType&&/* @__PURE__ */C(Ab,{label:"AWS",id:`model-config-aws-${n}`,children:/* @__PURE__ */C("div",{className:"model-panel",children:/* @__PURE__ */C(lC,{data:a,onDataChange:c})})}),
/* @__PURE__ */C(Ab,{label:"Advanced",id:`model-config-advanced-${n}`,children:/* @__PURE__ */C("div",{className:"model-panel",children:/* @__PURE__ */C(sC,{data:a,onDataChange:c})})}),
/* @__PURE__ */C(Ab,{label:"Price",id:`model-config-price-${n}`,children:/* @__PURE__ */C("div",{className:"model-panel",children:/* @__PURE__ */C(uC,{modelId:n,data:a,onDataChange:c})})})]}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{type:"button",title:"Cancel",className:"modal-action-cancel",onClick:h,"data-testid":`modal-cancel-btn-${n}`,children:"Cancel"}),
/* @__PURE__ */w("div",{className:"flex-row",children:[
/* @__PURE__ */C("button",{type:"button",title:"Test",className:"margin-right-10 neutral",onClick:m,"data-testid":`modal-test-btn-${n}`,disabled:r,children:"Test"}),
/* @__PURE__ */C("button",{title:"Save & Close",type:"button",className:"save margin-right-10",onClick:g,"data-testid":`modal-submit-and-close-btn-${n}`,disabled:!r,children:"Save & Close"}),
/* @__PURE__ */C("button",{type:"button",title:"Save",className:"modal-action-submit",onClick:p,"data-testid":`modal-submit-btn-${n}`,disabled:!r,children:"Save"})]})]})]})})},gC=(e,t)=>{const a=al(e=>e.flowId),o=al(e=>e.updateToolData),l=al(e=>e.cloneTool),c=al(e=>e.deleteTool),d=al(e=>e.getToolById),u=al(e=>e.importTool),p=al(e=>e.exportTool),g=al(e=>e.onFlowChanged),{isDark:m}=Zo(),[h,f]=i(!1),[b,y]=i(t),[v,C]=i(!1),w=n(()=>(e=>{const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()})(t.updatedAt),[t.updatedAt]),x=n(()=>Jy(t.label,t.toolType,18),[t.label,t.toolType]);s(()=>{y(t),C(!1)},[t]);const A=r(()=>{f(!0),C(!1)},[]),I=r(()=>{h||(l(e),g())},[h,l,e,g]),N=r(()=>{c(e),C(!1),g()},[c,e,g]),k=r(()=>{y(t),f(!1),C(!1)},[t]),S=r(e=>{y(n=>{const a={...n,...e};return C(!Py(a,t)),a})},[t]),T=r(async()=>{await Xt(t.label,"tool",()=>p(e,!0))},[t.label,p,e]),E=r((n,a)=>{const o=u(a,e,n?.position,!1);y(o.data),C(!Py(t,o.data))},[u,e,t]),M=r(t=>{Jt(t,(e=>d(e)).bind(null,e),E)},[d,e,E]),R=r(()=>{o(e,b);const t=d(e);t?.data&&y(t.data),C(!1),g()},[o,e,b,d,g]),D=r(()=>{R(),f(!1)},[R]);return{flowId:a,isModalOpen:h,isDirty:v,logo:x,toolData:b,isDark:m,updatedAt:w,onOpen:A,onClone:I,onDelete:N,onCancel:k,onSave:R,onSaveAndClose:D,onChange:S,onExport:T,onImport:M}},mC=e=>{const{data:t,onDataChange:n}=e,a=r(e=>{n({secrets:e})},[n]),o=r(e=>{const{[e]:a,...o}=t.secrets;n({secrets:o})},[t.secrets,n]),i=r((e,a)=>{n({secrets:{...t.secrets,[e]:a}})},[t.secrets,n]),s=r(e=>{n({toolType:e,content:di[e],kwargs:{},secrets:{}})},[n]),l=r(e=>{e&&n({content:e})},[n]),c=r(e=>{if("string"==typeof e)return void n({label:e});n({label:e.target.value})},[n]),d=r(e=>{if("string"==typeof e)return void n({description:e});n({description:e.target.value})},[n]),u=r(e=>{ai.includes(e.value)?n({toolType:e.value,content:di[e.value]||"",kwargs:{},secrets:{},label:e.value,description:oi[e.value]||e.label}):n({toolType:e.value,content:"",kwargs:{},secrets:{},label:ri[e.value]||"",description:oi[e.value]||e.label})},[n]),p=r(e=>{n({tags:[...t.tags,e]})},[t.tags,n]),g=r(e=>{n({tags:t.tags.filter(t=>t!==e)})},[t.tags,n]),m=r((e,a)=>{n({tags:t.tags.map(t=>t===e?a:t)})},[t.tags,n]);return{onUpdateSecrets:a,onDeleteSecret:o,onAddSecret:i,onToolContentChange:l,onToolLabelChange:c,onToolDescriptionChange:d,onToolTypeChange:s,onToolTypeSelectionChange:u,onAddTag:p,onDeleteTag:g,onTagChange:m,onAddRequirement:r(e=>{n({requirements:[...t.requirements,e]})},[t.requirements,n]),onDeleteRequirement:r(e=>{n({requirements:t.requirements.filter(t=>t!==e)})},[t.requirements,n]),onRequirementChange:r((e,a)=>{n({requirements:t.requirements.map(t=>t===e?a:t)})},[t.requirements,n]),onSetToolKwarg:r((e,a)=>{const o={...t.kwargs,[e]:a};n({kwargs:o})},[t.kwargs,n])}},hC=g(e=>{const{data:t}=e,{onUpdateSecrets:a,onDeleteSecret:o,onAddSecret:r,onAddRequirement:i,onDeleteRequirement:s,onRequirementChange:l,onAddTag:c,onDeleteTag:d,onTagChange:u}=mC(e),p=n(()=>/* @__PURE__ */w("div",{children:["Requirements to ",
/* @__PURE__ */C("span",{className:"bold italic",children:"pip install"})," for this tool"]}),[]);/* @__PURE__ */
return w(x,{children:[
/* @__PURE__ */C(Qh,{viewLabel:"Environment Variables:",items:t.secrets,itemsType:"tool-secret",onUpdate:a,onDelete:o,onAdd:r,areValuesSecret:!0}),
/* @__PURE__ */C(xb,{viewLabel:"Requirements:",viewLabelInfo:p,placeholder:"Add a requirement...",items:t.requirements,itemsType:"tool-requirements",onItemAdded:i,onItemDeleted:s,onItemChange:l}),
/* @__PURE__ */C(xb,{viewLabel:"Tags:",placeholder:"Add a tag...",items:t.tags,itemsType:"tool-tags",onItemAdded:c,onItemDeleted:d,onItemChange:u})]})}),fC=g(e=>{const{toolId:t,data:a,darkMode:o}=e,{onToolContentChange:i,onToolLabelChange:s,onToolDescriptionChange:l,onToolTypeChange:c,onAddSecret:d,onSetToolKwarg:u}=mC(e),p=n(()=>Yy.find(e=>e.value===a.toolType)||Yy.find(e=>e.value===a.label)||Yy[0],[a.toolType,a.label]),m=r(e=>{e&&(ai.includes(e.value)?(c("predefined"),s(e.value),l(oi[e.value]||e.label)):(c(e.value),s(ri[e.value]||""),l(oi[e.value]||"")))},[c,s,l]),h=`tool-type-select-${t}`,f=`tool-label-input-${t}`,b=`tool-description-input-${t}`,y=`tool-content-editor-${t}`,v=r((e,t)=>{const n=t.target.value;d(e,n)},[d]),x=r((e,t)=>{const n=t.target.value;u(e,n)},[u]),A=g(e=>{const{innerProps:t,data:n}=e;/* @__PURE__ */
return w("div",{...t,className:"flex margin-5 clickable",children:[n.icon&&/* @__PURE__ */C("div",{className:"icon margin-right-10 margin-top-5 margin-left-5",children:n.icon}),
/* @__PURE__ */C("span",{className:"label",children:n.label})]})});/* @__PURE__ */
return w("div",{className:"flex flex-col",children:[
/* @__PURE__ */w("div",{className:"margin-bottom-10",children:[
/* @__PURE__ */C("label",{htmlFor:h,children:"Type:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Ym,{inputId:h,options:Yy,value:p,onChange:m,"data-testid":h,"aria-label":"Tool type",components:{Option:A}})]}),"predefined"!==a.toolType&&/* @__PURE__ */w("div",{className:"margin-bottom-10",children:[
/* @__PURE__ */C("label",{htmlFor:f,children:"Name:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C("input",{title:"Name",type:"text",value:a.label||"","data-testid":f,id:f,onChange:s,className:"w-full","aria-label":"Tool name"})]}),"predefined"!==a.toolType&&/* @__PURE__ */w("div",{className:"margin-bottom-10",children:[
/* @__PURE__ */C("label",{htmlFor:b,children:"Description:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(ef,{title:"Description",rows:2,value:a.description||"","data-testid":b,id:b,onChange:l,className:"w-full","aria-label":"Tool description"})]}),"predefined"!==a.toolType&&/* @__PURE__ */w("div",{children:[
/* @__PURE__ */C("label",{htmlFor:y,children:"Content:"}),
/* @__PURE__ */C("div",{className:"margin-top-10"}),
/* @__PURE__ */C(Yh,{value:a.content||"",onChange:i,darkMode:o,"aria-label":"Tool content","data-testid":y})]}),"predefined"===a.toolType&&Zy[a.label]&&/* @__PURE__ */C("div",{className:"margin-top-10",children:Zy[a.label]}),"predefined"===a.toolType&&si[a.label]&&si[a.label].length>0&&/* @__PURE__ */C("div",{className:"margin-top-10",children:si[a.label]?.map((e,t)=>/* @__PURE__ */C("div",{className:"margin-bottom-5",children:/* @__PURE__ */C(af,{name:e.label,label:`${e.label}:`,dataTestId:`env-var-input-${t}-${e.key}`,value:(a.kwargs?a.kwargs[e.key]:"")||"",onChange:x.bind(null,e.key),className:"margin-top-10",isPassword:!1,placeholder:`Enter the ${e.label}`})},t))}),"predefined"===a.toolType&&ii[a.label]&&ii[a.label].length>0&&/* @__PURE__ */C("div",{className:"margin-top-10",children:ii[a.label]?.map((e,t)=>/* @__PURE__ */C("div",{className:"margin-bottom-5",children:/* @__PURE__ */C(af,{name:e.label,label:`${e.label}:`,dataTestId:`env-var-input-${t}-${e.key}`,value:a.secrets[e.key]||"",onChange:v.bind(null,e.key),className:"margin-top-10",placeholder:`Enter the ${e.label}`,isPassword:!0})},t))})]})});fC.displayName="WaldiezToolBasicTab";const bC=e=>{const{toolId:t,flowId:n,data:a,isModalOpen:o,isDirty:r,onClose:l,onCancel:c,onSave:d,onSaveAndClose:u,onImport:p,onExport:g}=e,m=Bv(n,t,"tool",p,g),[h,f]=i(0);return s(()=>{f(0)},[o]),/* @__PURE__ */w(hf,{flowId:n,beforeTitle:m,title:a.label,isOpen:o,onSaveAndClose:u,onClose:l,hasUnsavedChanges:r,preventCloseIfUnsavedChanges:!0,children:[
/* @__PURE__ */C("div",{className:"modal-body",children:/* @__PURE__ */w(Ib,{activeTabIndex:h,children:[
/* @__PURE__ */C(Ab,{label:"Basic",id:`tool-basic-tab-${t}`,children:/* @__PURE__ */C("div",{className:"tool-panel",children:/* @__PURE__ */C(fC,{...e})})}),"predefined"!==a.toolType&&/* @__PURE__ */C(Ab,{label:"Advanced",id:`tool-advanced-tab-${t}`,children:/* @__PURE__ */C("div",{className:"tool-panel",children:/* @__PURE__ */C(hC,{...e})})})]})}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{type:"button",title:"Cancel",className:"modal-action-cancel",onClick:c,"data-testid":`modal-cancel-btn-${t}`,children:"Cancel"}),
/* @__PURE__ */C("button",{title:"Save & Close",type:"button",className:"modal-action-submit margin-right-10 ",onClick:u,"data-testid":`modal-submit-and-close-btn-${t}`,disabled:!r,children:"Save & Close"}),
/* @__PURE__ */C("button",{title:"Save",type:"button",className:"modal-action-submit",onClick:d,"data-testid":`modal-submit-btn-${t}`,disabled:!r,children:"Save"})]})]})},yC={chat:Ny,hidden:Ty,nested:ky,group:Sy},vC={agent:e=>{const{id:t,data:a,selected:o}=e,s=a.agentType,{edge:l,flowId:c,isReadOnly:d,isNodeModalOpen:u,isEdgeModalOpen:p,isModalOpen:g,isDragging:m,isSender:h,isRecipient:f,activeEvent:b,onDragOver:y,onDragLeave:v,onDrop:x,onDelete:A,onClone:I,onOpenNodeModal:N,onCloseNodeModal:k,onOpenEdgeModal:S,onCloseEdgeModal:T,onEdgeConnection:E}=(e=>{const t=al(e=>e.getEdgeById),a=al(e=>e.addEdge),o=al(e=>e.deleteAgent),s=al(e=>e.cloneAgent),l=al(e=>e.onFlowChanged),{isSender:c,isRecipient:d,activeEvent:u}=al(t=>({isSender:t.activeSenderId===e,isRecipient:t.activeRecipientId===e&&t.activeRecipientId!==t.activeSenderId,activeEvent:t.activeEventType})),p=al(e=>e.flowId),g=al(e=>e.isReadOnly),m=n(()=>!0===g,[g]),[h,f]=i(!1),[b,y]=i(!1),[v,C]=i(null),[w,x]=i(!1),A=n(()=>h||b,[h,b]),I=r(()=>{m||A||(o(e),l())},[m,A,o,e,l]),N=r(()=>{m||A||(s(e),l())},[m,A,s,e,l]),k=r(()=>{m||f(!0)},[m,f]),S=r(()=>{f(!1)},[f]),T=r(e=>{if(!m&&!h&&!b){const n=e.currentTarget.getAttribute("data-edge-id");if(n){const e=t(n);e&&(C(e),y(!0))}}},[m,h,b,t,y,C]),E=r(()=>{y(!1),C(null)},[y,C]),M=r(e=>{if(!m&&!h){const t=a({flowId:p,connection:e,hidden:!1});C(t)}},[m,h,a,p,C]),R=r(e=>{e.preventDefault(),e.stopPropagation(),x(!0)},[]),D=r(e=>{e.preventDefault(),e.stopPropagation(),x(!1)},[]),O=r(e=>{x(!1)},[]);return{flowId:p,edge:v,isNodeModalOpen:h,isEdgeModalOpen:b,isModalOpen:A,isReadOnly:m,isDragging:w,isSender:c,isRecipient:d,activeEvent:u,onDelete:I,onClone:N,onOpenNodeModal:k,onCloseNodeModal:S,onOpenEdgeModal:T,onCloseEdgeModal:E,onEdgeConnection:M,onDragOver:R,onDragLeave:D,onDrop:O}})(t),M=n(()=>{let e=g?"nodrag nowheel ":"";return a.parentId?e+=`agent-node ${s} group-member`:e+=`agent-node ${s}`,"group_manager"===s&&(e+=" flex flex-col flex-1",m&&(e+=" dragging")),h&&(e+=" active-sender"),f&&(e+=" active-recipient"),e},[g,a.parentId,s,h,f,m]),R=n(()=>a.parentId?"group-member ":"group_manager"===s?"group-manager ":"",[a.parentId,s]),D=n(()=>"group_manager"===s?zv.minWidth:_v.minWidth,[s]),P=n(()=>"group_manager"===s?zv.minHeight:_v.minHeight,[s]),L=zo[s];/* @__PURE__ */
return w("div",{className:M,"data-testid":`agent-node-${t}-view`,onDragOver:y,onDragLeave:v,onDrop:x,"data-activity":h&&b?(B=b,B?"thinking"===B?" â³ ":"tool"===B?" âš™ï¸ ":"message"===B?" ðŸ’¬ ":void 0:""):void 0,children:[(h||f)&&/* @__PURE__ */w("div",{className:"agent-badge-wrap",children:[
/* @__PURE__ */C("span",{className:"agent-badge-chip",children:h?"SENDING":"RECEIVING"}),h&&b&&/* @__PURE__ */C("span",{className:"agent-activity-label",children:/* @__PURE__ */C(Xy,{activity:b})})]}),
/* @__PURE__ */C(O,{color:Oo[s],minWidth:D,minHeight:P,handleStyle:{color:Oo[s],borderColor:Oo[s]},handleClassName:s}),!d&&!m&&o&&/* @__PURE__ */w("div",{className:`agent-actions ${s}`,"data-testid":`agent-actions-${t}`,children:[
/* @__PURE__ */C(je,{role:"button",onClick:A,title:"Delete Agent",className:"delete-icon clickable margin-right-20","aria-label":"Delete Agent"}),"group_manager"!==a.agentType&&/* @__PURE__ */C(ye,{role:"button",onClick:I,title:"Clone Agent",className:"copy-icon margin-right-20 clickable","aria-label":"Clone Agent"}),
/* @__PURE__ */C(Cy,{role:"button",className:"clickable cog-icon",onClick:N,"aria-label":"Open Settings",title:"Open Settings"})]}),
/* @__PURE__ */w("div",{className:"agent-main",children:[
/* @__PURE__ */w("div",{className:"agent-top",children:[
/* @__PURE__ */w("div",{className:"agent-icon-with-label",children:[
/* @__PURE__ */C("img",{className:"agent-icon-image",src:L,alt:"Agent"}),
/* @__PURE__ */C("div",{className:"agent-icon-label",children:a.label})]}),
/* @__PURE__ */C(qy,{flowId:c,id:t,data:a,isModalOpen:g,isReadOnly:d,onOpenModal:N})]}),Qy({agentType:s,id:t,handleClassNameBase:R,selected:o,onEdgeConnection:E}),
/* @__PURE__ */C("button",{title:"Open Node Modal",type:"button","data-node-id":t,"data-testid":`open-agent-node-modal-${t}`,className:"hidden",onClick:N}),
/* @__PURE__ */C("button",{title:"Open Edge Modal",type:"button","data-testid":`open-edge-modal-node-${t}`,className:"hidden",onClick:S,"data-edge-node-id":t,"data-edge-id":""}),l&&/* @__PURE__ */C(Uy,{isOpen:p,edgeId:l.id,onClose:T}),
/* @__PURE__ */C(Gv,{id:t,data:a,isOpen:u,onClose:k})]})]});var B},model:({id:e,data:t})=>{const{flowId:n,isOpen:a,isDirty:o,logo:r,modelData:i,setLogo:s,onOpen:l,onImport:c,onExport:d,onDataChange:u,onDelete:p,onClone:g,onSave:m,onSaveAndClose:h,onCancel:f,onCheck:b}=iC(e,t),y=Bv(n,e,"model",c,d);/* @__PURE__ */
return w("div",{className:a?"model-node nodrag nowheel":"model-node nodrag",children:[
/* @__PURE__ */w("div",{className:"model-header",children:[
/* @__PURE__ */C("div",{role:"button",title:"Edit",className:"clickable","data-node-id":e,"data-testid":`open-model-node-modal-${e}`,onClick:l,children:/* @__PURE__ */C(Ue,{})}),
/* @__PURE__ */C("div",{id:`node-label-${e}`,className:"node-label","data-testid":`node-label-${e}`,children:t.label}),
/* @__PURE__ */C("div",{className:`model-logo ${t.apiType}`,children:/* @__PURE__ */C("img",{src:r,alt:"logo"})})]}),
/* @__PURE__ */w("div",{className:"model-footer","data-testid":`model-footer-${e}`,children:[
/* @__PURE__ */C("div",{role:"button",title:"Delete",className:"clickable",id:`delete-node-${e}`,"data-testid":`delete-node-${e}`,onClick:p,children:/* @__PURE__ */C(Ve,{})}),
/* @__PURE__ */w("div",{className:"flex items-center",children:[
/* @__PURE__ */C("div",{role:"button",title:"Check",className:"clickable margin-right-10",id:`test-model-${e}`,"data-testid":`test-model-${e}`,onClick:b,children:/* @__PURE__ */C(Vv,{fontSize:"1.1em"})}),
/* @__PURE__ */C("div",{role:"button",title:"Clone",className:"clickable",id:`clone-node-${e}`,"data-testid":`clone-node-${e}`,onClick:g,children:/* @__PURE__ */C(Xe,{})})]})]}),
/* @__PURE__ */C(pC,{flowId:n,modelId:e,data:i,isOpen:a,isDirty:o,importExportView:y,onLogoChange:s,onDataChange:u,onClose:f,onCancel:f,onSave:m,onTest:b,onSaveAndClose:h})]})},tool:e=>{const{id:t}=e,{flowId:n,isModalOpen:a,isDirty:o,toolData:r,isDark:i,logo:s,onOpen:l,onClone:c,onDelete:d,onCancel:u,onSave:p,onSaveAndClose:g,onChange:m,onExport:h,onImport:f}=gC(e.id,e.data);/* @__PURE__ */
return w("div",{className:a?"tool-node nodrag nowheel":"tool-node nodrag",children:[
/* @__PURE__ */w("div",{className:"tool-header",children:[
/* @__PURE__ */C("div",{role:"button",title:"Edit",className:"clickable","data-node-id":t,"data-testid":`open-tool-node-modal-${t}`,onClick:l,children:/* @__PURE__ */C(Ue,{})}),
/* @__PURE__ */C("div",{"data-testid":`node-label-${t}`,className:"node-label",children:r.label}),
/* @__PURE__ */C("div",{className:`tool-logo ${r.toolType}`,children:s})]}),
/* @__PURE__ */C("div",{className:"tool-content",children:/* @__PURE__ */C("div",{className:"description","data-test-id":`node-description-${t}`,children:r.description})}),
/* @__PURE__ */w("div",{className:"tool-footer","data-testid":`tool-footer-${t}`,children:[
/* @__PURE__ */C("div",{role:"button",title:"Delete",className:"clickable",id:`delete-node-${t}`,"data-testid":`delete-node-${t}`,onClick:d,children:/* @__PURE__ */C(Ve,{})}),
/* @__PURE__ */C("div",{role:"button",title:"Clone",className:"clickable",id:`clone-node-${t}`,"data-testid":`clone-node-${t}`,onClick:c,children:/* @__PURE__ */C(Xe,{})})]}),
/* @__PURE__ */C(bC,{toolId:t,flowId:n,data:r,isModalOpen:a,darkMode:i,isDirty:o,onClose:u,onCancel:u,onSave:p,onSaveAndClose:g,onDataChange:m,onImport:f,onExport:h})]})}},CC=l(void 0),wC=({children:e,collapsed:t})=>{const n="boolean"==typeof t?t:AC(),[a,o]=i(n);s(()=>{xC(a)},[a]);/* @__PURE__ */
return C(CC.Provider,{value:{isCollapsed:a,toggleSidebar:()=>{o(e=>!e)}},children:e})},xC=e=>{e?(document.body.classList.add("waldiez-sidebar-collapsed"),document.body.classList.remove("waldiez-sidebar-expanded")):(document.body.classList.add("waldiez-sidebar-expanded"),document.body.classList.remove("waldiez-sidebar-collapsed"))},AC=()=>!!document.body.classList.contains("waldiez-sidebar-collapsed")||!document.body.classList.contains("waldiez-sidebar-expanded")&&window.innerWidth<768;function IC(e){return Pb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"},child:[]},{tag:"path",attr:{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"},child:[]},{tag:"path",attr:{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"},child:[]},{tag:"path",attr:{d:"M17.599 6.5a3 3 0 0 0 .399-1.375"},child:[]},{tag:"path",attr:{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"},child:[]},{tag:"path",attr:{d:"M3.477 10.896a4 4 0 0 1 .585-.396"},child:[]},{tag:"path",attr:{d:"M19.938 10.5a4 4 0 0 1 .585.396"},child:[]},{tag:"path",attr:{d:"M6 18a4 4 0 0 1-1.967-.516"},child:[]},{tag:"path",attr:{d:"M19.967 17.484A4 4 0 0 1 18 18"},child:[]}]})(e)}const NC=e=>{const{isOpen:t,onClose:n}=e,a=al(e=>e.getFlowInfo),o=al(e=>e.updateFlowInfo),l=al(e=>e.updateFlowOrder),c=al(e=>e.updateFlowPrerequisites),d=a(),{name:u,description:p,requirements:g,tags:m,isAsync:h,cacheSeed:f}=d,[b,y]=i({name:u,description:p,requirements:g,tags:m,isAsync:h,cacheSeed:f}),[v,C]=i(null),w=al(e=>e.getFlowEdges),{used:x,remaining:A}=w(),I=al(e=>e.onFlowChanged),[N,k]=i(x),[S,T]=i(A),E=!Py(b,{name:u,description:p,requirements:g,tags:m,isAsync:h,cacheSeed:f}),M=!Py(N,x),[R,D]=i(E||M),O=r(()=>{const{name:e,description:t,requirements:n,tags:o,isAsync:r,cacheSeed:i}=a();y({name:e,description:t,requirements:n,tags:o,isAsync:r,cacheSeed:i});const{used:s,remaining:l}=w();k(s),T(l),D(!1)},[w,a]);s(()=>{O()},[t,O]);const P=e=>e.map((t,n)=>{if(0===n)return{...t,data:{...t.data,order:0,prerequisites:[]}};const a=e[n-1];return{...t,data:{...t.data,order:n,prerequisites:[a?.id]}}});return{flowData:b,isOpen:t,sortedEdgesState:N,remainingEdgesState:S,selectedNewEdge:v,isDirty:R,onClose:n,onSubmit:()=>{if(o(b),b.isAsync)c(N);else{const e=N.map((e,t)=>({id:e.id,order:t})).concat(S.map(e=>({id:e.id,order:-1})));l(e)}I(),D(!1)},onCancel:()=>{O(),n()},onDataChange:e=>{const t=!Py({...b,...e},{name:u,description:p,requirements:g,tags:m,isAsync:h,cacheSeed:f}),n=!Py(N,x);y({...b,...e}),D(t||n)},onSelectedNewEdgeChange:e=>{e&&C(e.value)},onAddEdge:()=>{if(v&&S.find(e=>e.id===v.id)){const e=(()=>{let e=N[N.length-1]?.data?.order;return void 0===e?e=N.length:e++,e<0&&(e=0),e})(),t={...v,data:{...v.data,order:e}};k([...N,t]),T(S.filter(e=>e.id!==v.id)),C(null),D(!0)}},onRemoveEdge:e=>{1!==N.length&&N.find(t=>t.id===e.id)&&(k(N.filter(t=>t.id!==e.id)),T([...S,{...e,data:{...e.data,order:-1,prerequisites:[]}}]),D(!0))},onMoveEdgeUp:e=>{if(e>0&&void 0!==N[e]&&void 0!==N[e-1]&&N.find(t=>t.id===N[e]?.id)){const t=N[e-1],n=N[e],a=N.slice();a[e-1]=n,a[e]=t,k(P(a)),D(!0)}},onMoveEdgeDown:e=>{if(N.find(t=>t.id===N[e]?.id)){const t=N[e+1],n=t?.data?.order,a=N[e],o=a?.data?.order,r=N.slice();r[e+1]={...a,data:{...a?.data,order:n}},r[e]={...t,data:{...t?.data,order:o}},k(P(r)),D(!0)}},onPrerequisitesChange:(e,t)=>{const n=N.map(n=>n.id===e.id?{...n,data:{...n.data,prerequisites:t}}:n);k(n),D(!0)}}},kC=e=>{const{sortedEdges:t,remainingEdges:n,selectedNewEdge:a,onSelectedNewEdgeChange:o,onAddEdge:r,onRemoveEdge:i,onPrerequisitesChange:s}=e,l=(e,t)=>{if(t){const n=t.map(e=>e.value.id);s(e,n)}else s(e,[])};/* @__PURE__ */
return w("div",{className:"flow-chat-prerequisites-wrapper",children:[
/* @__PURE__ */C("div",{className:"info",children:"Specify the chats to run when the flow initializes and their prerequisites (if more than one). You should remove the ones that are expected to be triggered during the flow (like in nested chats)."}),t.map((e,n)=>/* @__PURE__ */w("div",{className:"flow-chat-prerequisites",children:[
/* @__PURE__ */C("div",{className:"flow-chat-prerequisite-source",children:/* @__PURE__ */C("span",{children:e.data?.label})}),t.length>1&&/* @__PURE__ */w("div",{className:"flow-chat-prerequisite-actions",children:[
/* @__PURE__ */C("label",{htmlFor:"chat-pre-requisites-select",children:"Prerequisites:"}),
/* @__PURE__ */C(Ym,{placeholder:"Select prerequisites...",options:t.filter(t=>t.id!==e.id).map(e=>({value:e,label:e.data?.label})),value:e.data?.prerequisites.map(e=>{const n=t.find(t=>t.id===e);return n?{value:n,label:n.data?.label}:[]}),onChange:l.bind(null,e),isMulti:!0,inputId:"chat-pre-requisites-select"}),t.length>1&&/* @__PURE__ */C("div",{className:"flow-chat-remove",children:t.length>1&&/* @__PURE__ */C("button",{type:"button",title:"Remove",className:"flow-order-item-action","data-testid":`remove-edge-button-${n}`,onClick:i.bind(null,e),children:"Remove"})})]})]},e.id)),n.length>0&&/* @__PURE__ */w("div",{className:"flow-order-add-wrapper",children:[
/* @__PURE__ */w("div",{className:"flex-1 margin-right-10",children:[
/* @__PURE__ */C("label",{htmlFor:"new-edge-select",className:"hidden",children:"Add new chat"}),
/* @__PURE__ */C(Ym,{options:n.map(e=>({value:e,label:e.data?.label})),value:a?{value:a,label:a.data?.label}:null,onChange:o,inputId:"new-edge-select"})]}),
/* @__PURE__ */C("button",{type:"button",title:"Add chat",className:"flow-order-add-button",disabled:!a,onClick:r,"data-testid":"add-edge-to-flow-button",children:"Add"})]})]})},SC=e=>{const{sortedEdges:t,remainingEdges:n,selectedNewEdge:a,onSelectedNewEdgeChange:o,onAddEdge:r,onRemoveEdge:i,onMoveEdgeUp:s,onMoveEdgeDown:l}=e;/* @__PURE__ */
return w("div",{className:"flow-chat-order-wrapper",children:[
/* @__PURE__ */C("div",{className:"info",children:"Specify the chats to run when the flow initializes and their order (if more than one). You should remove the ones that are expected to be triggered during the flow (like in nested chats)."}),t.map((e,n)=>/* @__PURE__ */w("div",{className:"flow-order-item-wrapper",children:[
/* @__PURE__ */C("div",{className:"flow-order-item",children:/* @__PURE__ */C("span",{className:"flow-order-item-entry",children:e.data?.label})}),t.length>1&&/* @__PURE__ */w("div",{className:"flow-order-item-actions",children:[n>0&&t.length>1&&/* @__PURE__ */C("button",{type:"button",title:"Move up",className:"flow-order-item-action","data-testid":`move-edge-up-button-${n}`,onClick:s.bind(null,n),children:"â†‘"}),n<t.length-1&&/* @__PURE__ */C("button",{title:"Move down",type:"button",className:"flow-order-item-action","data-testid":`move-edge-down-button-${n}`,onClick:l.bind(null,n),children:"â†“"}),t.length>1&&/* @__PURE__ */C("button",{type:"button",title:"Remove",className:"flow-order-item-action","data-testid":`remove-edge-button-${n}`,onClick:i.bind(null,e),children:"Remove"})]})]},e.id)),n.length>0&&/* @__PURE__ */w("div",{className:"flow-order-add-wrapper",children:[
/* @__PURE__ */w("div",{className:"flex-1 margin-right-10",children:[
/* @__PURE__ */C("label",{htmlFor:"new-edge-select",className:"hidden",children:"Add new chat"}),
/* @__PURE__ */C(Ym,{options:n.map(e=>({value:e,label:e.data?.label})),value:a?{value:a,label:a.data?.label}:null,onChange:o,inputId:"new-edge-select"})]}),
/* @__PURE__ */C("button",{type:"button",title:"Add chat",className:"flow-order-add-button",disabled:!a,onClick:r,"data-testid":"add-edge-to-flow-button",children:"Add"})]})]})},TC=e=>{const{flowId:t,data:n,sortedEdges:a,remainingEdges:o,onDataChange:r}=e,{name:i,description:s,isAsync:l}=n,c=a.length+o.length;/* @__PURE__ */
return w("div",{className:"flex flex-col padding-left-10 padding-right-10",id:`rf-${t}-edit-flow-modal`,children:[
/* @__PURE__ */C("label",{htmlFor:`rf-${t}-edit-flow-modal-name`,children:"Name"}),
/* @__PURE__ */C("input",{type:"text",className:"margin-right--20 margin-top-5 margin-bottom-10",id:`rf-${t}-edit-flow-modal-name`,placeholder:"Flow name",value:i,onChange:e=>{const t=e.target.value;r({name:t})},"data-testid":`edit-flow-${t}-name-input`}),
/* @__PURE__ */C("label",{htmlFor:`rf-${t}-edit-flow-modal-description`,children:"Description"}),
/* @__PURE__ */C("div",{className:"margin-bottom-5"}),
/* @__PURE__ */C(ef,{id:`rf-${t}-edit-flow-modal-description`,placeholder:"Flow description",rows:2,value:s,onChange:e=>{const t=e.target.value;r({description:t})},"data-testid":`edit-flow-${t}-description-input`}),
/* @__PURE__ */C("div",{className:"margin-bottom-5"}),
/* @__PURE__ */C(Jd,{id:`edit-flow-${t}-modal-async-mode`,label:"Async Mode",isChecked:l,onCheckedChange:e=>{r({isAsync:e})}}),
/* @__PURE__ */w("div",{className:"margin-top-5 margin-left-5",children:["Chat order ",l&&"& prerequisites"," "]}),0===c?/* @__PURE__ */C("div",{className:"info",children:"No chats added to the flow yet."}):/* @__PURE__ */C(l?kC:SC,{...e})]})},EC=e=>{const{flowId:t,data:n,onDataChange:a}=e,{tags:o,requirements:r,cacheSeed:i}=n;/* @__PURE__ */
return w("div",{className:"padding-left-10 padding-right-10","data-testid":`edit-flow-${t}-modal-other-view`,children:[
/* @__PURE__ */C(Jd,{id:`edit-flow-${t}-modal-cache-seed-toggle`,label:"Disable cache",isChecked:"number"!=typeof i,onCheckedChange:e=>{a({cacheSeed:e?null:42})},"data-testid":`edit-flow-${t}-modal-cache-seed-toggle`}),"number"==typeof i&&/* @__PURE__ */w("div",{className:"margin-top-5 flex items-center",children:[
/* @__PURE__ */C("div",{className:"margin-left-5 margin-right-5",children:" Cache seed:"}),
/* @__PURE__ */C("input",{type:"number",step:1,placeholder:"42",value:i,onChange:e=>{try{const t=parseInt(e.target.value);a({cacheSeed:t})}catch(t){}},id:`edit-flow-${t}-cache-seed-input`,"data-testid":`edit-flow-${t}-cache-seed-input`})]}),
/* @__PURE__ */C(xb,{items:r,itemsType:"requirement",viewLabel:"Additional Requirements",viewLabelInfo:()=>/* @__PURE__ */w("div",{children:["Requirements to ",
/* @__PURE__ */C("span",{className:"bold italic",children:"pip install"})," before running this flow"]}),onItemAdded:e=>{a({requirements:[...r,e]})},onItemDeleted:e=>{a({requirements:r.filter(t=>t!==e)})},onItemChange:(e,t)=>{a({requirements:r.map(n=>n===e?t:n)})}}),
/* @__PURE__ */C(xb,{items:o,itemsType:"tag",viewLabel:"Tags",onItemAdded:e=>{a({tags:[...o,e]})},onItemDeleted:e=>{a({tags:o.filter(t=>t!==e)})},onItemChange:(e,t)=>{a({tags:o.map(n=>n===e?t:n)})}})]})},MC=e=>{const{flowId:t}=e,{flowData:n,isOpen:a,sortedEdgesState:o,remainingEdgesState:r,selectedNewEdge:i,isDirty:s,onClose:l,onSubmit:c,onCancel:d,onDataChange:u,onSelectedNewEdgeChange:p,onAddEdge:g,onRemoveEdge:m,onMoveEdgeUp:h,onMoveEdgeDown:f,onPrerequisitesChange:b}=NC(e),y=()=>{c(),l()};/* @__PURE__ */
return C(hf,{title:"Edit Flow",flowId:t,isOpen:a,onSaveAndClose:y,onClose:l,className:"edit-flow-modal",hasMaximizeBtn:!0,dataTestId:`edit-flow-modal-${t}`,hasUnsavedChanges:s,preventCloseIfUnsavedChanges:!0,children:/* @__PURE__ */w("div",{className:"modal-body",children:[
/* @__PURE__ */w(Ib,{activeTabIndex:0,children:[
/* @__PURE__ */C(Ab,{label:"Properties",id:`rf-${t}-edit-flow-modal`,children:/* @__PURE__ */C(TC,{flowId:t,data:n,remainingEdges:r,sortedEdges:o,selectedNewEdge:i,onPrerequisitesChange:b,onSelectedNewEdgeChange:p,onAddEdge:g,onRemoveEdge:m,onMoveEdgeUp:h,onMoveEdgeDown:f,onDataChange:u})}),
/* @__PURE__ */C(Ab,{label:"Other",id:`rf-${t}-edit-flow-modal-extras`,children:/* @__PURE__ */C(EC,{flowId:t,data:n,onDataChange:u})})]}),
/* @__PURE__ */w("div",{className:"modal-actions",children:[
/* @__PURE__ */C("button",{className:"modal-action-cancel",onClick:d,"data-testid":"edit-flow-cancel-button",type:"button",title:"Cancel",children:"Cancel"}),
/* @__PURE__ */w("div",{className:"flex-row",children:[
/* @__PURE__ */C("button",{title:"Save & Close",type:"button",className:"primary save margin-right-10",onClick:y,"data-testid":`modal-submit-and-close-btn-${t}`,disabled:!s,children:"Save & Close"}),
/* @__PURE__ */C("button",{type:"button",title:"Save",className:"modal-action-submit",onClick:c,"data-testid":"edit-flow-submit-button",disabled:!s,children:"Save"})]})]})]})})},RC=e=>{const{isReadonly:t}=e,{flowId:a,isEditModalOpen:o,isAgentsViewCollapsed:s,onOpenEditModal:l,onCloseEditModal:d,onShowAgents:u,onShowModels:p,onShowTools:g,onUserDragStart:m,onAssistantDragStart:h,onDocDragStart:f,onReasoningDragStart:b,onCaptainDragStart:y,onManagerDragStart:v}=(e=>{const{selectedNodeType:t,onSelectNodeType:a}=e,[o,s]=i(!1),[l,c]=i(!1),d=al(e=>e.flowId),u=r((e,t,n)=>{e.dataTransfer.setData("application/node",t),"agent"===t&&n&&e.dataTransfer.setData("application/agent",n),e.dataTransfer.effectAllowed="move"},[]),p=r(()=>{"agent"!==t?(a("agent"),c(!1)):c(e=>!e)},[t,a]),g=r(()=>{a("model")},[a]),m=r(()=>{a("tool")},[a]),h=r(e=>{u(e,"agent","user_proxy")},[u]),f=r(e=>{u(e,"agent","assistant")},[u]),b=r(e=>{u(e,"agent","rag_user_proxy")},[u]),y=r(e=>{u(e,"agent","doc_agent")},[u]),v=r(e=>{u(e,"agent","reasoning")},[u]),C=r(e=>{u(e,"agent","captain")},[u]),w=r(e=>{u(e,"agent","group_manager")},[u]),x=r(()=>{s(!0)},[]),A=r(()=>{s(!1)},[]),I=n(()=>({user_proxy:h,assistant:f,reasoning:v,captain:C,group_manager:w,rag_user_proxy:b}),[h,f,v,C,w,b]);return{flowId:d,isEditModalOpen:o,isAgentsViewCollapsed:l,onOpenEditModal:x,onCloseEditModal:A,onShowAgents:p,onShowModels:g,onShowTools:m,onUserDragStart:h,onDocDragStart:y,onAssistantDragStart:f,onReasoningDragStart:v,onCaptainDragStart:C,onManagerDragStart:w,agentDragHandlers:I}})(e),{isCollapsed:A,toggleSidebar:I}=(()=>{const e=c(CC);if(!e)throw new Error("useSidebar must be used within a SidebarProvider context");return e})();/* @__PURE__ */
return w("div",{className:"waldiez-sidebar"+(t?" hidden":""),"data-testid":`sidebar-${a}`,style:{width:A?"40px":"200px",maxWidth:A?"40px":"200px"},children:[
/* @__PURE__ */w("div",{className:"waldiez-sidebar-header",style:{justifyContent:A?"center":"space-between"},children:[!A&&/* @__PURE__ */C("div",{className:"title",children:"Waldiez"}),
/* @__PURE__ */C("div",{className:"waldiez-sidebar-toggle",onClick:I,role:"button","aria-hidden":"true","data-testid":"sidebar-toggle",children:/* @__PURE__ */C(Ze,{className:"waldiez-sidebar-toggle-button tooltip-container clickable",title:A?"Open sidebar":"Close sidebar","aria-hidden":"true"})})]}),
/* @__PURE__ */w("div",{className:"waldiez-sidebar-content",children:[
/* @__PURE__ */w("ul",{children:[
/* @__PURE__ */C("li",{className:"clickable",id:`edit-flow-${a}-sidebar-button`,"data-testid":`edit-flow-${a}-sidebar-button`,onClick:l,title:"Edit flow",children:A?/* @__PURE__ */C(ve,{}):/* @__PURE__ */w("div",{className:"flex items-center",children:[
/* @__PURE__ */C(ve,{}),
/* @__PURE__ */C("div",{children:"Edit flow"})]})}),
/* @__PURE__ */C("li",{className:"clickable","data-node-type":"model","data-testid":"show-models",onClick:p,children:A?/* @__PURE__ */C(IC,{}):/* @__PURE__ */w("div",{className:"flex items-center",children:[
/* @__PURE__ */C(IC,{}),
/* @__PURE__ */C("div",{children:"Models"})]})}),
/* @__PURE__ */C("li",{className:"clickable","data-node-type":"tool","data-testid":"show-tools",onClick:g,children:A?/* @__PURE__ */C(Ce,{}):/* @__PURE__ */w("div",{className:"flex items-center",children:[
/* @__PURE__ */C(Ce,{}),
/* @__PURE__ */C("div",{children:"Tools"})]})}),
/* @__PURE__ */w("li",{className:"clickable expandable","data-node-type":"agent","data-testid":"show-agents",onClick:u,children:[
/* @__PURE__ */w("div",{className:"flex items-center",children:[
/* @__PURE__ */C(Je,{}),!A&&/* @__PURE__ */C("span",{children:"Agents"})]}),!A&&/* @__PURE__ */C("div",{className:"expand-icon",children:/* @__PURE__ */C(s?at:ot,{})})]})]}),!A&&!s&&/* @__PURE__ */w(x,{children:[
/* @__PURE__ */C("div",{className:"dnd-description",children:/* @__PURE__ */C("p",{children:"Drag n' drop an agent to the canvas to add it to the flow"})}),
/* @__PURE__ */w("div",{className:"dnd-area","data-testid":"user-dnd",onDragStart:m,draggable:!0,children:[
/* @__PURE__ */C("img",{src:zo.user_proxy,alt:"User proxy icon",title:"User Proxy Agent"}),"User"]}),
/* @__PURE__ */w("div",{className:"dnd-area","data-testid":"assistant-dnd",onDragStart:h,draggable:!0,children:[
/* @__PURE__ */C("img",{alt:"Assistant agent icon",src:zo.assistant,title:"Assistant Agent"}),"Assistant"]}),
/* @__PURE__ */w("div",{className:"dnd-area","data-testid":"doc-dnd",onDragStart:f,draggable:!0,children:[
/* @__PURE__ */C("img",{alt:"Doc agent icon",src:zo.doc_agent,title:"Document Agent"}),"Docs Agent"]}),
/* @__PURE__ */w("div",{className:"dnd-area","data-testid":"reasoning-dnd",onDragStart:b,draggable:!0,children:[
/* @__PURE__ */C("img",{alt:"Reasoning agent icon",src:zo.reasoning,title:"Reasoning Agent"}),"Reasoning"]}),
/* @__PURE__ */w("div",{className:"dnd-area","data-testid":"captain-dnd",onDragStart:y,draggable:!0,children:[
/* @__PURE__ */C("img",{alt:"Captain agent icon",src:zo.captain,title:"Captain Agent"}),"Captain"]}),
/* @__PURE__ */w("div",{className:"dnd-area","data-testid":"group-manager-dnd",onDragStart:v,draggable:!0,children:[
/* @__PURE__ */C("img",{alt:"Group manager icon",src:zo.group_manager,title:"Group Manager Agent"}),"Group Manager"]})]})]}),
/* @__PURE__ */C("div",{className:"spacer"}),o&&/* @__PURE__ */C(MC,{flowId:a,isOpen:o,onClose:d})]})},DC=g(e=>{const{flowId:t,skipExport:a,skipImport:l,skipHub:c,chat:d,stepByStep:u}=e,p=o(null),g=o("agent"),[m,h]=i(!1),[f,b]=i(!1),[y,v]=i(!1),[x,A]=i(!1),I=al(e=>e.nodes),N=al(e=>e.edges),S=al(e=>e.isReadOnly),T=al(e=>e.viewport),E=al(e=>e.addModel),M=al(e=>e.addTool),R=al(e=>e.onViewportChange),D=al(e=>e.onFlowChanged),O=al(e=>e.showNodes),z=al(e=>e.onReconnect),_=al(e=>e.onSave),{isDark:V}=Zo(),H=n(()=>V?"dark":"light",[V]),W=!0===S,{onKeyDown:F}=Gl(t,_),{convertToPy:j,convertToIpynb:U,exportFlow:X,onExport:Z,onRun:J,onStepRun:Y,onFlowInit:q,onNodesChange:$,onEdgesChange:Q,onNodeDoubleClick:K,onEdgeDoubleClick:ee,onGetCheckpoints:te,onSetCheckpoint:ne}=(e=>{const t=al(e=>e.isReadOnly),a=al(e=>e.skipImport),o=al(e=>e.skipExport),i=!0===t,s=al(e=>e.checkpoints),l=al(e=>e.onRun),c=al(e=>e.onStepRun),d=al(e=>e.onConvert),u=al(e=>e.setRfInstance),p=al(e=>e.onNodesChange),g=al(e=>e.onEdgesChange),m=al(e=>e.onEdgeDoubleClick),h=al(e=>e.onNodeDoubleClick),f=al(e=>e.onFlowChanged),b=al(e=>e.getAgents),y=al(e=>e.getFlowEdges),v=al(e=>e.getFlowInfo),C=al(e=>e.exportFlow),w=r(t=>{const n=wn(e),r=i||!0===a&&!0===o,s=t.getNodes().length>0||t.getEdges().length>0;if(n){if(r){const e=n.querySelector(".react-flow__controls-interactive");e&&e.click()}s?requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.fitView({includeHiddenNodes:!1,padding:.2,duration:100}).then(()=>{u(t)})})}):(t.setViewport({x:0,y:0,zoom:1}).then(()=>{}),u(t))}else u(t)},[e,i,a,o,u]),x=r(e=>{i||p(e)},[i,p]),A=r(e=>{i||(g(e),f())},[i,g,f]),I=r((e,t)=>{i||m(e,t)},[i,m]),N=r((e,t)=>{if(i)return;const n=e.target;n instanceof Element&&"TEXTAREA"===n.tagName||h(e,t)},[i,h]),k=r(()=>{if(i)return!1;const t=b(),n=t.length;if(n<2)return Ms({flowId:e,message:(0===n?"No agents":"Only one agent")+" found in the flow",level:"error",details:void 0,duration:3e3}),!1;if(t.find(e=>"group_manager"===e.data.agentType))return!0;const{used:a,remaining:o}=y();return a.length>0&&0===o.length},[i,b,y,e]),S=r(e=>{if(!i&&d){const t=f(),{path:n}=v();d(JSON.stringify(t),"py",e||n)}},[i,f,d,v]),T=r(e=>{if(!i&&d){const t=f(),{path:n}=v();d(JSON.stringify(t),"ipynb",e||n)}},[i,f,d,v]),E=r(t=>{if(!i&&"function"==typeof l)if(k()){const e=f();if(e){const{path:n}=v();l(JSON.stringify(e),t||n)}}else{const t=`edit-flow-${e}-sidebar-button`,n=document.getElementById(t);n&&n.click()}},[i,l,k,f,v,e]),M=r((e,t,n)=>{if(i||"function"!=typeof c)return;const a=f();if(a){const{path:o}=v();c(JSON.stringify(a),e,t,n||o)}},[i,c,f,v]),R=r(async()=>{if(i||"function"!=typeof s?.get)return null;const e=v();try{return await s.get(e.name)}catch{return null}},[i,s,v]),D=r(async e=>{if(i||"function"!=typeof s?.set)return;const t=v();try{await s.set(t.name,e)}catch{}},[i,s,v]),O=r(async t=>{if(i)return;const{name:n}=v();await Xt(n,"flow",()=>C(!0,!1),()=>{Ms({flowId:e,message:"Could not export the flow",level:"error",details:void 0,duration:3e3})})},[i,v,C,e]);return n(()=>({convertToPy:S,convertToIpynb:T,exportFlow:C,onExport:O,onRun:E,onStepRun:M,onFlowInit:w,onNodesChange:x,onEdgesChange:A,onNodeDoubleClick:N,onEdgeDoubleClick:I,onGetCheckpoints:R,onSetCheckpoint:D}),[S,T,C,O,E,M,w,x,A,N,I,R,D])})(t),ae=r(()=>{!0!==u?.show&&(f||y||A(!0))},[f,y,u?.show]),oe=r(()=>{A(!1)},[]),re=r((e,t)=>{A(!1),Y(e,t)},[Y]),ie=r(()=>{y||f||x||J()},[y,f,x,J]);s(()=>{O("agent")},[O]);const se=r(e=>{g.current=e,h(e=>!e)},[]),le=r(()=>{y||x||b(!0)},[y,x]),ce=r(()=>{b(!1)},[]),de=r(()=>{v(!1)},[]),ue=r(e=>{g.current!==e&&se(e),O(e)},[se,O]),pe=r(()=>{"model"===g.current?(E(),D()):"tool"===g.current&&(M(),D())},[E,M,D]),ge=r(()=>{requestAnimationFrame(()=>{"agent"!==g.current&&(se("agent"),O("agent")),D()})},[se,O,D]),me=r(e=>{R(e,g.current)},[R]),he=r(async e=>{c?await Z(e):v(!0)},[c,Z]),fe=r(()=>{const e=X(!0,!1);return JSON.stringify(e)},[X]),be=r(async()=>await te(),[te]),ye=r(async e=>{await ne(e)},[ne]),{onDragOver:ve,onDrop:Ce,onNodeDrag:we,onNodeDragStop:xe}=(e=>{const{screenToFlowPosition:t,getIntersectingNodes:a}=k(),o=al(e=>e.addAgent),i=al(e=>e.setAgentGroup),s=al(e=>e.addGroupMember),l=al(e=>e.getRfInstance),c=al(e=>e.highlightNode),d=al(e=>e.clearNodeHighlight),u=r(e=>{if("agent"!==e.dataTransfer.getData("application/node"))return;const t=e.dataTransfer.getData("application/agent");return qn.includes(t)?t:void 0},[]),p=r(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",document.body.classList.add("dragging")},[]),g=r(e=>e.find(e=>"agent"===e.type&&"group_manager"===e.data.agentType),[]),m=r(e=>{const{x:t,y:n}=e,o={x:t,y:n,width:100,height:100};try{const e=a(o);if(e.length>0)return g(e)}catch(r){}},[a,g]),h=r(e=>{const t=l();if(!t)return;const n=t.getInternalNode(e.id);return n?.internals.positionAbsolute?{x:n.internals.positionAbsolute.x,y:n.internals.positionAbsolute.y}:void 0},[l]),f=r((e,n)=>{let a=t({x:e.clientX,y:e.clientY},{snapToGrid:!1});const o=n||m(a);if(o){const n=h(o);if(n){const o=t({x:e.clientX,y:e.clientY});a={x:o.x-n.x-50,y:o.y-n.y-50}}}return{position:a,parent:o}},[t,m,h]),b=r((e,t)=>{const{position:n,parent:a}=f(e),r=o(t,n,a?.id);return a&&(r.parentId=a.id,r.data.parentId=a.id,window.requestAnimationFrame(()=>{i(r.id,a.id)})),r},[f,o,i]),y=r(t=>{document.body.classList.remove("dragging");const n=u(t);n&&(t.preventDefault(),b(t,n),e())},[u,b,e]),v=r((e,t)=>{try{const e=a(t).filter(e=>"agent"===e.type&&"group_manager"===e.data.agentType);if(1===e.length)return e[0]}catch(n){}},[a]),C=r((e,t)=>{if(t.parentId||"group_manager"===t.data.agentType)d();else{const n=v(e,t);n?c(n.id):d()}},[v,c,d]),w=r((e,t)=>{if(!t.parentId&&"group_manager"!==t.data.agentType){const n=v(e,t);if(n){const{position:a}=f(e,n);s(n.id,t.id,a)}}d()},[v,f,s,d]);return n(()=>({onDragOver:p,onDrop:y,onNodeDrag:C,onNodeDragStop:w}),[p,y,C,w])})(ge),Ae=n(()=>I,[I]),Ie=n(()=>N,[N]);/* @__PURE__ */
return w("div",{className:`flow-wrapper ${H}`,id:`rf-root-${t}`,"data-flow-id":t,"data-testid":`rf-root-${t}`,children:[
/* @__PURE__ */w("div",{className:"flow-main",children:[
/* @__PURE__ */C(RC,{onSelectNodeType:ue,selectedNodeType:g.current,isReadonly:W}),
/* @__PURE__ */C("div",{className:"react-flow-wrapper","data-testid":`rf-wrapper-${t}`,ref:p,children:/* @__PURE__ */w(P,{id:t,nodeTypes:vC,edgeTypes:yC,onInit:q,nodes:Ae,edges:Ie,onNodesChange:$,onEdgesChange:Q,deleteKeyCode:[],onKeyDown:F,onNodeDoubleClick:K,onEdgeDoubleClick:ee,onReconnect:z,colorMode:H,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,snapToGrid:!0,defaultViewport:T,onDrop:Ce,onDragOver:ve,onViewportChange:me,connectOnClick:!0,zoomOnDoubleClick:!1,noWheelClassName:"no-wheel",width:p.current?.clientWidth,height:p.current?.clientHeight,onNodeDrag:we,onNodeDragStop:xe,children:[
/* @__PURE__ */C(L,{showInteractive:!0}),
/* @__PURE__ */C(wy,{flowId:t,skipExport:a,skipImport:l,skipHub:c,selectedNodeType:g.current,onAddNode:pe,onRun:ie,onStepRun:ae,onConvertToPy:j,onConvertToIpynb:U,onOpenImportModal:le,onExport:he}),
/* @__PURE__ */C("div",{className:"hidden","data-testid":`drop-area-${t}`}),
/* @__PURE__ */C(B,{variant:G.Dots})]})})]}),
/* @__PURE__ */C(uy,{flowId:t,stepByStep:u,isDarkMode:V}),
/* @__PURE__ */C(Kb,{flowId:t,chat:d,isDarkMode:V}),f&&/* @__PURE__ */C(dy,{flowId:t,isOpen:f,onClose:ce,typeShown:g.current,onTypeShownChange:ue}),y&&/* @__PURE__ */C(ty,{flowId:t,isOpen:y,onClose:de,onDownload:Z,onExport:fe}),x&&/* @__PURE__ */C(by,{flowId:t,onClose:oe,onStart:re,darkMode:V,getCheckpoints:be,setCheckpoint:ye})]})});DC.displayName="WaldiezFlowView";const OC=e=>{const t=e.flowId??`wf-${Zt()}`,n="boolean"==typeof e.skipImport&&e.skipImport,a="boolean"==typeof e.skipExport&&e.skipExport,o="boolean"==typeof e.skipHub&&e.skipHub,r=e.nodes??[],i=e.edges??[],l=e.readOnly??!1,{monacoVsPath:c,chat:d,stepByStep:u}=e;return s(()=>{LC(),BC(),window.localStorage.removeItem(`snackbar-${t}.lock`)},[t]),s(()=>{c&&V.config({paths:{vs:c}})},[c]),/* @__PURE__ */C(Os,{children:/* @__PURE__ */C(Ko,{children:/* @__PURE__ */C(os,{fallbackRender:PC,children:/* @__PURE__ */C(xs,{initiallyActiveScopes:[t],children:/* @__PURE__ */C(z,{children:/* @__PURE__ */C(wC,{children:/* @__PURE__ */C(Bl,{...e,flowId:t,nodes:r,edges:i,isReadOnly:l,skipImport:n,skipExport:a,children:/* @__PURE__ */C(DC,{flowId:t,skipImport:n,skipExport:a,skipHub:o,chat:d,stepByStep:u})})})})})})})})},PC=e=>{const{error:t}=e;/* @__PURE__ */
return C(Ts,{error:t})},LC=()=>{const e=Jo();Yo(e)},BC=()=>{if(!document.body.classList.contains("waldiez-sidebar-collapsed")&&!document.body.classList.contains("waldiez-sidebar-expanded")){if(window.matchMedia("(prefers-sidebar: collapsed)").matches)document.body.classList.add("waldiez-sidebar-collapsed");else{window.matchMedia("(max-width: 768px)").matches?document.body.classList.add("waldiez-sidebar-collapsed"):document.body.classList.add("waldiez-sidebar-expanded")}}},GC=e=>{const t=Yi.importFlow(e);return Yi.toReactFlow(t)},zC=(e,t=!0,n=!0)=>{const a=Yi.importFlow(e);return Yi.exportFlow(Yi.toReactFlow(a),t,n)};export{st as WORKFLOW_CHAT_END_MARKERS,it as WORKFLOW_DONE,on as WORKFLOW_STEP_END_MARKERS,rn as WORKFLOW_STEP_MARKERS,an as WORKFLOW_STEP_START_MARKERS,OC as Waldiez,xn as WaldiezBreakpointUtils,Ot as WaldiezChatMessageProcessor,dn as WaldiezStepByStepProcessor,In as WaldiezStepByStepUtils,OC as default,Bt as defaultChatConfig,zC as exportFlow,GC as importFlow,Ms as showSnackbar,zt as useWaldiezChat,vn as useWaldiezMessaging,yn as useWaldiezStepByStep,_t as useWaldiezWs,Vt as useWaldiezWsChat,Cn as useWaldiezWsMessaging,An as useWaldiezWsStepByStep};
